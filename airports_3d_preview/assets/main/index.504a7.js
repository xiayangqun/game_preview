System.register("chunks:///_virtual/AdapterBase.ts",["cc"],(function(n){var o,t;return{setters:[function(n){o=n.cclegacy,t=n.warn}],execute:function(){o._RF.push({},"df59f5pfXZAUJeLT1J51sr+","AdapterBase",void 0);n("AdapterBase",function(){function n(){this._cb=null}var o=n.prototype;return o.showVideo=function(n,o){o&&o(!0,"非特定平台直接给奖励")},o.showBanner=function(n){console.log("显示banner")},o.hideBanner=function(n){console.log("隐藏baner")},o.inViewBanner=function(){console.log("banner 进入视野")},o.outViewBanner=function(){console.log("banner 移除视野")},o.showInterstitialAd=function(n){console.log("显示插屏广告")},o.showGridAd=function(){console.log("显示格子广告")},o.share=function(n,o){console.log("开始拉起分享了"),n&&n(!0)},o.showGameBanner=function(n){},o.hideGameBanner=function(n){},o.showGameIcon=function(n){},o.hideGameIcon=function(n){},o.showGameClub=function(n){},o.showCustomAd=function(n){},o.hideCustomAd=function(n){},o.hadShareAbility=function(){return!0},o.hadCollectAbility=function(){return!0},o.hadNativeAdInfo=function(){return t("hadNativeAdInfo 未实现"),!1},o.trackEvent=function(n,o){console.log("事件追踪",n,o)},o.tryShortcutIndesktop=function(n){n&&n(!0),console.log("尝试添加图标到桌面")},o.getNativeAdInfo=function(n){return null},o.tryLoadNativeAdInfo=function(n){},o.hadRecordAbility=function(){return!1},o.startRecord=function(){},o.endRecord=function(){},o.isRecording=function(){return!1},o.shareRecordVideo=function(n){n&&n(!0)},o.needPrivacyAgreement=function(){return!1},o.vibrateShort=function(n){},o.triggerGC=function(){console.log("触发了gc")},o.exitGame=function(){},o.getSid=function(){return""},n}());o._RF.pop()}}}));

System.register("chunks:///_virtual/AdapterBD.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlatformConfig.ts","./PlatformNotify.ts","./AdapterBase.ts"],(function(e){var t,n,i,o,r,s,a;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator,o=e.view},function(e){r=e.PlatformConfig},function(e){s=e.PlatformNotify},function(e){a=e.AdapterBase}],execute:function(){n._RF.push({},"35016UohblOpoYyUSs/v/KR","AdapterBD",void 0);i.ccclass,i.property,e("AdapterBD",function(e){function n(){var t;return(t=e.call(this)||this)._video=null,t._banner=null,t._bannerWidth=.7,t._initOther(),t._createVideo(),console.log("AdapterBD 初始化成功了"),t}t(n,e);var i=n.prototype;return i._initOther=function(){window.swan.showShareMenu({}),window.swan.onShareAppMessage((function(){return{title:r.bd.shareTitle,imageUrl:r.bd.shareImageUrl}}))},i._createVideo=function(){var e=this;if(!r.bd.videoId)return console.log("PlatformConfig.bd.videoId 的配置为空。跳过创建video广告");this._video=swan.createRewardedVideoAd({adUnitId:r.bd.videoId,appSid:r.bd.appSid}),this._video.onLoad((function(){console.log("激励视频 广告加载成功")})),this._video.onError((function(e){console.log("激励视频 广告加载失败",e)})),this._video.onClose((function(t){t&&t.isEnded||void 0===t?(e._cb&&e._cb(!0),e._cb=null):(e._cb&&e._cb(!1,"观看完整视频广告才能获得奖励"),e._cb=null),s.postNotice(s.BGM_SWITCH,!0)}))},i.showVideo=function(e,t){var n=this;this._cb=t;var i=this._video;if(null==i)return this._createVideo(),this._cb&&this._cb(!1,"暂无广告"),this._cb=null,console.log("视频广告不存在,现在开始创建，本次不不会展示");var o=i.show();o&&o.then((function(){s.postNotice(s.BGM_SWITCH,!1)})).catch((function(e){i.load().then((function(){s.postNotice(s.BGM_SWITCH,!1),i.show()})).catch((function(){n._cb&&n._cb(!1,"暂无广告"),n._cb=null}))}))},i._createBanner=function(){if(!r.bd.bannerId)return console.log("PlatformConfig.bd.bannerId 不存在，不创建Banner");var e=o.getVisibleSize(),t=swan.createBannerAd({adUnitId:r.bd.bannerId,appSid:r.bd.appSid,style:n.convertToBDStyle(e.width/2,50,e.width*this._bannerWidth,100)});t.onLoad((function(){console.log("banner 广告加载成功")})),t.onError((function(e){console.log("banner 加载失败",e)})),t.onResize((function(e){console.log(e.width,e.height),console.log(t.style.realWidth,t.style.realHeight);var n=window.swan.getSystemInfoSync(),i=n.screenWidth,o=n.screenHeight;Math.abs(o-t.style.realHeight-t.style.top)>=5&&(t.style.top=o-t.style.realHeight,console.log("screenHeight realHeight top",o,t.style.realHeight,t.style.top)),Math.abs((i-t.style.realWidth)/2-t.style.left)>=5&&(t.style.left=(i-t.style.realWidth)/2)})),this._banner=t},i.showBanner=function(e){var t=this;null==this._banner&&(this._createBanner(),setTimeout((function(){t.showBanner(e)}),2));var i=e.width||this._bannerWidth;if(i!=this._bannerWidth){this._bannerWidth=i;var r=o.getVisibleSize(),a=n.convertToBDStyle(r.width/2,50,r.width*i,100);this._banner.style=a,setTimeout((function(){t._banner.show().then((function(){var e=window.swan.getSystemInfoSync(),n=(e.screenWidth,e.screenHeight),i=o.getVisibleSize().height/n,r=t._banner.style.height*i;s.postNotice(s.BANNER_SHOW_HEIGHT,{height:r})}))}),2e3)}else this._banner.show().then((function(){var e=window.swan.getSystemInfoSync(),n=(e.screenWidth,e.screenHeight),i=o.getVisibleSize().height/n,r=t._banner.style.height*i;s.postNotice(s.BANNER_SHOW_HEIGHT,{height:r})})),console.log(this._banner)},i.hideBanner=function(e){e.tryDestroy?(this._banner&&(this._banner.destroy(),this._banner=null),this._createBanner()):this._banner&&this._banner.hide(),s.postNotice(s.BANNER_SHOW_HEIGHT,{height:0})},n.convertToBDStyle=function(e,t,n,i){var r=window.swan.getSystemInfoSync(),s=(r.screenWidth,r.screenHeight),a=o.getVisibleSize().height/s,h=n/a,l=i/a;return{left:e/a-h/2,top:s-t/a-l/2,width:h,height:l}},i.share=function(e,t){swan.shareAppMessage({title:r.bd.shareTitle,imageUrl:r.bd.shareImageUrl}),setTimeout((function(){Math.random()>.7?e&&e(!1,"请分享给不同的好友"):e&&e(!0),e=null}),2e3)},i.hadShareAbility=function(){return!0},i.hadCollectAbility=function(){return!1},n}(a));n._RF.pop()}}}));

System.register("chunks:///_virtual/AdapterHW.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utils.ts","./PlatformConfig.ts","./PlatformNotify.ts","./AdapterBase.ts"],(function(n){var t,o,e,i,a,s,c,r,l,f,u;return{setters:[function(n){t=n.inheritsLoose},function(n){o=n.cclegacy,e=n._decorator,i=n.find,a=n.instantiate,s=n.UITransform,c=n.Prefab},function(n){r=n.Utils},function(n){l=n.PlatformConfig},function(n){f=n.PlatformNotify},function(n){u=n.AdapterBase}],execute:function(){o._RF.push({},"bf42d3OcVJKOZn8D/US55jn","AdapterHW",void 0);e.ccclass,e.property,n("AdapterHW",function(n){function o(){var t;return(t=n.call(this)||this)._video=null,t._nativesMap={},t._nativeLoadAsyncCbMap={},t._transactionId="",t._initOther(),t._createVideo(),t._createNative(),console.log("AdapterHW 初始化成功了"),t}t(o,n);var e=o.prototype;return e._initOther=function(){var n=this;hbs.gameLoginWithReal({forceLogin:0,appid:"103763547",complete:function(){}}),hbs.onShow((function(){""===n._transactionId&&(console.log("onShow"),hbs.submitPlayerEvent({eventType:"GAMEBEGIN",eventId:dayjs().unix().toString(),success:function(t){console.log("游戏onShow上报成功了"),n._transactionId=t.transactionId},fail:function(n,t){console.log("游戏onShow上报失败了",n,t)}}),f.postNotice(f.ON_SHOW,null))})),hbs.onHide((function(){""!=n._transactionId&&(console.log("onHide"),hbs.submitPlayerEvent({eventType:"GAMEEND",eventId:n._transactionId,success:function(t){console.log("游戏onHide上报结束成功了"),n._transactionId=""},fail:function(n,t){console.log("游戏onHide上报失败了",n,t)}}),f.postNotice(f.ON_HIED,null))})),setInterval((function(){hbs.getPlayerExtraInfo({transactionId:n._transactionId,success:function(){},fail:function(){}})}),9e5),hbs.requestConsentUpdate&&hbs.requestConsentUpdate({success:function(n){consolg.log("询问用户意见状态",JSON.stringify(n));var t=n.consentStatus;hbs.setConsentStatus(t);n.isNeedConsent},fail:function(n){console.log("requestConsentUpdate fail data "+JSON.stringify(n))},complete:function(){}})},e._createVideo=function(){var n=this;this._video=hbs.createRewardedVideoAd({adUnitId:l.hw.videoId,success:function(){console.log("video创建成功"),n._video.load()},fail:function(n){console.log("video创建失败",n)}}),this._video.onLoad((function(){console.log("video onLoad")})),this._video.onError((function(n){console.log("video onError"+JSON.stringify(n))})),this._video.onClose((function(t){t.isEnded?n._cb&&n._cb(!0):n._cb&&n._cb(!1,"观看完整视频广告才能获得奖励"),n._video.load()}))},e.showVideo=function(n,t){var o=this;this._cb=t;var e=this._video;if(null==e)return this._createVideo(),this._cb&&this._cb(!1,"暂无广告"),this._cb=null,console.log("视频广告不存在,现在开始创建，本次不不会展示");var i=e.show();i&&i.catch((function(n){e.load().then((function(){e.show()}),(function(){o._cb&&o._cb(!1,"暂无广告"),o._cb=null}))}))},e.showBanner=function(n){var t=this;this.getNativeAdInfo({asyncCb:function(n){if(n){var o=i("Canvas/nativeBanner");o?(o.active=!0,o.getComponent("NativeBannerCtrl").init(n),f.postNotice(f.BANNER_SHOW_HEIGHT,{height:102})):t.getNativeBannerPrefab((function(t){if(t&&!i("Canvas/nativeBanner")){var o=a(t);o.getComponent(s).height=102,o.getComponent("NativeBannerCtrl").init(n),o.parent=i("Canvas"),f.postNotice(f.BANNER_SHOW_HEIGHT,{height:102})}}))}else console.log("没有拉取到native的数据，所以banner不显示了")},pos:"banner"})},e.hideBanner=function(n){var t=i("Canvas/nativeBanner");t&&(n.tryDestroy?t.destroy():t.active=!1,this.tryLoadNativeAdInfo())},e.getNativeBannerPrefab=function(n){if(this._nativeBannerPrefab)return n(this._nativeBannerPrefab);r.loadResWithCorrection("Platform/prefab/nativeBanner",c,(function(t,o){return n(t?null:o)}))},e._createNative=function(){var n=this,t=l.hw.nativeIds,o=function(o){var e=t[o];console.log("开始创建native",e);var i=hbs.createNativeAd({adUnitId:e,success:function(){console.log("native创建成功",o)},fail:function(n,t){console.log("native创建失败",n,t,o)}});i.onLoad((function(t){console.log("native load成功 "+JSON.stringify(t),o);var e=t.adList;if(e&&e[0]){var a={native:i,info:t.adList[0]};n._nativeLoadAsyncCbMap[o]&&n._nativeLoadAsyncCbMap[o](a),n._nativeLoadAsyncCbMap[o]=null}else n._nativeLoadAsyncCbMap[o]&&n._nativeLoadAsyncCbMap[o](null),n._nativeLoadAsyncCbMap[o]=null})),i.onError((function(t){console.log("native load失败"+JSON.stringify(t),o),n._nativeLoadAsyncCbMap[o]&&n._nativeLoadAsyncCbMap[o](null),n._nativeLoadAsyncCbMap[o]=null})),n._nativesMap[o]=i};for(var e in t)o(e)},e.getNativeAdInfo=function(n){var t=n.pos,o=n.asyncCb;this._nativeLoadAsyncCbMap[t]=o,this._nativesMap[t].load(),console.log("开始拉取原生的广告了")},e.tryLoadNativeAdInfo=function(){console.log("华为原生不允许预加载")},e.share=function(n,t){hbs.serviceShare({shareType:0,imagePath:"//image/icon.png",title:"化身上帝，打造宇宙。一切尽在《捏出个宇宙鸭》",success:function(t){n(!0)},fail:function(t,o){n(!1,"分享取消")},cancel:function(){console.info(" share cancel")}})},e.hadShareAbility=function(){return!1},e.hadCollectAbility=function(){return!0},e.tryShortcutIndesktop=function(n){hbs.hasInstalled({success:function(t){t?n&&n(!1,"桌面图标已经存在"):hbs.install({message:"添加游戏图标到桌面即可获得奖励哦",success:function(){n&&n(!0)},fail:function(){n&&n(!1,"添加桌面取消")}})}})},e.needPrivacyAgreement=function(){return!0},e.exitGame=function(){hbs.exitApplication({})},o}(u));o._RF.pop()}}}));

System.register("chunks:///_virtual/AdapterMZ.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utils.ts","./PlatformConfig.ts","./PlatformNotify.ts","./AdapterBase.ts"],(function(t){var n,e,i,o,r,a,s,l,c;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator,o=t.view,r=t.Prefab},function(t){a=t.Utils},function(t){s=t.PlatformConfig},function(t){l=t.PlatformNotify},function(t){c=t.AdapterBase}],execute:function(){e._RF.push({},"a947aIUzl1GtYVmqup6lUmr","AdapterMZ",void 0);i.ccclass,i.property,t("AdapterMZ",function(t){function e(){var n;return(n=t.call(this)||this)._video=null,n._banner=null,n._nativeBannerPrefab=null,n._native=null,n._bannerNative=null,n._interstitial=null,n._cb=null,n._createVideo(),n._createBanner(),n._createNative(),n._createInterstitial(),console.log("AdapterMZ 构造成功"),n}n(e,t);var i=e.prototype;return i._createVideo=function(){var t=this;this._video=qg.createRewardedVideoAd({adUnitId:s.mz.videoId}),this._video.onLoad((function(){console.log("video onLoad"),t._video.show()})),this._video.onError((function(n){console.log("video onError",n),t._cb&&t._cb(!1,"暂无广告"),t._cb=null})),this._video.onClose((function(n){console.log("video onClose",n),t._cb&&t._cb(!0,null),t._cb=null}))},i.showVideo=function(t,n){this._cb=n,this._video.load()},i._createBanner=function(){var t=this;if(!s.mz.bannerId)return console.log("bannerId为空，不执行banner");var n=o.getVisibleSize(),i=e.convertToMZStyle(n.width/2,50,n.width,100);this._banner=qg.createBannerAd({adUnitId:s.mz.bannerId,style:i}),this._banner.onClose((function(){console.log("banner 被关闭了，需要重新创建"),l.postNotice(l.NATIVE_BANNER_CLOSE_BY_USER,null),t._banner=null})),this._banner.onLoad((function(){console.log("banner onLoad")})),this._banner.onError((function(t){console.log("banner onError",t)})),this._banner.onResize((function(n){console.log("banner onResize",n,t._banner);var e=t._banner.style,i=window.qg.getSystemInfoSync(),o=i.screenWidth,r=i.screenHeight;(Math.abs(o-(e.width+2*e.left))>=5||Math.abs(r-e.top-e.height)>=5)&&(t._banner.style.left=(o-e.width)/2,t._banner.style.top=r-e.height)}))},i.hadShareAbility=function(){return!1},i.hadCollectAbility=function(){return!0},i.getNativeBannerPrefab=function(t){if(this._nativeBannerPrefab)return t(this._nativeBannerPrefab);a.loadResWithCorrection("Platform/prefab/nativeBanner",r,(function(n,e){return t(n?null:e)}))},i.showBanner=function(t){this._showDefaultBanner()},i._showDefaultBanner=function(){var t=this,n=window.qg.getSystemInfoSync(),e=(n.screenWidth,n.screenHeight),i=o.getVisibleSize().height/e;this._banner?(this._banner.show(),l.postNotice(l.BANNER_SHOW_HEIGHT,{height:this._banner.style.height*i})):(this._createBanner(),setTimeout((function(){t._showDefaultBanner()}),2e3))},i.hideBanner=function(t){this._banner&&(t.tryDestroy?(this._banner.destroy(),this._banner=null,this._createBanner()):this._banner.hide()),l.postNotice(l.BANNER_SHOW_HEIGHT,{height:0})},i._createNative=function(){if(!s.mz.nativeId)return console.log("mz的nativeId不存在，跳过");this._native=this.__createNativeWithId(s.mz.nativeId)},i.__createNativeWithId=function(t){var n=qg.createNativeAd({adUnitId:t});return console.log("native 创建成功",t),n.onLoad((function(t){console.log("native onLoad",t),n.adList=t.adList,l.postNotice(l.NATIVE_AD_LOADED,null)})),n.onError((function(t){console.log("native onError",t)})),setTimeout((function(){n.load()}),5e3),n},i.hadNativeAdInfo=function(){var t=this._native;return!!(t.adList&&t.adList.length>0)||(this.tryLoadNativeAdInfo({}),!1)},i.getNativeAdInfo=function(t){var n=this._native;if(n.adList&&n.adList.length>0){var e=n.adList.shift(),i={native:n,info:e};return console.log("消耗了native info",e),i}return null},i.tryLoadNativeAdInfo=function(t){var n=this._native;n.adList&&0!=n.adList.length||n.load()},i._createInterstitial=function(){var t=this;this._interstitial=qg.createInsertAd({adUnitId:s.mz.interstitialId}),this._interstitial.onLoad((function(){t._interstitial.show()})),this._interstitial.onError((function(t){console.log("_interstitial onError",t)}))},i.showInterstitialAd=function(){this._interstitial||this._createInterstitial(),this._interstitial.load()},i.tryShortcutIndesktop=function(t){qg.hasShortcutInstalled({success:function(n){0==n?qg.installShortcut({success:function(){t(!0)},fail:function(e){t(!1,"创建图标失败了"),console.log("installShortcut fail",n)},complete:function(){}}):t(!1,"桌面图标已经存在了")},fail:function(t){},complete:function(){}})},e.convertToMZStyle=function(t,n,e,i){var r=window.qg.getSystemInfoSync(),a=(r.screenWidth,r.screenHeight),s=o.getVisibleSize().height/a,l=e/s,c=i/s;return{left:t/s-l/2,top:a-n/s-c/2,width:l,height:c}},e}(c));e._RF.pop()}}}));

System.register("chunks:///_virtual/AdApterOppo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utils.ts","./PlatformConfig.ts","./PlatformNotify.ts","./AdapterBase.ts","./NativeNodeCtrl.ts","./NativeBannerCtrl.ts"],(function(t){var n,e,i,o,a,r,s,c,l,h,v,d,f;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator,o=t.view,a=t.Prefab,r=t.find,s=t.instantiate},function(t){c=t.Utils},function(t){l=t.PlatformConfig},function(t){h=t.PlatformNotify},function(t){v=t.AdapterBase},function(t){d=t.NativeNodeCtrl},function(t){f=t.NativeBannerCtrl}],execute:function(){var u;e._RF.push({},"80560L5Q05DJoIKWnahSbhV","AdApterOppo",void 0);var _=i.ccclass;i.property,t("AdApterOppo",_("AdApterOppo")(u=function(t){function e(){var n;return(n=t.call(this)||this)._video=null,n._videoPlayTimeStamp=0,n._banner=null,n._nativeBannerPrefab=null,n._interstitialNative=null,n._bannerNative=null,n._crossSceneNativeBannerData=null,n._cb=null,qg.loadingComplete({complete:function(){}}),qg.setLoadingProgress({progress:100}),n._createVideo(),n._createBanner(),n._createNative(),n}n(e,t);var i=e.prototype;return i._createVideo=function(){var t=this;this._video=qg.createRewardedVideoAd({adUnitId:l.oppo.videoId}),this._video.onLoad((function(){console.log("video onLoad")})),this._video.onError((function(t){console.log("video onError",t)})),this._video.onClose((function(n){console.log("video onClose",n),n.isEnded?(t._cb&&t._cb(!0,null),t._cb=null):t._cb&&t._cb(!1,"观看完整视频才能获得奖励"),t._video.load()})),this._video.load()},i.showVideo=function(t,n){var e=this,i=dayjs().valueOf();if(i-this._videoPlayTimeStamp<=2e3)console.log("视频按钮点击过快，本次展示要求忽略");else{this._cb=n,this._videoPlayTimeStamp=i;var o=this._video.show();o&&o.catch((function(){e._video.load().then((function(){e._video.show()})).catch((function(){e._cb&&e._cb(!1,"暂无广告")}))}))}},i._createBanner=function(){var t=this;if(!l.oppo.bannerId)return console.log("bannerId为空，不执行banner");var n=o.getVisibleSize(),i=e.convertToOppoStyle(n.width/2,50,n.width,100);this._banner=qg.createBannerAd({adUnitId:l.oppo.bannerId,style:i}),this._banner.onLoad((function(){console.log("banner onLoad")})),this._banner.onError((function(t){console.log("banner onError",t)})),this._banner.onResize((function(n){console.log("banner onResize",n,t._banner);var e=t._banner.style,i=window.qg.getSystemInfoSync(),o=i.screenWidth,a=i.screenHeight;(Math.abs(o-(e.width+2*e.left))>=5||Math.abs(a-e.top-e.height)>=5)&&(t._banner.style.left=(o-e.width)/2,t._banner.style.top=a-e.height)}))},i.getNativeBannerPrefab=function(t){if(this._nativeBannerPrefab)return t(this._nativeBannerPrefab);c.loadResWithCorrection("Platform/prefab/nativeBanner",a,(function(n,e){return t(n?null:e)}))},i.showBanner=function(t){var n=this;if(!d.instance)if("native"==t.type){var e=this.getNativeAdInfo({pos:"banner"});e?this._showNativeBanner(e):(console.log("native 没有填充。所以尝试再次填充"),this.tryLoadNativeAdInfo({pos:"banner"}),setTimeout((function(){if(!d.instance){var t=n.getNativeAdInfo({pos:"banner"});t?n._showNativeBanner(t):(console.log("native 实时的填充也没有拉取到。所以暂时显示一下普通的Banner"),n._showDefaultBanner(),setTimeout((function(){n.tryLoadNativeAdInfo({pos:"banner"})}),1e4))}}),2500))}else"crossScene"==t.type?this._crossSceneNativeBannerData&&this._showNativeBanner(this._crossSceneNativeBannerData,!0):this._showDefaultBanner()},i._showNativeBanner=function(t,n){if(void 0===n&&(n=!1),!d.instance){this._crossSceneNativeBannerData=t;var e,i=r("Canvas/nativeBanner");if(i)i.active=!0,null==(e=i.getComponent(f))||e.init(t,n),h.postNotice(h.BANNER_SHOW_HEIGHT,{height:200});else this.getNativeBannerPrefab((function(e){var i;if(e&&!d.instance&&!r("Canvas/nativeBanner")){var o=s(e);o.parent=r("Canvas"),null==(i=o.getComponent(f))||i.init(t,n),h.postNotice(h.BANNER_SHOW_HEIGHT,{height:200})}}))}},i._showDefaultBanner=function(){var t=this;if(!d.instance){var n=window.qg.getSystemInfoSync(),e=(n.screenWidth,n.screenHeight),i=o.getVisibleSize().height/e;this._banner?(this._banner.show(),h.postNotice(h.BANNER_SHOW_HEIGHT,{height:this._banner.style.height*i})):(this._createBanner(),setTimeout((function(){t._showDefaultBanner()}),2e3))}},i.hideBanner=function(t){var n=r("Canvas/nativeBanner");n&&(t.tryDestroy?n.destroy():n.active=!1,this._crossSceneNativeBannerData=null,this.tryLoadNativeAdInfo({pos:"banner"})),this._banner&&(t.tryDestroy?(this._banner.destroy(),this._banner=null,this._createBanner()):this._banner.hide()),h.postNotice(h.BANNER_SHOW_HEIGHT,{height:0})},e.convertToOppoStyle=function(t,n,e,i){var a=window.qg.getSystemInfoSync(),r=(a.screenWidth,a.screenHeight),s=o.getVisibleSize().height/r,c=e/s,l=i/s;return{left:t/s-c/2,top:r-n/s-l/2,width:c,height:l}},i.hadShareAbility=function(){return!1},i.hadCollectAbility=function(){return!0},i.tryShortcutIndesktop=function(t){qg.hasShortcutInstalled({success:function(n){0==n?qg.installShortcut({success:function(){t(!0)},fail:function(e){t(!1,"创建图标失败了"),console.log("installShortcut fail",n)},complete:function(){}}):t(!1,"桌面图标已经存在了")},fail:function(t){},complete:function(){}})},i._createNative=function(){this._interstitialNative=this.__createNativeWithId(l.oppo.nativeIds.interstitial),this._bannerNative=this.__createNativeWithId(l.oppo.nativeIds.banner)},i.__createNativeWithId=function(t){var n=qg.createNativeAd({adUnitId:t});return n.onLoad((function(e){console.log("native onLoad",e,t),n.adList=e.adList,h.postNotice(h.NATIVE_AD_LOADED,null)})),n.onError((function(n){console.log("natve onError",n,t)})),n.load(),n},i.getNativeAdInfo=function(t){var n="interstitial"==t.pos?this._interstitialNative:this._bannerNative;if(n.adList&&n.adList.length>0){var e=n.adList.shift(),i={native:n,info:e};return console.log("消耗了native info",e),i}return null},i.tryLoadNativeAdInfo=function(t){var n="interstitial"==t.pos?this._interstitialNative:this._bannerNative;n.adList&&0!=n.adList.length||(n.load(),console.log("native 开始拉取",t.pos))},i.vibrateShort=function(t){qg.vibrateShort({})},i.exitGame=function(){qg.exitApplication({})},e}(v))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/AdapterQQ.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlatformConfig.ts","./PlatformNotify.ts","./AdapterBase.ts"],(function(e){var t,n,i,o,r,s;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e.view},function(e){o=e.PlatformConfig},function(e){r=e.PlatformNotify},function(e){s=e.AdapterBase}],execute:function(){n._RF.push({},"0c5f75rwnVKfIzmvdd2WiNn","AdapterQQ",void 0);e("AdapterQQ",function(e){function n(){var t;return(t=e.call(this)||this)._video=null,t._bottomBanner=null,t._ruinsBanner=null,t._bannerWidth=.8,t._interstitial=null,t._grid=null,t._gameBanner=null,t._gameBannerBottomBorder=-1,t._gameBannerTopBorder=-1,t._gameIcon=null,t._gameIconLeftBorder=-1,t._gameIconBottomBorder=-1,t._gameClubButton=null,t._customAd=null,t._initOther(),t._createVideo(),t._createBanner(),t._createInterstitialAd(),console.log("AdapterQQ 初始化成功了"),t}t(n,e);var s=n.prototype;return s._initOther=function(){window.qq.showShareMenu({withShareTicket:!0,menus:["qq","qzone","wechatFriends","wechatMoment"]}),window.qq.onShareAppMessage((function(){return{title:"化身上帝，建造宇宙，快来试试吧",imageUrl:"share.png"}}))},s._createVideo=function(){var e=this;if(!o.qq.videoId)return console.log("PlatformConfig.qq.videoId 的配置为空。跳过创建video广告");this._video=qq.createRewardedVideoAd({adUnitId:o.qq.videoId}),this._video.onLoad((function(){console.log("激励视频 广告加载成功")})),this._video.onError((function(e){console.log("激励视频 广告加载失败",e)})),this._video.onClose((function(t){t&&t.isEnded?(e._cb&&e._cb(!0),e._cb=null):(e._cb&&e._cb(!1,"观看完整视频广告才能获得奖励"),e._cb=null)}))},s.showVideo=function(e,t){var n=this;this._cb=t;var i=this._video;if(null==i)return this._createVideo(),this._cb&&this._cb(!1,"暂无广告"),this._cb=null,console.log("视频广告不存在,现在开始创建，本次不不会展示");var o=i.show();o&&o.catch((function(e){i.load().then((function(){i.show()}),(function(){n._cb&&n._cb(!1,"暂无广告"),n._cb=null}))}))},s._createBanner=function(){for(var e=this,t=["_bottomBanner","_ruinsBanner"],r=[o.qq.bottomBannerId,o.qq.ruinsBannerId],s=i.getVisibleSize(),c=function(){if(e[t[h]])return 1;var i=qq.createBannerAd({adUnitId:r[h],adIntervals:30,style:n.convertToQQStyle(s.width/2,62,s.width*e._bannerWidth,124)});i.onLoad((function(){console.log("banner 广告加载成功")})),i.onError((function(e){console.log("banner 加载失败",e)})),i.onResize((function(e){console.log("onResize",e),i.style.width=e.width,i.style.height=e.height,console.log(i.style.width,i.style.height);var t=window.qq.getSystemInfoSync(),n=t.screenWidth,o=t.screenHeight;Math.abs(o-i.style.height-i.style.top)>=5&&(i.style.top=o-i.style.height,console.log("screenHeight height top",o,i.style.height,i.style.top)),Math.abs((n-i.style.width)/2-i.style.left)>=5&&(i.style.left=(n-i.style.width)/2)})),e[t[h]]=i},h=0;h<t.length;h++)c()},s.showBanner=function(e){var t=this,o=null;null==this[o=e.location?"_"+e.location+"Banner":"_bottomBanner"]&&(this._createBanner(),setTimeout((function(){t.showBanner(e)}),2));var s=e.width||this._bannerWidth;if(s!=this._bannerWidth){this._bannerWidth=s;var c=i.getVisibleSize(),h=n.convertToQQStyle(c.width/2,62,c.width*s,124);this[o].style=h,setTimeout((function(){t[o].show();var e=window.qq.getSystemInfoSync(),n=(e.screenWidth,e.screenHeight),s=i.getVisibleSize().height/n,c=t[o].style.height*s;r.postNotice(r.BANNER_SHOW_HEIGHT,{height:c})}),2e3)}else{this[o].show();var a=window.qq.getSystemInfoSync(),l=(a.screenWidth,a.screenHeight),d=i.getVisibleSize().height/l,u=this[o].style.height*d;r.postNotice(r.BANNER_SHOW_HEIGHT,{height:u}),console.log(this[o])}},s.hideBanner=function(e){var t=null;t=e.location?"_"+e.location+"Banner":"_bottomBanner",e.tryDestroy?(this[t]&&(this[t].destroy(),this[t]=null),this._createBanner()):this[t]&&this[t].hide(),r.postNotice(r.BANNER_SHOW_HEIGHT,{height:0})},s._createInterstitialAd=function(){},s.showInterstitialAd=function(e){},s._createGridAd=function(){},s.showGridAd=function(){},n.convertToQQStyle=function(e,t,n,i){var o=window.qq.getSystemInfoSync(),r=(o.screenWidth,o.screenHeight),s=cc.view.getVisibleSize().height/r,c=n/s,h=i/s;return{left:e/s-c/2,top:r-t/s-h/2,width:c,height:h}},s.trackEvent=function(e,t){},s.showGameBanner=function(e){},s.hideGameBanner=function(e){},s.showGameIcon=function(e){},s.hideGameIcon=function(e){},s.share=function(e,t){qq.shareAppMessage({title:"化身上帝，建造宇宙，快来试试吧",imageUrl:"share.png"}),setTimeout((function(){Math.random()>.7?e&&e(!1,"请分享给不同的好友"):e&&e(!0),e=null}),2e3)},s.showGameClub=function(e){n.convertToQQStyle(e.center.x,e.center.y,e.size,e.size)},s.showCustomAd=function(e){},s.hideCustomAd=function(){},s.hadShareAbility=function(){return!0},s.hadCollectAbility=function(){return!0},n}(s));n._RF.pop()}}}));

System.register("chunks:///_virtual/AdapterTT.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlatformConfig.ts","./PlatformNotify.ts","./AdapterBase.ts"],(function(t){var e,n,i,o,r,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t.view},function(t){o=t.PlatformConfig},function(t){r=t.PlatformNotify},function(t){a=t.AdapterBase}],execute:function(){n._RF.push({},"07f46SoTyFPR54r/kXSb+m6","AdapterTT",void 0);t("AdapterTT",function(t){function n(){var e;return(e=t.call(this)||this)._video=null,e._banner=null,e._bannerWidth=.8,e._bannerStyleWidth=0,e._bannerStyleHeight=0,e._interstitial=null,e._grid=null,e._gameBanner=null,e._gameBannerBottomBorder=-1,e._gameBannerTopBorder=-1,e._gameIcon=null,e._gameIconLeftBorder=-1,e._gameIconBottomBorder=-1,e._gameClubButton=null,e._customAd=null,e._startRecordTimeStamp=0,e._videoPath="",e._initOther(),e._createVideo(),e._createBanner(),e._createInterstitialAd(),console.log("AdapterTT 初始化成功了"),e}e(n,t);var a=n.prototype;return a._initOther=function(){tt.showShareMenu&&tt.showShareMenu({}),tt.onShareAppMessage((function(){return{title:o.tt.shareTitle,imageUrl:o.tt.shareImage}}))},a._createVideo=function(){var t=this;if(!o.tt.videoId)return console.log("PlatformConfig.tt.videoId 的配置为空。跳过创建video广告");this._video=tt.createRewardedVideoAd({adUnitId:o.tt.videoId}),this._video.onLoad((function(){console.log("激励视频 广告加载成功")})),this._video.onError((function(t){console.log("激励视频 广告加载失败",t)})),this._video.onClose((function(e){e&&e.isEnded||void 0===e?(t._cb&&t._cb(!0),t._cb=null):(t._cb&&t._cb(!1,"观看完整视频广告才能获得奖励"),t._cb=null)}))},a.showVideo=function(t,e){var n=this;this._cb=e;var i=this._video;if(null==i)return this._createVideo(),this._cb&&this._cb(!1,"暂无广告"),this._cb=null,console.log("视频广告不存在,现在开始创建，本次不不会展示");var o=i.show();o&&o.catch((function(t){i.load().then((function(){i.show()}),(function(){n._cb&&n._cb(!1,"暂无广告"),n._cb=null}))}))},a._createBanner=function(){var t=this;if(!tt.createBannerAd)return console.log("当前平台不支持Banner");var e=i.getVisibleSize(),a=tt.createBannerAd({adUnitId:o.tt.bannerId,adIntervals:30,style:n.convertToTTStyle(e.width/2,50,e.width*this._bannerWidth,100)});a.onLoad((function(){console.log("banner 广告加载成功")})),a.onError((function(t){console.log("banner 加载失败",t)})),a.onResize((function(e){var n=e.width,o=e.height;if(0==t._bannerStyleHeight){var s=window.tt.getSystemInfoSync(),c=(s.screenWidth,s.screenHeight),h=o*(i.getVisibleSize().height/c);r.postNotice(r.BANNER_SHOW_HEIGHT,{height:h})}t._bannerStyleWidth=e.width,t._bannerStyleHeight=e.height;var l=window.tt.getSystemInfoSync(),d=l.screenWidth,u=l.screenHeight;Math.abs(u-o-a.style.top)>=5&&(a.style.top=u-o),Math.abs((d-n)/2-a.style.left)>=5&&(a.style.left=(d-n)/2)})),this._banner=a},a.showBanner=function(t){var e=this;if(!tt.createBannerAd)return console.log("当前平台不支持Banner");null==this._banner&&(this._createBanner(),setTimeout((function(){e.showBanner(t)}),2));var o=t.width||this._bannerWidth;if(o!=this._bannerWidth){this._bannerWidth=o;var a=i.getVisibleSize(),s=n.convertToTTStyle(a.width/2,50,a.width*o,100);this._banner.style=s,setTimeout((function(){e._banner.show().then((function(){var t=window.tt.getSystemInfoSync(),n=(t.screenWidth,t.screenHeight),o=i.getVisibleSize().height/n,a=e._bannerStyleHeight*o;r.postNotice(r.BANNER_SHOW_HEIGHT,{height:a})}))}),2e3)}else this._banner.show().then((function(){var t=window.tt.getSystemInfoSync(),n=(t.screenWidth,t.screenHeight),o=i.getVisibleSize().height/n,a=e._bannerStyleHeight*o;r.postNotice(r.BANNER_SHOW_HEIGHT,{height:a})})),console.log(this._banner)},a.hideBanner=function(t){if(!tt.createBannerAd)return console.log("当前平台不支持Banner");t.tryDestroy?(this._banner&&(this._banner.destroy(),this._banner=null),this._createBanner()):this._banner&&this._banner.hide(),r.postNotice(r.BANNER_SHOW_HEIGHT,{height:0})},a._createInterstitialAd=function(){},a.showInterstitialAd=function(t){this._interstitial&&this._interstitial.show().catch((function(t){console.error("插屏广告展现失败了",t)}))},n.convertToTTStyle=function(t,e,n,i){var o=window.tt.getSystemInfoSync(),r=(o.screenWidth,o.screenHeight),a=cc.view.getVisibleSize().height/r,s=n/a,c=i/a;return{left:t/a-s/2,top:r-e/a-c/2,width:s,height:c}},a.share=function(t,e){this._videoPath?this.shareRecordVideo(t):tt.shareAppMessage({templateId:o.tt.shareId,query:"",success:function(){t&&t(!0)},fail:function(){t&&t(!1,"分享取消了")}})},a.hadShareAbility=function(){return!0},a.hadCollectAbility=function(){return!0},a.hadRecordAbility=function(){return!0},a.startRecord=function(){var t=this;if("devtools"==tt.getSystemInfoSync().platform)return console.log("dev不能录屏");var e=tt.getGameRecorderManager();0==e._recording?(e.onStart((function(e){t._startRecordTimeStamp=dayjs().unix(),t._videoPath="",r.postNotice(r.RECORDING_STATE,!1)})),e.start({duration:300})):console.log("正在录屏中，切勿重复发起录制")},a.endRecord=function(){var t=this;if("devtools"==tt.getSystemInfoSync().platform)return console.log("dev不能录屏");if(dayjs().unix()-this._startRecordTimeStamp>3){var e=tt.getGameRecorderManager();e.onStop((function(e){t._videoPath=e.videoPath,r.postNotice(r.RECORDING_STATE,!0)})),e.stop({duration:300})}else tt.showToast({title:"录屏时间不能少于3秒",icon:"none"})},a.isRecording=function(){return tt.getGameRecorderManager()._recording},a.shareRecordVideo=function(t){var e=this;tt.shareAppMessage({channel:"video",query:"",extra:{videoPath:this._videoPath,videoTopics:["变色","小人","跑酷"]},success:function(){t(!0),e._videoPath=""},fail:function(e){t(!1,"分享取消")}})},a.vibrateShort=function(t){tt.vibrateShort({})},n}(a));n._RF.pop()}}}));

System.register("chunks:///_virtual/AdapterTypeDefine.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"350564MkvFD2ZZhKGg54wH5","AdapterTypeDefine",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/AdapterVivo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utils.ts","./PlatformConfig.ts","./PlatformNotify.ts","./AdapterBase.ts","./NativeNodeCtrl.ts"],(function(t){var n,e,i,a,o,r,s,c,l,h,v,_;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator,a=t.view,o=t.Prefab,r=t.find,s=t.instantiate},function(t){c=t.Utils},function(t){l=t.PlatformConfig},function(t){h=t.PlatformNotify},function(t){v=t.AdapterBase},function(t){_=t.NativeNodeCtrl}],execute:function(){e._RF.push({},"1d44fml4nxGh4xpkvuzpebg","AdapterVivo",void 0);i.ccclass,i.property,t("AdapterVivo",function(t){function e(){var n;return(n=t.call(this)||this)._video=null,n._banner=null,n._interstitialNatives=[],n._interstitialNativeUsedCount=0,n._bannerNatives=[],n._bannerNativeUsedCount=0,n._initedTimeStamp=0,n._cb=null,n._initedTimeStamp=dayjs().unix(),n._createVideo(),n._createBanner(),n._createNative(),n}n(e,t);var i=e.prototype;return i._createVideo=function(){var t=this;this._video=qg.createRewardedVideoAd({posId:l.vivo.videoId}),this._video.onLoad((function(){console.log("video onLoad")})),this._video.onError((function(t){console.log("video onError",t)})),this._video.onClose((function(n){console.log("video onClose",n),n&&n.isEnded?(t._cb&&t._cb(!0,null),t._cb=null):t._cb&&t._cb(!1,"观看完整视频才能获得奖励"),h.postNotice(h.BGM_SWITCH,!0),t._video.load()}))},i.showVideo=function(t,n){var e=this;this._cb=n;var i=this._video.show();i&&i.then((function(){h.postNotice(h.BGM_SWITCH,!1)})).catch((function(){e._video.load().then((function(){h.postNotice(h.BGM_SWITCH,!1),e._video.show()})).catch((function(){e._cb&&e._cb(!1,"暂无广告")}))}))},i._createBanner=function(){var t=this;if(!l.vivo.bannerId)return console.log("bannerId未设置，跳过创建");var n=a.getVisibleSize(),i=e.convertToVivoStyle(n.width/2,50,n.width,100);this._banner=qg.createBannerAd({posId:l.vivo.bannerId,style:i,adIntervals:30}),this._banner.style=i,this._banner.onLoad((function(){console.log("banner onLoad")})),this._banner.onError((function(t){console.log("banner onError",t)})),this._banner.onSize((function(n){Object.assign(t._banner.style,n),console.log("banner onResize",n,t._banner);var e=t._banner.style,i=window.qg.getSystemInfoSync(),a=i.screenWidth,o=i.screenHeight;(Math.abs(a-(e.width+2*e.left))>=5||Math.abs(o-e.top-e.height)>=5)&&(t._banner.style.left=(a-e.width)/2,t._banner.style.top=o-e.height)}))},i.getNativeBannerPrefab=function(t){if(this._nativeBannerPrefab)return t(this._nativeBannerPrefab);c.loadResWithCorrection("Platform/prefab/nativeBanner",o,(function(n,e){return t(n?null:e)}))},i.showBanner=function(t){if(!_.instance)if("native"==t.type){var n=this.getNativeAdInfo({pos:"banner"});n?this._showNativeBanner(n):(this.tryLoadNativeAdInfo({pos:"banner"}),this._showDefaultBanner(!0))}else this._showDefaultBanner(!0)},i._showNativeBanner=function(t){if(!_.instance){var n=r("Canvas/nativeBanner");n?(n.active=!0,n.getComponent("NativeBannerCtrl").init(t),h.postNotice(h.BANNER_SHOW_HEIGHT,{height:120})):this.getNativeBannerPrefab((function(n){if(n&&!r("Canvas/nativeBanner")){var e=s(n);e.getComponent("NativeBannerCtrl").init(t),e.parent=r("Canvas"),h.postNotice(h.BANNER_SHOW_HEIGHT,{height:120})}}))}},i._showDefaultBanner=function(t){var n=this;if(!_.instance){var e=window.qg.getSystemInfoSync(),i=(e.screenWidth,e.screenHeight),o=a.getVisibleSize().height/i;this._banner?(this._banner.show().catch((function(){n._banner.destroy(),n._createBanner()})),h.postNotice(h.BANNER_SHOW_HEIGHT,{height:this._banner.style.height*o})):(this._createBanner(),t&&setTimeout((function(){n._showDefaultBanner(!1)}),2e3))}},i.hideBanner=function(t){var n=r("Canvas/nativeBanner");n&&(t.tryDestroy?n.destroy():n.active=!1,this.tryLoadNativeAdInfo({pos:"banner"})),this._banner&&(t.tryDestroy?(this._banner.destroy(),this._banner=null,this._createBanner()):this._banner.hide()),h.postNotice(h.BANNER_SHOW_HEIGHT,{height:0})},i.hadShareAbility=function(){return!1},i.hadCollectAbility=function(){return!0},i.tryShortcutIndesktop=function(t){qg.hasShortcutInstalled({success:function(n){0==n?qg.installShortcut({success:function(){t(!0)},fail:function(e){t(!1,"创建图标失败了"),console.log("installShortcut fail",n)},complete:function(){}}):t(!1,"桌面图标已经存在了")},fail:function(t){},complete:function(){}})},i._createNative=function(){var t=this;this.___createNative(l.vivo.nativeIds.banner0,0,(function(n){t._bannerNatives.push(n)})),this.___createNative(l.vivo.nativeIds.interstitial0,1,(function(n){t._interstitialNatives.push(n)}))},i.___createNative=function(t,n,e){setTimeout((function(){console.log("native create",t);var n=qg.createNativeAd({posId:t});n.onLoad((function(e){console.log("native onLoad",e,t),n.adList=e.adList,h.postNotice(h.NATIVE_AD_LOADED,null)})),n.onError((function(n){console.log("natve onError",n,t)})),n.load(),n.____id=t,e(n)}),5e3*n)},i.getNativeAdInfo=function(t){if("banner"==t.pos){var n=this._bannerNativeUsedCount%this._bannerNatives.length;this._bannerNativeUsedCount++;for(var e=0;e<this._bannerNatives.length;e++){var i=this._bannerNatives[e];if(e!=n&&i&&(!i.adList||0==i.adList.length)){i.load(),console.log("native loading",i.____id);break}}var a=this._bannerNatives[n];if(a&&a.adList&&a.adList.length>0){var o=a.adList.shift(),r={native:a,info:o};return console.log("消耗了native info",o,a.____id),r}return null}var s=this._interstitialNativeUsedCount%this._interstitialNatives.length;this._interstitialNativeUsedCount++;for(var c=0;c<this._interstitialNatives.length;c++){var l=this._interstitialNatives[c];if(c!=s&&l&&(!l.adList||0==l.adList.length)){l.load(),console.log("native loading",l.____id);break}}var h=this._interstitialNatives[s];if(h&&h.adList&&h.adList.length>0){var v=h.adList.shift(),_={native:h,info:v};return console.log("消耗了native info",v,h.____id),_}return null},i.tryLoadNativeAdInfo=function(t){for(var n="banner"==t.pos?this._bannerNatives:this._interstitialNatives,e=0;e<n.length;e++){var i=n[e];if(i&&(!i.adList||0==i.adList.length)){i.load(),console.log("native loading",i.____id);break}}},e.convertToVivoStyle=function(t,n,e,i){var o=window.qg.getSystemInfoSync(),r=(o.screenWidth,o.screenHeight),s=a.getVisibleSize().height/r,c=e/s,l=i/s;return{left:t/s-c/2,top:r-n/s-l/2,width:c,height:l}},i.vibrateShort=function(t){qg.vibrateShort()},i.triggerGC=function(){qg.triggerGC()},e}(v));e._RF.pop()}}}));

System.register("chunks:///_virtual/AdapterWX.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utils.ts","./PlatformConfig.ts","./PlatformNotify.ts","./AdapterBase.ts"],(function(t){var e,n,o,i,r,s,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t.view},function(t){i=t.Utils},function(t){r=t.PlatformConfig},function(t){s=t.PlatformNotify},function(t){a=t.AdapterBase}],execute:function(){n._RF.push({},"60e485uttRPpKEQKofdbRib","AdapterWX",void 0);t("AdapterWX",function(t){function n(){var e;return(e=t.call(this)||this)._video=null,e._videoPlayTimeStamp=0,e._bottomBanner=null,e._bottomBannerShowed=!1,e._bottomBannerInViewed=!0,e._bottomBannerLeft=-1,e._bottomBannerTop=-1,e._bannerWidth=.9,e._interstitial=null,e._grid=null,e._gameBanner=null,e._gameBannerBottomBorder=-1,e._gameBannerTopBorder=-1,e._gameIcon=null,e._gameIconLeftBorder=-1,e._gameIconBottomBorder=-1,e._gameClubButton=null,e._customAd=null,e._initOther(),e._createVideo(),e._createBanner(),e._createInterstitialAd(),e.trackEvent("user_churn",{step:"进入游戏场景"}),console.log("AdapterWX 初始化成功了"),e}e(n,t);var a=n.prototype;return a._initOther=function(){window.wx.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"]}),window.wx.mua?(console.log("使用友盟的分享接口"),window.wx.uma.onShareAppMessage((function(){return{title:r.wx.shareTitle,imageUrl:r.wx.shareImage}}))):window.wx.onShareAppMessage((function(){return{title:r.wx.shareTitle,imageUrl:r.wx.shareImage}})),window.wx.onShareTimeline&&window.wx.onShareTimeline((function(){return{title:r.wx.shareTitle,imageUrl:r.wx.shareImage}}))},a._createVideo=function(){var t=this;if(!r.wx.videoId)return console.log("PlatformConfig.wx.videoId 的配置为空。跳过创建video广告");this._video=wx.createRewardedVideoAd({adUnitId:r.wx.videoId}),this._video.onLoad((function(){console.log("激励视频 广告加载成功")})),this._video.onError((function(t){console.log("激励视频 广告加载失败",t)})),this._video.onClose((function(e){e&&e.isEnded||void 0===e?(t._cb&&t._cb(!0),t._cb=null):(t._cb&&t._cb(!1,"观看完整视频广告才能获得奖励"),t._cb=null)}))},a.showVideo=function(t,e){var n=this,o=dayjs().valueOf();if(o-this._videoPlayTimeStamp<=2e3)console.log("视频按钮点击过快，本次展示要求忽略");else{this._cb=e;var i=this._video;if(null==i)return this._createVideo(),this._cb&&this._cb(!1,"暂无广告"),this._cb=null,console.log("视频广告不存在,现在开始创建，本次不不会展示");this._videoPlayTimeStamp=o;var r=i.show({branchId:t.branchId,branchDim:t.branchDim});r&&r.catch((function(e){i.load().then((function(){i.show({branchId:t.branchId,branchDim:t.branchDim})}),(function(){n._cb&&n._cb(!1,"暂无广告"),n._cb=null}))}))}},a._createBanner=function(){var t=this;if(r.wx.bottomBannerId&&!this._bottomBanner){var e=o.getVisibleSize(),i=wx.createBannerAd({adUnitId:r.wx.bottomBannerId,adIntervals:30,style:n.convertToWXStyle(e.width/2,50,e.width*this._bannerWidth,100)});i.onLoad((function(){console.log("banner 广告加载成功")})),i.onError((function(t){console.log("banner 加载失败",t)})),i.onResize((function(e){console.log(e.width,e.height),console.log(i.style.realWidth,i.style.realHeight);var n=window.wx.getSystemInfoSync(),o=n.screenWidth,r=n.screenHeight;Math.abs(r-i.style.realHeight-i.style.top)>=5&&(t._bottomBannerTop=r-i.style.realHeight,t._bottomBannerInViewed&&(i.style.top=t._bottomBannerTop)),Math.abs((o-i.style.realWidth)/2-i.style.left)>=5&&(t._bottomBannerLeft=(o-i.style.realWidth)/2,t._bottomBannerInViewed&&(i.style.left=t._bottomBannerLeft))})),this._bottomBanner=i}},a.showBanner=function(t){var e=this;console.log("showBanner"),null==this._bottomBanner?(this._createBanner(),setTimeout((function(){e.showBanner(t)}),2)):this._bottomBanner.show().then((function(){console.log("banner 显示成功"),e._bottomBannerShowed=!0;var t=window.wx.getSystemInfoSync(),n=(t.screenWidth,t.screenHeight),i=o.getVisibleSize().height/n,r=e._bottomBanner.style.realHeight*i;s.postNotice(s.BANNER_SHOW_HEIGHT,{height:r})})).catch((function(){e._bottomBannerShowed=!1,console.log("banner 显示失败 摧毁banner"),e._bottomBanner.destroy(),e._bottomBanner=null}))},a.hideBanner=function(t){if(!this._bottomBanner)return this._createBanner();t.tryDestroy?(this._bottomBanner.destroy(),this._bottomBanner=null,this._createBanner()):this._bottomBanner.hide(),this._bottomBannerShowed=!1,s.postNotice(s.BANNER_SHOW_HEIGHT,{height:0})},a.inViewBanner=function(){this._bottomBannerInViewed=!0,this._bottomBanner&&this._bottomBannerShowed?(this._bottomBanner.style.left=this._bottomBannerLeft,this._bottomBanner.style.top=this._bottomBannerTop):this.showBanner({})},a.outViewBanner=function(){if(this._bottomBannerInViewed=!1,this._bottomBanner){var t=window.wx.getSystemInfoSync(),e=t.screenWidth;t.screenHeight;this._bottomBanner.style.left=e+1}else this._createBanner()},a._createInterstitialAd=function(){if(!r.wx.interstitialId)return console.log("PlatformConfig.wx.interstitialId 为空。跳过创建插屏广告");this._interstitial=wx.createInterstitialAd({adUnitId:r.wx.interstitialId}),this._interstitial.onLoad((function(){console.log("插屏广告加载成功")})),this._interstitial.onError((function(t){console.log("插屏创建失败,",t)}))},a.showInterstitialAd=function(t){this._interstitial&&this._interstitial.show().catch((function(t){console.error("插屏广告展现失败了",t)}))},a._createGridAd=function(){if(!r.wx.gridId)return console.log("PlatformConfig.wx.gridId 为空。跳过创建格子广告");var t=o.getVisibleSize(),e=n.convertToWXStyle(t.width/2,t.height/2,t.width/2,t.height/2);this._grid=wx.createGridAd({adUnitId:r.wx.gridId,adTheme:"black",adIntervals:30,gridCount:9,style:e}),this._grid.onLoad((function(){console.log("格子广告加载成功")})),this._grid.onError((function(t){console.log("格子广告加载失败了",t)}))},a.showGridAd=function(){this._grid&&this._grid.show().catch((function(t){console.log("格子广告show出错",t)}))},n.convertToWXStyle=function(t,e,n,o){var i=window.wx.getSystemInfoSync(),r=(i.screenWidth,i.screenHeight),s=cc.view.getVisibleSize().height/r,a=n/s,c=o/s;return{left:t/s-a/2,top:r-e/s-c/2,width:a,height:c}},a.trackEvent=function(t,e){wx.uma.trackEvent(t,e)},a.showGameBanner=function(t){var e=this;if(this._gameBanner)return console.log("gameBanner 已经存在了");this._gameBannerBottomBorder=void 0!==t.bottomBorder?t.bottomBorder:-1,this._gameBannerTopBorder=void 0!==t.topBorder?t.topBorder:-1;var n=window.wx.getSystemInfoSync();n.screenWidth,n.screenHeight;this._gameBanner=wx.createGameBanner({adUnitId:r.wx.gameBannerId,adIntervals:30,style:{left:0,top:0}}),this._gameBanner.onLoad((function(){e._gameBanner.show().catch((function(t){console.log("gameBanner show failed",t)})),e._gameBanner.style.left=0})),this._gameBanner.onError((function(t){console.log("gameBanner onError",t)}));var o=function(){console.log("gameBanner resize",this);var t=window.wx.getSystemInfoSync(),e=t.screenWidth,n=t.screenHeight,o=cc.view.getVisibleSize().height/n;if(!(Math.abs(e-(this._gameBanner.style.width+2*this._gameBanner.style.left))<=5))if(-1!=this._gameBannerTopBorder){var i=n-this._gameBannerTopBorder/o,r=(e-this._gameBanner.style.width)/2;this._gameBanner.style.left=r,this._gameBanner.style.top=i}else{var s=n-this._gameBannerBottomBorder/o,a=(e-this._gameBanner.style.width)/2;this._gameBanner.style.left=a,this._gameBanner.style.top=s+this._gameBanner.style.height}}.bind(this);this._gameBanner.onResize(o)},a.hideGameBanner=function(t){this._gameBanner&&this._gameBanner.destroy(),this._gameBanner=null,this._gameBannerBottomBorder=-1,this._gameBannerTopBorder=-1},a.showGameIcon=function(t){var e=this;if(this._gameIcon)return console.log("gameIcon 已经显示了");for(var n=window.wx.getSystemInfoSync(),i=(n.screenWidth,n.screenHeight),s=o.getVisibleSize().height/i,a=t.size/s,c=[],h=t.leftBorder/s,l=i-t.bottomBorder/s,d=0;d<t.count;d++)c.push({appNameHidden:!1,color:"#FFFFFFFF",size:a,borderColor:"#00000000",left:h+1.5*d*a,top:l-a});this._gameIcon=wx.createGameIcon({adUnitId:r.wx.gameIconId,count:t.count,style:c}),this._gameIcon.onLoad((function(){e._gameIcon.show()})),this._gameIcon.onError((function(t){console.log("gameIcon error",t)}))},a.hideGameIcon=function(t){this._gameIcon&&this._gameIcon.destroy(),this._gameIcon=null},a.share=function(t,e){"wx"==e.type?(wx.uma.shareAppMessage({title:r.wx.shareTitle,imageUrl:r.wx.shareImage}),setTimeout((function(){Math.random()>.7?t&&t(!1,"分享失败"):t&&t(!0),t=null}),2e3)):i.popToast("当前微信不能主动分享到朋友圈")},a.showGameClub=function(t){var e=n.convertToWXStyle(t.center.x,t.center.y,t.size,t.size);console.log("showGameClub",e),this._gameClubButton=wx.createGameClubButton({type:"image",style:e,icon:"light"}),this._gameClubButton.show()},a.showCustomAd=function(t){var e=this;if(this._customAd)!this._customAd.isShow()&&this._customAd.show().catch((function(t){console.log("customAd show err",t)}));else{var o=t.center,i=n.convertToWXStyle(o.x,o.y,t.width,t.height);this._customAd=wx.createCustomAd({adUnitId:r.wx.customAd,adIntervals:60,style:i}),console.log("customAd",this._customAd),this._customAd.onLoad((function(){t.showImmediately&&e._customAd.show()})),this._customAd.onError((function(t){console.log("customAd onError",t);var n=e._customAd;e._customAd=null,setTimeout((function(){n.destroy()}),1e3)})),this._customAd.onClose((function(){console.log("customAd onClose");var n=e._customAd;e._customAd=null,setTimeout((function(){n.destroy()}),1e3),t.onClose&&t.onClose()}))}},a.hideCustomAd=function(t){t.tryDestroy?(this._customAd&&this._customAd.destroy(),this._customAd=null):this._customAd&&this._customAd.isShow()&&this._customAd.hide()},a.hadShareAbility=function(){return!0},a.hadCollectAbility=function(){return!0},a.vibrateShort=function(t){wx.vibrateShort({style:t})},a.getSid=function(){return window.wx.getLaunchOptionsSync().scene.toString()},n}(a));n._RF.pop()}}}));

System.register("chunks:///_virtual/airplane_path_config.ts",["cc"],(function(e){var n,t;return{setters:[function(e){n=e.cclegacy,t=e.Vec3}],execute:function(){n._RF.push({},"8a312EZcsxIhIrBend6DWTc","airplane_path_config",void 0);e("airplane_path_config",[{slide_path:[new t(175,0,125),new t(175,0,75),new t(115,0,75),new t(115,0,35)],obst_path_index:[0]},{slide_path:[new t(115,0,275),new t(115,0,245),new t(175,0,245),new t(175,0,195),new t(75,0,195)],obst_path_index:[1,2]},{slide_path:[new t(115,0,175),new t(115,0,75),new t(55,0,75),new t(55,0,35)],obst_path_index:[3,4,5]},{slide_path:[new t(55,0,95),new t(55,0,135),new t(115,0,135),new t(115,0,75),new t(175,0,75)],obst_path_index:[6,7,8]},{slide_path:[new t(55,0,195),new t(175,0,195),new t(175,0,275)],obst_path_index:[9,10]}]);n._RF.pop()}}}));

System.register("chunks:///_virtual/airplane_path_obst_config.ts",["cc"],(function(e){var n,t;return{setters:[function(e){n=e.cclegacy,t=e.Vec3}],execute:function(){n._RF.push({},"89f3eBWusxCSJtAt20woRzq","airplane_path_obst_config",void 0);e("airplane_path_obst_config",[{slide_path:[new t(175,0,45),new t(175,0,75),new t(115,0,75),new t(115,0,115)],triger_pos:new t(175,0,100)},{slide_path:[new t(175,0,225),new t(175,0,275)],triger_pos:new t(155,0,245)},{slide_path:[new t(155,0,195),new t(195,0,195)],triger_pos:new t(175,0,215)},{slide_path:[new t(95,0,135),new t(135,0,135)],triger_pos:new t(115,0,155)},{slide_path:[new t(115,0,55),new t(115,0,75),new t(135,0,75)],triger_pos:new t(115,0,95)},{slide_path:[new t(55,0,55),new t(55,0,95)],triger_pos:new t(75,0,75)},{slide_path:[new t(55,0,155),new t(55,0,135),new t(135,0,135)],triger_pos:new t(55,0,115)},{slide_path:[new t(115,0,115),new t(115,0,155)],triger_pos:new t(85,0,135)},{slide_path:[new t(135,0,75),new t(95,0,75)],triger_pos:new t(115,0,95)},{slide_path:[new t(115,0,175),new t(115,0,215)],triger_pos:new t(90,0,195)},{slide_path:[new t(175,0,215),new t(175,0,175)],triger_pos:new t(150,0,195)}]);n._RF.pop()}}}));

System.register("chunks:///_virtual/airplane_shop_config.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"8915c19T+xCC7aP9f2jJJlP","airplane_shop_config",void 0);e("airplane_shop_config",[{index:0,currency:"cash",price:2e3,name:"天蓝号"},{index:1,currency:"cash",price:4e3,name:"微狸号"},{index:2,currency:"cash",price:6e3,name:"羽仁号"},{index:3,currency:"signin",price:3,name:"绿棕号"},{index:4,currency:"cash",price:1e4,name:"红星号"},{index:5,currency:"cash",price:12e3,name:"莱特号"},{index:6,currency:"ad",price:2,name:"小飞雀"},{index:7,currency:"ad",price:2,name:"蓝胖子"},{index:8,currency:"ad",price:3,name:"白鲸号"},{index:9,currency:"signin",price:3,name:"虎鲸号"},{index:10,currency:"ad",price:4,name:"红焰号"},{index:11,currency:"ad",price:4,name:"商务号"},{index:12,currency:"signin",price:6,name:"缤纷号"}]);n._RF.pop()}}}));

System.register("chunks:///_virtual/airplane_slide_config.ts",["cc"],(function(e){var n,w,t;return{setters:[function(e){n=e.cclegacy,w=e.Vec3,t=e.Vec4}],execute:function(){n._RF.push({},"cd84dqokG9ELIGYNTz2Z2+2","airplane_slide_config",void 0);e("airplane_slide_config",[{slide_path:[new w(115,0,105),new w(115,0,75),new w(95,0,75)],obst:[new t(115,0,65,1)]},{slide_path:[new w(55,0,155),new w(55,0,75),new w(25,0,75)],obst:[new t(40,0,135,3),new t(40,0,155,3),new t(40,0,115,3)]},{slide_path:[new w(145,0,245),new w(115,0,245),new w(115,0,195),new w(35,0,195)],obst:[new t(135,0,230,1),new t(125,0,230,1),new t(100,0,215,3)]},{slide_path:[new w(115,0,35),new w(115,0,75),new w(175,0,75),new w(175,0,135),new w(115,0,135)],obst:[new t(115,0,85,0),new t(125,0,85,0),new t(105,0,85,0)]},{slide_path:[new w(55,0,245),new w(115,0,245),new w(115,0,25)],obst:[new t(115,0,245,2),new t(115,0,195,1),new t(115,0,135,1)]},{slide_path:[new w(175,0,195),new w(115,0,195),new w(115,0,75),new w(55,0,75),new w(55,0,25)],obst:[new t(105,0,195,3),new t(105,0,185,3),new t(105,0,95,3)]}]);n._RF.pop()}}}));

System.register("chunks:///_virtual/AirplaneCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./weather_config.ts"],(function(e){var t,i,r,n,o,l,a,c,p,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,a=e.RigidBody,c=e.Node,p=e.Component},function(e){u=e.weather_config}],execute:function(){var s,g,f,h,d,y,b;o._RF.push({},"a1cb1QVL/lGg7amN6fKJSeC","AirplaneCtrl",void 0);var v=l.ccclass,C=l.property;e("AirplaneCtrl",(s=v("AirplaneCtrl"),g=C(a),f=C(c),s((y=t((d=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,r(t,"rigidBody",y,n(t)),r(t,"lightNode",b,n(t)),t}i(t,e);var o=t.prototype;return o.start=function(){},o.setWeahter=function(e){e%=u.length,"night"==u[e]&&(this.lightNode.active=!0)},t}(p)).prototype,"rigidBody",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=t(d.prototype,"lightNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=d))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/AirplaneDriverCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioCtrl.ts","./AudioHelper.ts","./NotificationCenter.ts","./Utils.ts","./ControlWidgetBase.ts"],(function(e){var t,i,o,n,r,s,a,h,l,g,c,u,p,T,v,d,f,A,b,N,_,W,E;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,a=e.CCFloat,h=e.Node,l=e.Sprite,g=e.SpriteFrame,c=e.view,u=e.Vec3,p=e.Tween,T=e.Color,v=e.UITransform,d=e.find,f=e.Camera},function(e){A=e.CLIP},function(e){b=e.AudioHelper},function(e){N=e.NotificationCenter,_=e.NCKeys},function(e){W=e.Utils},function(e){E=e.ControlWidgetBase}],execute:function(){var w,C,R,y,m,O,S,z,F,I,L,D,H,U,Y,M,G;r._RF.push({},"5b056Y6IERDcpcovhGz7GLN","AirplaneDriverCtrl",void 0);var P=s.ccclass,k=s.property;e("AirplaneDriverCtrl",(w=P("AirplaneDriverCtrl"),C=k(a),R=k(h),y=k(l),m=k(g),O=k(g),S=k(h),z=k(h),w((L=t((I=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,o(t,"bottomFloat",L,n(t)),o(t,"steeringWheel",D,n(t)),t.steeringWheelRotationY=0,o(t,"gearsSprite",H,n(t)),o(t,"frontFrame",U,n(t)),o(t,"backFrame",Y,n(t)),o(t,"tipNode",M,n(t)),o(t,"navigationArrow",G,n(t)),t.gearsDir=1,t}i(t,e);var r=t.prototype;return r.playInAction=function(){this.node.active=!0;var e=c.getVisibleSize(),t=new u(0,-e.height/2+this.bottomFloat,0),i=new u(t);i.y-=500,this.steeringWheel.position=i;var o=new p(this.steeringWheel);o.to(.5,{position:t},{easing:"backOut"}).start();var n=new u(255,t.y+120,0),r=new u(n);r.y-=500,this.gearsSprite.node.position=r,(o=new p(this.gearsSprite.node)).to(1,{position:n},{easing:"backOut"}).start()},r.playOutAction=function(){this.node.active=!1},r.onEnable=function(){this.steeringWheel.on(h.EventType.TOUCH_START,this.onTouchStart,this),this.steeringWheel.on(h.EventType.TOUCH_MOVE,this.onTouchMove,this),this.steeringWheel.on(h.EventType.TOUCH_END,this.onTouchEnd,this),this.steeringWheel.on(h.EventType.TOUCH_CANCEL,this.onTouchEnd,this),N.addObserver(_.NAVIGATION_ARROW_TARGET,this.onGetNavigationArrowTarget,this),this._navigationTarget=null,this.navigationArrow.position=new u(-1e3,0,0),this.steeringWheel.eulerAngles=u.ZERO,p.stopAllByTag(310,this.steeringWheel),this.steeringWheel.getComponent(l).color=T.WHITE,this.steeringWheelRotationY=0,this.gearsSprite.spriteFrame=this.frontFrame,this.gearsDir=1,this.tipNode.active=!0},r.onDisable=function(){this.steeringWheel.off(h.EventType.TOUCH_START,this.onTouchStart,this),this.steeringWheel.off(h.EventType.TOUCH_MOVE,this.onTouchMove,this),this.steeringWheel.off(h.EventType.TOUCH_END,this.onTouchEnd,this),this.steeringWheel.off(h.EventType.TOUCH_CANCEL,this.onTouchEnd,this),N.removeObserver(_.NAVIGATION_ARROW_TARGET,this),this.unschedule(this.updateForNavigationArrowPos)},r.onTouchStart=function(e){N.postNotice(_.CONTROL_WHEEL_PRESS,null),p.stopAllByTag(310,this.steeringWheel),this.steeringWheel.getComponent(l).color=new T(200,200,200,255),this.tipNode.active&&(this.tipNode.active=!1),N.postNotice(_.MAIN_PAGE_HIDE,null)},r.onTouchMove=function(e){var t=e.getUILocation(),i=new u(t.x,t.y,0),o=this.steeringWheel.getComponent(v),n=o.convertToNodeSpaceAR(i);if(n.length()>50){var r,s=null==(r=e.touch)?void 0:r.getUIPreviousLocation(),a=new u(s.x,s.y,0),h=o.convertToNodeSpaceAR(a),l=W.getRotateAngle(h.x,h.y,n.x,n.y);l>=180&&(l-=360),this.steeringWheelRotationY+=l,this.steeringWheelRotationY<-70?this.steeringWheelRotationY=-70:this.steeringWheelRotationY>70&&(this.steeringWheelRotationY=70),this.steeringWheel.eulerAngles=new u(0,0,this.steeringWheelRotationY),N.postNotice(_.CONTROL_WHEEL_ROTATION,this.steeringWheelRotationY)}},r.onTouchEnd=function(e){var t=this;N.postNotice(_.CONTROL_WHEEL_RELEASE,null),this.steeringWheel.getComponent(l).color=T.WHITE;var i=new p(this.steeringWheel),o=this.steeringWheelRotationY;i.to(.2,{},{onUpdate:function(e,i){t.steeringWheelRotationY=(1-i)*o,t.steeringWheel.eulerAngles=new u(0,0,t.steeringWheelRotationY),N.postNotice(_.CONTROL_WHEEL_ROTATION,t.steeringWheelRotationY)}}).tag(310).start()},r.onGearsClick=function(){b.play("audio",A.CLICK_NORMAL_BUTTON),1==this.gearsDir?(this.gearsDir=-1,this.gearsSprite.spriteFrame=this.backFrame):(this.gearsDir=1,this.gearsSprite.spriteFrame=this.frontFrame),N.postNotice(_.CONTROL_GEARS_TURN,this.gearsDir),N.postNotice(_.MAIN_PAGE_HIDE,null)},r.onGetNavigationArrowTarget=function(e){var t;this._navigationTarget=e,this._camera=null==(t=d("Main Camera/Camera"))?void 0:t.getComponent(f),this._boundSize=c.getVisibleSize(),this._boundSize.width-=50,this._boundSize.height-=50,this.schedule(this.updateForNavigationArrowPos)},r.updateForNavigationArrowPos=function(){var e=new u;if(this._camera.convertToUINode(this._navigationTarget.worldPosition,this.node,e),Math.abs(e.x)<=this._boundSize.width/2&&Math.abs(e.y)<=this._boundSize.height/2)this.navigationArrow.position=new u(-1e4,0,0);else{e.z=0,e.normalize(),W.rotationNodeFace(this.navigationArrow,new u(0,-1,0),e,!0);var t=0;t=Math.abs(e.y/e.x)>this._boundSize.height/this._boundSize.width?this._boundSize.height/2:this._boundSize.width/2,e.multiplyScalar(t),this.navigationArrow.position=e}},t}(E)).prototype,"bottomFloat",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=t(I.prototype,"steeringWheel",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(I.prototype,"gearsSprite",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(I.prototype,"frontFrame",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=t(I.prototype,"backFrame",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(I.prototype,"tipNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(I.prototype,"navigationArrow",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=I))||F));r._RF.pop()}}}));

System.register("chunks:///_virtual/AirplaneFireNodeCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,i,o,n,a,l,s,c,u,f;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,n=e.createClass},function(e){a=e.cclegacy,l=e._decorator,s=e.ParticleSystem,c=e.Tween,u=e.Vec3,f=e.Component}],execute:function(){var p,h,d,y,P;a._RF.push({},"52f85qeDodORYC5t4bdOR8x","AirplaneFireNodeCtrl",void 0);var g=l.ccclass,v=l.property;e("AirplaneFireNodeCtrl",(p=g("AirplaneFireNodeCtrl"),h=v(s),p((P=r((y=function(e){function r(){for(var r,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return r=e.call.apply(e,[this].concat(n))||this,i(r,"firParticle",P,o(r)),r._outfireProgress=0,r}return t(r,e),r.prototype.playFireAction=function(){var e=this;this.firParticle.play(),new c(this.node).to(1,{},{onUpdate:function(r,t){e.firParticle.rateOverTime.constant=Math.floor(500*t)}}).start()},n(r,[{key:"outfireProgress",get:function(){return this._outfireProgress},set:function(e){this._outfireProgress=e,this.firParticle.rateOverTime.constant=Math.floor(400*(1-e))+100;var r=.7*(1-e)+.3;this.firParticle.node.scale=new u(r,r,r)}}]),r}(f)).prototype,"firParticle",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=y))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/AirplaneFlyPageCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioCtrl.ts","./AudioHelper.ts","./BaseUILayerCtrl.ts","./LocalData.ts","./NotificationCenter.ts","./Utils.ts","./PlatformManager.ts","./RemoteConfig.ts","./NodeDelayShow.ts","./PlatformJudge.ts"],(function(e){var t,i,n,o,a,l,r,s,c,u,d,p,f,g,N,y,h,m,C,I,v,B,b,O,A;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createClass},function(e){l=e.cclegacy,r=e._decorator,s=e.Node,c=e.SpriteFrame,u=e.Vec3,d=e.Tween,p=e.find,f=e.Sprite,g=e.Label},function(e){N=e.CLIP},function(e){y=e.AudioHelper},function(e){h=e.BaseUILayerCtrl},function(e){m=e.LocalData},function(e){C=e.NotificationCenter,I=e.NCKeys},function(e){v=e.Utils},function(e){B=e.PlatformManager},function(e){b=e.RemoteConfig},function(e){O=e.NodeDelayShow},function(e){A=e.PlatformJudge}],execute:function(){var _,T,S,L,w,E,F,P,R,M,k,V,U;l._RF.push({},"7bd018CUolEAoLbwcdt/mpX","AirplaneFlyPageCtrl",void 0);var z=r.ccclass,D=r.property;e("AirplaneFlyPageCtrl",(_=z("AirplaneFlyPageCtrl"),T=D(s),S=D(s),L=D(c),w=D(s),E=D(s),_((R=t((P=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,n(t,"titleNode",R,o(t)),n(t,"adButtonNode",M,o(t)),n(t,"freeFrame",k,o(t)),n(t,"singleButtonNodeWx",V,o(t)),n(t,"singleButtonNodeOV",U,o(t)),t}i(t,e);var l=t.prototype;return l.playInAction=function(){var e=this;C.postNotice(I.NATIVE_BANNER_STOP_TICK,null),A.isMZ&&B.getInstance().showInterstitialAd({}),y.play("audio",N.MISSION_FINISH),this.titleNode.scale=u.ZERO;var t=new d(this.titleNode);t.to(1,{scale:u.ONE},{easing:"elasticOut"}).start();var i=p("particle0",this.node),n=p("particle1",this.node);i.active=!0,n.active=!0;this.adButtonNode.scale=u.ZERO,(t=new d(this.adButtonNode)).delay(.5).call((function(){e.freeThisTime||e.adButtonNode.getComponent(O).doAction()})).to(1,{scale:u.ONE},{easing:"elasticOut"}).start();var o=this.singleButtonNodeWx;if((A.isOppo||A.isVivo)&&(o=this.singleButtonNodeOV),o.active=!0,o.scale=u.ZERO,(t=new d(o)).delay(.5+this.delayAfterAdButton).to(1,{scale:u.ONE},{easing:"elasticOut"}).call((function(){(A.isOppo||A.isVivo)&&(p("nativeNode",e.node).active=!0)})).start(),this.freeThisTime){this.adButtonNode.getComponent(f).spriteFrame=this.freeFrame;var a=this.adButtonNode.getChildByName("label");a.position=u.ZERO,a.getComponent(g).string="免费游玩",this.adButtonNode.getChildByName("video").active=!1}else B.getInstance().trackEvent("ad_fly",{step:"展示"})},l.onSingleButtonClick=function(){y.play("audio",N.CLICK_NORMAL_BUTTON),B.getInstance().vibrateShort("medium"),C.postNotice(I.MISSION_FINISH,null),this.node.destroy()},l.onAdButtonClick=function(){y.play("audio",N.CLICK_NORMAL_BUTTON),B.getInstance().vibrateShort("medium"),this.freeThisTime?(B.getInstance().trackEvent("fly_by_free",null),this.onAdComplete(!0,"")):(B.getInstance().trackEvent("fly_by_ad",null),B.getInstance().trackEvent("ad_fly",{step:"点击"}),B.getInstance().showVideo({},this.onAdComplete.bind(this)))},l.onAdComplete=function(e,t){e?(m.cumVideoConunt++,y.play("audio",N.CLICK_NORMAL_BUTTON),B.getInstance().vibrateShort("medium"),B.getInstance().trackEvent("ad_fly",{step:"完成"}),C.postNotice(I.MISSION_FLY,null),this.node.destroy()):v.popToast(t)},a(t,[{key:"freeThisTime",get:function(){return A.isWX?m.levelIndex==b.p4:!!(A.isOppo||A.isVivo||A.isMZ)&&m.levelIndex/b.p4%3!=0}},{key:"delayAfterAdButton",get:function(){return A.isWX?2:0}}]),t}(h)).prototype,"titleNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(P.prototype,"adButtonNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(P.prototype,"freeFrame",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(P.prototype,"singleButtonNodeWx",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(P.prototype,"singleButtonNodeOV",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=P))||F));l._RF.pop()}}}));

System.register("chunks:///_virtual/AirplanePathCollideCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,n,o,l;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,l=t.Component}],execute:function(){var e;n._RF.push({},"d8830ggQChARJFsLAmwdDgI","AirplanePathCollideCtrl",void 0);var r=o.ccclass;o.property,t("AirplanePathCollideCtrl",r("AirplanePathCollideCtrl")(e=function(t){function n(){for(var i,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(i=t.call.apply(t,[this].concat(o))||this).deltaTime=0,i}i(n,t);var o=n.prototype;return o.start=function(){},o.init=function(){this.collider.on("onCollisionEnter",this.onCollision,this),this.collider.on("onCollisionStay",this.onCollision,this)},o.onCollision=function(){this.pathFindCtrl.reversePath(this.deltaTime/2)},o.update=function(t){this.deltaTime=t},n}(l))||e);n._RF.pop()}}}));

System.register("chunks:///_virtual/AirplanePathObstNodeCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./airplane_path_obst_config.ts","./AutoPathFindCtrl.ts","./Utils.ts"],(function(t){var e,i,r,n,o,a,l,s,p,u,h,c,d,f,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,l=t.BoxCollider,s=t.Prefab,p=t.Vec3,u=t.instantiate,h=t.Quat,c=t.Component},function(t){d=t.airplane_path_obst_config},function(t){f=t.AutoPathFindCtrl},function(t){b=t.Utils}],execute:function(){var v,y,g,w,z,F,P,m,C;o._RF.push({},"bb4fcXV/ghDfaTTCBExPsJv","AirplanePathObstNodeCtrl",void 0);var x=a.ccclass,_=a.property;t("AirplanePathObstNodeCtrl",(v=x("AirplanePathObstNodeCtrl"),y=_(f),g=_(l),w=_(s),v((P=e((F=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,r(e,"pathFindCtrl",P,n(e)),r(e,"collider",m,n(e)),r(e,"arrowRedPrefab",C,n(e)),e.trigered=!1,e.moveSpeed=10,e.turnRadius=5,e}i(e,t);var o=e.prototype;return o.start=function(){},o.init=function(t){for(var e=d[t],i=e.slide_path,r=i.length,n=0;n<r-1;n++){var o=p.subtract(new p,i[n+1],i[n]),a=o.length()/10;o.normalize();var l=i[n],s=new p(10*o.x,10*o.y,10*o.z);l=new p(l.x-5*o.x,l.y-5*o.y,l.z-5*o.z);for(var c=1;c<a;c++){var f=u(this.arrowRedPrefab);b.rotationNodeFace(f,new p(0,0,1),o,!0);var v=new p(l.x+s.x*c,l.y+s.y*c,l.z+s.z*c);v.y+=.05,f.position=v,f.parent=this.node}}for(var y=[],g=new p,w=new p(0,0,1),z=0;z<r;z++)if(i[z-1])if(i[z-1]&&!i[z+1])y.push({position:i[z],rotation:null,scale:null,speed:this.moveSpeed});else{p.subtract(g,i[z],i[z-1]),g.normalize(),g.multiplyScalar(this.turnRadius);var F=new p(i[z].x-g.x,i[z].y-g.y,i[z].z-g.z);y.push({position:F,rotation:null,scale:null,speed:this.moveSpeed}),p.subtract(g,i[z+1],i[z]),g.normalize();var P=h.rotationTo(new h,w,g);g.multiplyScalar(this.turnRadius);var m=new p(i[z].x+g.x,i[z].y+g.y,i[z].z+g.z);y.push({position:m,rotation:P,scale:null,speed:this.moveSpeed})}else{p.subtract(g,i[z+1],i[z]),g.normalize();var C=h.rotationTo(new h,w,g);y.push({position:i[z],rotation:C,scale:null,speed:this.moveSpeed})}this.pathFindCtrl.init(y),this.collider.node.position=e.triger_pos,this.collider.on("onTriggerEnter",this.onCollisionEnter,this)},o.onCollisionEnter=function(){0==this.trigered&&(this.schedule(this.updateForPathFind),this.trigered=!0)},o.updateForPathFind=function(t){this.pathFindCtrl.updatePath(t),this.pathFindCtrl.isFinished&&this.unschedule(this.updateForPathFind)},e}(c)).prototype,"pathFindCtrl",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=e(F.prototype,"collider",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(F.prototype,"arrowRedPrefab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=F))||z));o._RF.pop()}}}));

System.register("chunks:///_virtual/AirplanePathProgressNodeCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NotificationCenter.ts","./ControlWidgetBase.ts"],(function(e){var r,t,i,n,o,s,a,l,c,p,u,h,g,P;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,a=e.ProgressBar,l=e.Node,c=e.Vec3,p=e.view,u=e.Tween},function(e){h=e.NotificationCenter,g=e.NCKeys},function(e){P=e.ControlWidgetBase}],execute:function(){var f,d,b,v,w,y,N;o._RF.push({},"40414ATOFZERpazVHwYPReL","AirplanePathProgressNodeCtrl",void 0);var R=s.ccclass,S=s.property;e("AirplanePathProgressNodeCtrl",(f=R("AirplanePathProgressNodeCtrl"),d=S(a),b=S(l),f((y=r((w=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o))||this,i(r,"bar",y,n(r)),i(r,"airplane",N,n(r)),r.startPos=new c(-226,0,0),r.endPos=new c(200,0,0),r}t(r,e);var o=r.prototype;return o.playInAction=function(e){var r=e.offsetY||200;this.node.active=!0;var t=p.getVisibleSize();this.node.position=new c(0,t.height/2+50,0),new u(this.node).to(.5,{position:new c(0,t.height/2-r,0)},{easing:"backOut"}).start(),this.onMissionProgressBar(0)},o.onEnable=function(){h.addObserver(g.MISSION_PROGRESS_BAR,this.onMissionProgressBar,this)},o.onDisable=function(){h.removeObserver(g.MISSION_PROGRESS_BAR,this)},o.onMissionProgressBar=function(e){this.bar.progress=e;var r=c.lerp(new c,this.startPos,this.endPos,this.bar.progress);this.airplane.position=r},r}(P)).prototype,"bar",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=r(w.prototype,"airplane",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=w))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/AirplanePickUpCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NotificationCenter.ts","./ControlWidgetBase.ts"],(function(t){var e,i,o,n,h,r,s,l,c,a,u,T,f,R,N,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){h=t.cclegacy,r=t._decorator,s=t.Vec2,l=t.Vec3,c=t.Node,a=t.CCFloat,u=t.view,T=t.find,f=t.Tween},function(t){R=t.NotificationCenter,N=t.NCKeys},function(t){d=t.ControlWidgetBase}],execute:function(){var g,p,_,E,O,C,v,L,y,b,k,A,w,H,U,m,F,S,M;h._RF.push({},"8033frTQ7ZNco9lLPSbzM/P","AirplanePickUpCtrl",void 0);var I=r.ccclass,z=r.property,D=new s;new l,t("AirplanePickUpCtrl",(g=I("AirplanePickUpCtrl"),p=z(c),_=z(c),E=z(c),O=z(c),C=z(c),v=z(c),L=z(a),y=z(a),g((A=e((k=function(t){function e(){for(var e,i=arguments.length,h=new Array(i),r=0;r<i;r++)h[r]=arguments[r];return e=t.call.apply(t,[this].concat(h))||this,o(e,"leftTouchNode",A,n(e)),o(e,"rightTouchNode",w,n(e)),o(e,"leftFingerNode",H,n(e)),o(e,"rightFingerNode",U,n(e)),o(e,"leftRockerNode",m,n(e)),e._leftRotation=0,o(e,"rightRockerNode",F,n(e)),e._rightRotation=0,o(e,"leftRockerLimit",S,n(e)),o(e,"rightRockerLimit",M,n(e)),e}i(e,t);var h=e.prototype;return h.playInAction=function(){this.node.active=!0;var t=u.getVisibleSize(),e=T("top",this.node);e.position=new l(t.width,t.height/2-55,0);var i=new f(e);i.to(.7,{position:new l(0,t.height/2-55,0)},{easing:"cubicOut"}).start();var o=T("bottom",this.node);o.position=new l(t.width,-t.height/2+200,0),(i=new f(o)).to(.7,{position:new l(0,-t.height/2+200,0)},{easing:"cubicOut"}).start()},h.playOutAction=function(){this.node.active=!1},h.onEnable=function(){this.leftTouchNode.on(c.EventType.TOUCH_START,this.onLeftNodeTouchStart,this),this.leftTouchNode.on(c.EventType.TOUCH_MOVE,this.onLeftNodeTouchMove,this),this.leftTouchNode.on(c.EventType.TOUCH_END,this.onLeftNodeTouchEnd,this),this.leftTouchNode.on(c.EventType.TOUCH_CANCEL,this.onLeftNodeTouchEnd,this),this.rightTouchNode.on(c.EventType.TOUCH_START,this.onRightNodeTouchStart,this),this.rightTouchNode.on(c.EventType.TOUCH_MOVE,this.onRightNodeTouchMove,this),this.rightTouchNode.on(c.EventType.TOUCH_END,this.onRightNodeTouchEnd,this),this.rightTouchNode.on(c.EventType.TOUCH_CANCEL,this.onRightNodeTouchEnd,this),R.addObserver(N.CONTROL_LEFT_ROCKER_FINGER_SHOW,this.onLeftFingerShow,this),this.leftRockerNode.eulerAngles=l.ZERO,this.rightRockerNode.eulerAngles=l.ZERO,this._leftRotation=0,this._rightRotation=0,this.leftFingerNode.active=!1,this.rightFingerNode.active=!0},h.onDisable=function(){this.leftTouchNode.off(c.EventType.TOUCH_START,this.onLeftNodeTouchStart,this),this.leftTouchNode.off(c.EventType.TOUCH_MOVE,this.onLeftNodeTouchMove,this),this.leftTouchNode.off(c.EventType.TOUCH_END,this.onLeftNodeTouchEnd,this),this.leftTouchNode.off(c.EventType.TOUCH_CANCEL,this.onLeftNodeTouchEnd,this),this.rightTouchNode.off(c.EventType.TOUCH_START,this.onRightNodeTouchStart,this),this.rightTouchNode.off(c.EventType.TOUCH_MOVE,this.onRightNodeTouchMove,this),this.rightTouchNode.off(c.EventType.TOUCH_END,this.onRightNodeTouchEnd,this),this.rightTouchNode.off(c.EventType.TOUCH_CANCEL,this.onRightNodeTouchEnd,this),R.removeObserver(N.CONTROL_LEFT_ROCKER_FINGER_SHOW,this)},h.onLeftFingerShow=function(){this.leftFingerNode.active=!0},h.onLeftNodeTouchStart=function(t){f.stopAllByTag(153,this.leftRockerNode),R.postNotice(N.CONTROL_LEFT_ROCKER_START,null),this.leftFingerNode.active&&(this.leftFingerNode.active=!1),R.postNotice(N.MAIN_PAGE_HIDE,null)},h.onLeftNodeTouchMove=function(t){t.getUIDelta(D),this._leftRotation+=D.y,this._leftRotation<-this.leftRockerLimit?this._leftRotation=-this.leftRockerLimit:this._leftRotation>this.leftRockerLimit&&(this._leftRotation=this.leftRockerLimit),this.leftRockerNode.eulerAngles=new l(-1*this._leftRotation,0,0),R.postNotice(N.CONTROL_LEFT_ROCKER_ROTATE,this._leftRotation)},h.onLeftNodeTouchEnd=function(t){var e=this,i=new f(this.leftRockerNode),o=this._leftRotation;i.to(.5,{},{onUpdate:function(t,i){e._leftRotation=(1-i)*o,e.leftRockerNode.eulerAngles=new l(-1*e._leftRotation,0,0)}}).tag(153).start(),R.postNotice(N.CONTROL_LEFT_ROCKER_STOP,null)},h.onRightNodeTouchStart=function(t){f.stopAllByTag(153,this.rightRockerNode),R.postNotice(N.CONTROL_RIGHT_ROCKER_START,null),this.rightFingerNode.active&&(this.rightFingerNode.active=!1),R.postNotice(N.MAIN_PAGE_HIDE,null)},h.onRightNodeTouchMove=function(t){t.getUIDelta(D),this._rightRotation+=D.x,this._rightRotation<-this.rightRockerLimit?this._rightRotation=-this.rightRockerLimit:this._rightRotation>this.leftRockerLimit&&(this._rightRotation=this.rightRockerLimit),this.rightRockerNode.eulerAngles=new l(0,-1*this._rightRotation,0),R.postNotice(N.CONTROL_RIGHT_ROCKER_ROTATE,this._rightRotation)},h.onRightNodeTouchEnd=function(t){var e=this,i=new f(this.rightRockerNode),o=this._rightRotation;i.to(.5,{},{onUpdate:function(t,i){e._rightRotation=(1-i)*o,e.rightRockerNode.eulerAngles=new l(0,-1*e._rightRotation,0)}}).tag(153).start(),R.postNotice(N.CONTROL_RIGHT_ROCKER_STOP,null)},e}(d)).prototype,"leftTouchNode",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(k.prototype,"rightTouchNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(k.prototype,"leftFingerNode",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(k.prototype,"rightFingerNode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=e(k.prototype,"leftRockerNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(k.prototype,"rightRockerNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=e(k.prototype,"leftRockerLimit",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),M=e(k.prototype,"rightRockerLimit",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),b=k))||b));h._RF.pop()}}}));

System.register("chunks:///_virtual/AirplanePickUpNodeCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,o,e,r,n,s,a,c,l,u,d,p;return{setters:[function(t){i=t.applyDecoratedDescriptor,o=t.inheritsLoose,e=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){n=t.cclegacy,s=t._decorator,a=t.Vec3,c=t.Node,l=t.Animation,u=t.find,d=t.Tween,p=t.Component}],execute:function(){var h,g,P,w,y,b,f,R,Y;n._RF.push({},"e6670CWE2RC0ptqrJGQBhw6","AirplanePickUpNodeCtrl",void 0);var N=s.ccclass,m=s.property,v=new a;t("AirplanePickUpNodeCtrl",(h=N("AirplanePickUpNodeCtrl"),g=m(c),P=m(c),w=m(l),h((f=i((b=function(t){function i(){for(var i,o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];return i=t.call.apply(t,[this].concat(n))||this,e(i,"bodyNode",f,r(i)),e(i,"widgetNode",R,r(i)),e(i,"tailAni",Y,r(i)),i.curRotationY=0,i.maxRotationY=30,i.curProgress=0,i.widgetStartPos=new a(0,0,-7),i.widgetEndPos=new a(0,0,-9),i.bodyStartPos=new a(0,0,10),i.bodyEndPos=new a(0,0,5),i}o(i,t);var n=i.prototype;return n.addProgress=function(t){return this.curProgress+=t,this.curProgress<0?this.curProgress=0:this.curProgress>=1&&(this.curProgress=1),a.lerp(v,this.widgetStartPos,this.widgetEndPos,this.curProgress),this.widgetNode.position=v,a.lerp(v,this.bodyStartPos,this.bodyEndPos,this.curProgress),this.bodyNode.position=v,this.curProgress},n.addRotationY=function(t){return this.curRotationY+=t,this.curRotationY<=-this.maxRotationY?this.curRotationY=-this.maxRotationY:this.curRotationY>=this.maxRotationY&&(this.curRotationY=this.maxRotationY),this.node.eulerAngles=new a(0,this.curRotationY,0),this.curRotationY},n.tailPickUp=function(){this.tailAni.play()},n.peopleMove=function(t){var i=this;this.scheduleOnce((function(){var t=u("peoples",i.bodyNode);t.active=!0,new d(t).to(8,{position:new a(0,0,0)}).start()}),t)},i}(p)).prototype,"bodyNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=i(b.prototype,"widgetNode",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=i(b.prototype,"tailAni",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=b))||y));n._RF.pop()}}}));

System.register("chunks:///_virtual/AirplaneProgressPage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioCtrl.ts","./AudioHelper.ts","./BaseUILayerCtrl.ts","./LocalData.ts","./NotificationCenter.ts","./Utils.ts","./PlatformManager.ts","./NodeDelayShow.ts","./PlatformJudge.ts"],(function(e){var t,n,o,i,a,r,l,s,d,u,c,p,g,f,h,N,A,I,y,v,m,C,b,O,B,_,w,P,R,E;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.createForOfIteratorHelperLoose,r=e.createClass},function(e){l=e.cclegacy,s=e._decorator,d=e.Node,u=e.Vec3,c=e.Tween,p=e.find,g=e.Prefab,f=e.log,h=e.isValid,N=e.instantiate,A=e.Quat,I=e.Layers,y=e.MeshRenderer,v=e.UIMeshRenderer},function(e){m=e.CLIP},function(e){C=e.AudioHelper},function(e){b=e.BaseUILayerCtrl},function(e){O=e.LocalData},function(e){B=e.NotificationCenter,_=e.NCKeys},function(e){w=e.Utils},function(e){P=e.PlatformManager},function(e){R=e.NodeDelayShow},function(e){E=e.PlatformJudge}],execute:function(){var S,L,M,x,U,T,k,D,z,V,H,F,W;l._RF.push({},"c9e74BM6lxClLTCbnzkdlHl","AirplaneProgressPage",void 0);var Z=s.ccclass,G=s.property;e("AirplaneProgressPage",(S=Z("AirplaneProgressPage"),L=G(d),M=G(d),x=G(d),U=G(d),T=G(d),S((z=t((D=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,o(t,"titleNode",z,i(t)),o(t,"lightNode",V,i(t)),o(t,"adButtonNode",H,i(t)),o(t,"singleButtonNodeWx",F,i(t)),o(t,"singleButtonNodeOV",W,i(t)),t._curAirplaneIndex=0,t}n(t,e);var l=t.prototype;return l.playInAction=function(){var e=this;C.play("audio",m.MISSION_FINISH),this.titleNode.scale=u.ZERO;var t=new c(this.titleNode);t.to(1,{scale:u.ONE},{easing:"elasticOut"}).call((function(){e.lightNode.active=!0,new c(e.lightNode).to(5,{eulerAngles:new u(0,0,360)}).call((function(){e.lightNode.eulerAngles=u.ZERO})).union().repeatForever().start()})).start();var n=p("particle0",this.node),o=p("particle1",this.node);n.active=!0,o.active=!0,this._curAirplaneIndex=O.getRandomAirplaneIndex();var i="prefab/3d/airplane/airplane"+this._curAirplaneIndex;w.loadResWithCorrection(i,g,(function(t,n){if(t)return f(t);if(0!=h(e.node)){var o=N(n);o.parent=e.node,o.position=new u(-22.752,70,120),o.rotation=A.fromEuler(new A,13.272,-50.562,-26.807),o.scale=new u(50,50,50),e.setNodeGroupAndAddUIMeshRender(o,I.Enum.UI_3D)}}));this.adButtonNode.scale=u.ZERO,(t=new c(this.adButtonNode)).delay(.5).call((function(){e.adButtonNode.getComponent(R).doAction()})).to(1,{scale:u.ONE},{easing:"elasticOut"}).start();var a=this.singleButtonNodeWx;(E.isOppo||E.isVivo)&&(a=this.singleButtonNodeOV),a.active=!0,a.scale=u.ZERO,(t=new c(a)).delay(.5+this.delayAfterAdButton).to(1,{scale:u.ONE},{easing:"elasticOut"}).start(),P.getInstance().trackEvent("ad_plane",{step:"展示"})},l.onSingleButtonClick=function(){C.play("audio",m.CLICK_NORMAL_BUTTON),P.getInstance().vibrateShort("medium"),B.postNotice(_.MISSION_RESET,null),this.node.destroy()},l.onAdButtonClick=function(){C.play("audio",m.CLICK_NORMAL_BUTTON),P.getInstance().vibrateShort("medium"),P.getInstance().trackEvent("ad_plane",{step:"点击"}),P.getInstance().showVideo({},this.onAdComplete.bind(this))},l.onAdComplete=function(e,t){e?(O.cumVideoConunt++,P.getInstance().trackEvent("ad_plane",{step:"完成"}),O.unlockAirplane(this._curAirplaneIndex),O.curAirplaneIndex=this._curAirplaneIndex,B.postNotice(_.MISSION_RESET,null),this.node.destroy()):w.popToast(t)},l.onDestroy=function(){O.resultAirplaneProgress=0},l.setNodeGroupAndAddUIMeshRender=function(e,t){if(e.getComponent(y)&&e.addComponent(v),e.layer=t,e.children.length>0)for(var n,o=a(e.children);!(n=o()).done;){var i=n.value;this.setNodeGroupAndAddUIMeshRender(i,t)}},r(t,[{key:"delayAfterAdButton",get:function(){return E.isWX?2:0}}]),t}(b)).prototype,"titleNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(D.prototype,"lightNode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(D.prototype,"adButtonNode",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(D.prototype,"singleButtonNodeWx",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(D.prototype,"singleButtonNodeOV",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=D))||k));l._RF.pop()}}}));

System.register("chunks:///_virtual/AirplaneTryoutPage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUILayerCtrl.ts","./AudioHelper.ts","./AudioCtrl.ts","./LocalData.ts","./Utils.ts","./NodeDelayShow.ts","./PlatformJudge.ts","./PlatformManager.ts","./NotificationCenter.ts"],(function(e){var t,n,o,i,a,r,l,s,u,d,c,p,f,g,h,N,y,A,I,v,b,m,O,_,C,B,w,T,R,E;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.createForOfIteratorHelperLoose,r=e.createClass},function(e){l=e.cclegacy,s=e._decorator,u=e.Node,d=e.Vec3,c=e.Tween,p=e.Prefab,f=e.log,g=e.isValid,h=e.instantiate,N=e.Quat,y=e.Layers,A=e.find,I=e.MeshRenderer,v=e.UIMeshRenderer},function(e){b=e.BaseUILayerCtrl},function(e){m=e.AudioHelper},function(e){O=e.CLIP},function(e){_=e.LocalData},function(e){C=e.Utils},function(e){B=e.NodeDelayShow},function(e){w=e.PlatformJudge},function(e){T=e.PlatformManager},function(e){R=e.NotificationCenter,E=e.NCKeys}],execute:function(){var L,P,V,M,S,U,x,D,k,z,F,H,K;l._RF.push({},"f1432YATf9JVppL0F9Lgru1","AirplaneTryoutPage",void 0);var W=s.ccclass,Z=s.property;e("AirplaneTryoutPage",(L=W("AirplaneTryoutPage"),P=Z(u),V=Z(u),M=Z(u),S=Z(u),U=Z(u),L((k=t((D=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,o(t,"titleNode",k,i(t)),o(t,"lightNode",z,i(t)),o(t,"adButtonNode",F,i(t)),o(t,"singleButtonNodeWx",H,i(t)),o(t,"singleButtonNodeOV",K,i(t)),t._curAirplaneIndex=0,t}n(t,e);var l=t.prototype;return l.playInAction=function(){var e=this;(w.isOppo||w.isVivo)&&R.postNotice(E.NATIVE_BANNER_STOP_TICK,null),m.play("audio",O.MISSION_FINISH),this.titleNode.scale=d.ZERO;var t=new c(this.titleNode);t.to(1,{scale:d.ONE},{easing:"elasticOut"}).call((function(){e.lightNode.active=!0,new c(e.lightNode).to(5,{eulerAngles:new d(0,0,360)}).call((function(){e.lightNode.eulerAngles=d.ZERO})).union().repeatForever().start()})).start(),this._curAirplaneIndex=_.getRandomAirplaneIndex();var n="prefab/3d/airplane/airplane"+this._curAirplaneIndex;C.loadResWithCorrection(n,p,(function(t,n){if(t)return f(t);if(0!=g(e.node)){var o=h(n);o.parent=e.node,o.position=new d(-22.752,70,120),o.rotation=N.fromEuler(new N,13.272,-50.562,-26.807),o.scale=new d(50,50,50),e.setNodeGroupAndAddUIMeshRender(o,y.Enum.UI_3D)}}));this.adButtonNode.scale=d.ZERO,(t=new c(this.adButtonNode)).delay(.5).call((function(){e.adButtonNode.getComponent(B).doAction()})).to(1,{scale:d.ONE},{easing:"elasticOut"}).start();var o=this.singleButtonNodeWx;(w.isOppo||w.isVivo)&&(o=this.singleButtonNodeOV),o.active=!0,o.scale=d.ZERO,(t=new c(o)).delay(.5+this.delayAfterAdButton).to(1,{scale:d.ONE},{easing:"elasticOut"}).call((function(){w.isOppo||w.isVivo?A("nativeNode",e.node).active=!0:w.isMZ&&R.postNotice(E.NATIVE_BANNER_START_TICK,{showImmediately:!0})})).start(),T.getInstance().trackEvent("ad_tryout",{step:"展示"})},l.onSingleButtonClick=function(){m.play("audio",O.CLICK_NORMAL_BUTTON),T.getInstance().vibrateShort("medium"),this.cb&&this.cb(!1),this.node.destroy()},l.onAdButtonClick=function(){m.play("audio",O.CLICK_NORMAL_BUTTON),T.getInstance().vibrateShort("medium"),T.getInstance().trackEvent("ad_tryout",{step:"点击"}),T.getInstance().showVideo({},this.onAdComplete.bind(this))},l.onAdComplete=function(e,t){e?(_.cumVideoConunt++,T.getInstance().trackEvent("ad_tryout",{step:"完成"}),_._tryOutAirplaneIndex=this._curAirplaneIndex,this.cb&&this.cb(!0),this.node.destroy()):C.popToast(t)},l.setNodeGroupAndAddUIMeshRender=function(e,t){if(e.getComponent(I)&&e.addComponent(v),e.layer=t,e.children.length>0)for(var n,o=a(e.children);!(n=o()).done;){var i=n.value;this.setNodeGroupAndAddUIMeshRender(i,t)}},r(t,[{key:"delayAfterAdButton",get:function(){return w.isWX?2:0}}]),t}(b)).prototype,"titleNode",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(D.prototype,"lightNode",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(D.prototype,"adButtonNode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(D.prototype,"singleButtonNodeWx",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(D.prototype,"singleButtonNodeOV",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=D))||x));l._RF.pop()}}}));

System.register("chunks:///_virtual/AirplaneWheelCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t,l,r,i,a,o,c,p,s;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,l=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,o=e.Node,c=e.Tween,p=e.Vec3,s=e.Component}],execute:function(){var u,h,w,f,W,y,b;i._RF.push({},"488fckxPpxAF4MLMA4wJvPa","AirplaneWheelCtrl",void 0);var v=a.ccclass,A=a.property;e("AirplaneWheelCtrl",(u=v("AirplaneWheelCtrl"),h=A(o),w=A(o),u((y=n((W=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i))||this,l(n,"breakWheel",y,r(n)),l(n,"newWheel",b,r(n)),n}t(n,e);var i=n.prototype;return i.start=function(){},i.playWheelRenewal=function(e,n,t){var l=this;n.play(),new c(this.breakWheel).by(.5,{position:new p(0,-.85,0)}).call((function(){new c(l.breakWheel).to(.8,{eulerAngles:new p(90,0,0)}).start()})).by(.8,{position:new p(0,0,2)}).call((function(){l.breakWheel.active=!1,l.newWheel.active=!0,l.newWheel.position=new p(0,-.85,2);var n=new c(l.newWheel);n.to(.8,{position:new p(0,-.85,0)}).to(.5,{position:p.ZERO}).call((function(){t.play(),e()})).start(),(n=new c(l.newWheel)).to(.8,{eulerAngles:new p(-90,0,0)}).start()})).start()},n}(s)).prototype,"breakWheel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=n(W.prototype,"newWheel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=W))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/AlertLayerCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioCtrl.ts","./AudioHelper.ts","./BaseUILayerCtrl.ts"],(function(t){var e,i,n,r,o,a,s,c,l,u,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,s=t.Label,c=t.find},function(t){l=t.CLIP},function(t){u=t.AudioHelper},function(t){p=t.BaseUILayerCtrl}],execute:function(){var f,h,y,C,d;o._RF.push({},"09eb31r6bNBEbAra0ohN1Ks","AlertLayerCtrl",void 0);var L=a.ccclass,b=a.property;t("AlertLayerCtrl",(f=L("AlertLayerCtrl"),h=b({type:s}),f((d=e((C=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"desLabel",d,r(e)),e.config={},e}i(e,t);var o=e.prototype;return o.init=function(t){this.config=t,this.desLabel.string=t.msg,t.parent?this.node.parent=t.parent:this.node.parent=c("Canvas")},o.start=function(){},o.onCancelButtonClick=function(){u.play("audio",l.CLICK_BACK_BUTTON),this.config.cancelCb&&this.config.cancelCb(this),this.playOutAction()},o.onSureButtonClick=function(){u.play("audio",l.CLICK_NORMAL_BUTTON),this.config.sureCb&&this.config.sureCb(this),this.playOutAction()},o.onOutActionFinish=function(){this.node.destroy()},e}(p)).prototype,"desLabel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=C))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/AudioCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,o,r,n,c,u,l,a,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){n=t.cclegacy,c=t._decorator,u=t.CCString,l=t.AudioClip,a=t.AudioSource,s=t.Component}],execute:function(){var p,S,C,h,_,I,O,f,y;n._RF.push({},"cd349GwEcJOf7Vww4yXLpqq","AudioCtrl",void 0);var A=c.ccclass,N=c.property,d=t("CLIP",function(t){return t[t.BGM=0]="BGM",t[t.CLICK_NORMAL_BUTTON=1]="CLICK_NORMAL_BUTTON",t[t.CLICK_BACK_BUTTON=2]="CLICK_BACK_BUTTON",t[t.GET_CASH=3]="GET_CASH",t[t.MISSION_FINISH=4]="MISSION_FINISH",t[t.COLOR_SMOKE=5]="COLOR_SMOKE",t[t.CRASH=6]="CRASH",t[t.FINISH_POINT=7]="FINISH_POINT",t[t.CASH_FLY=8]="CASH_FLY",t}({}));t("AudioCtrl",(p=A("AudioCtrl"),S=N(u),C=N([l]),h=N(a),p((O=e((I=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),c=0;c<i;c++)n[c]=arguments[c];return e=t.call.apply(t,[this].concat(n))||this,o(e,"sceneName",O,r(e)),o(e,"clips",f,r(e)),o(e,"bgmSource",y,r(e)),e}i(e,t);var n=e.prototype;return n.start=function(){this.oneShotSource=this.node.addComponent(a)},n.play=function(t){t==d.BGM?this.bgmSource.play():this.clips[t]&&this.oneShotSource.playOneShot(this.clips[t])},n.playOnShot=function(t){this.clips[t]&&this.oneShotSource.playOneShot(this.clips[t])},n.stop=function(t){t==d.BGM&&this.bgmSource.stop()},e}(s)).prototype,"sceneName",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=e(I.prototype,"clips",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=e(I.prototype,"bgmSource",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=I))||_));n._RF.pop()}}}));

System.register("chunks:///_virtual/AudioHelper.ts",["cc","./AudioCtrl.ts","./PlatformNotify.ts","./PlatformJudge.ts"],(function(o){var n,e,t,i,r,u,l;return{setters:[function(o){n=o.cclegacy,e=o.find,t=o.log},function(o){i=o.CLIP,r=o.AudioCtrl},function(o){u=o.PlatformNotify},function(o){l=o.PlatformJudge}],execute:function(){n._RF.push({},"3827edtj99DIZPlHFUs4qoR","AudioHelper",void 0);o("AudioHelper",{_inited:!1,init:function(){var o=this;this._inited||(this._inited=!0,u.addObserver(u.BGM_SWITCH,(function(n){n?o.play("audio",i.BGM,!0):o.stop("audio",i.BGM)}),this))},innerAudios:{},play:function(o,n){if(l.isQQ){var t=this.getInnerAudioUrl(o,n);if(newInstance){var i=qq.createInnerAudioContext();i.src=t,i.loop=loop,i.volume=vol,i.autoplay=!0}else{var u=this.innerAudios[t];null==u?((u=qq.createInnerAudioContext()).src=t,u.loop=loop,u.volume=vol,u.autoplay=!0,this.innerAudios[t]=u):u.play()}}else{var s=e(o);if(null==s)return;s.getComponent(r).play(n)}},playOneShot:function(o,n){if(l.isQQ){var t=this.getInnerAudioUrl(o,n);if(newInstance){var i=qq.createInnerAudioContext();i.src=t,i.loop=loop,i.volume=vol,i.autoplay=!0}else{var u=this.innerAudios[t];null==u?((u=qq.createInnerAudioContext()).src=t,u.loop=loop,u.volume=vol,u.autoplay=!0,this.innerAudios[t]=u):u.play()}}else{var s=e(o);if(null==s)return;s.getComponent(r).playOnShot(n)}},stop:function(o,n){if(l.isQQ){var i=this.getInnerAudioUrl(o,n);this.innerAudios[i]&&0==this.innerAudios[i].paused&&this.innerAudios[i].stop()}else{var u=e(o);if(null==u)return t("audioHelper node not found:"+o);u.getComponent(r).stop(n)}},needLoadAudioNode:function(){return!0;//!PlatformJudge.isQQ && !PlatformJudge.isWXDev;
}});n._RF.pop()}}}));

System.register("chunks:///_virtual/AutoPathFindCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,s,r,o,e,n,h;return{setters:[function(t){i=t.inheritsLoose,s=t.createClass},function(t){r=t.cclegacy,o=t._decorator,e=t.Vec3,n=t.Quat,h=t.Component}],execute:function(){var c;r._RF.push({},"8490bnNPxdM37W8nu9InWEd","AutoPathFindCtrl",void 0);var a=o.ccclass,u=(o.property,new e),l=new n;t("AutoPathFindCtrl",a("AutoPathFindCtrl")(c=function(t){function r(){for(var i,s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];return(i=t.call.apply(t,[this].concat(r))||this).isFinished=!0,i.totalTime=0,i.curTime=0,i._remainPaths=[],i._timeScale=1,i._curProgress=0,i._curStartPosition=null,i._curEndPosition=null,i._curStartRotation=null,i._curEndRotation=null,i._curStartScale=null,i._curEndScale=null,i}i(r,t);var o=r.prototype;return o.init=function(t){var i=t[0];i.position&&(this.node.position=i.position),i.rotation&&(this.node.rotation=i.rotation),i.scale&&(this.node.scale=i.scale),this._curStartPosition=new e(this.node.position),this._curStartRotation=new n(this.node.rotation),this._curStartScale=new e(this.node.scale),this._remainPaths.length=0;for(var s=1;s<t.length;s++)this._remainPaths.push(t[s]);this.isFinished=!this.popNextPath(),this.refreshTimeInfo(t)},o.refreshTimeInfo=function(t){this.totalTime=0;for(var i=1;i<t.length;i++){var s=t[i];if(s.time)this.totalTime+=s.time;else{var r=e.distance(s.position,t[i-1].position);this.totalTime+=r/s.speed}}this.curTime=0},o.popNextPath=function(){var t=this._remainPaths.shift();if(t){if(this._curEndPosition=t.position,this._curEndRotation=t.rotation,this._curEndScale=t.scale,this._curStartPosition=new e(this.node.position),this._curStartRotation=new n(this.node.rotation),this._curStartScale=new e(this.node.scale),this._curProgress=0,t.time)this._timeScale=1/t.time;else{var i=e.distance(this._curStartPosition,this._curEndPosition)/t.speed;this._timeScale=1/i}return!0}return!1},o.updatePath=function(t){this.isFinished||(this.curTime+=t,this._curProgress+=t*this._timeScale,this._curProgress<=0?this._curProgress=0:this._curProgress>=1&&(this._curProgress=1),this._curEndPosition&&(e.lerp(u,this._curStartPosition,this._curEndPosition,this._curProgress),this.node.position=u),this._curEndRotation&&(n.slerp(l,this._curStartRotation,this._curEndRotation,this._curProgress),this.node.rotation=l),this._curEndScale&&(e.lerp(u,this._curStartScale,this._curEndScale,this._curProgress),this.node.scale=u),this._curProgress>=1&&(this.isFinished=!this.popNextPath()))},o.reversePath=function(t){this.isFinished||(this.curTime-=t,this._curProgress-=t*this._timeScale,this._curProgress<=0?this._curProgress=0:this._curProgress>=1&&(this._curProgress=1),this._curEndPosition&&(e.lerp(u,this._curStartPosition,this._curEndPosition,this._curProgress),this.node.position=u),this._curEndRotation&&(n.slerp(l,this._curStartRotation,this._curEndRotation,this._curProgress),this.node.rotation=l),this._curEndScale&&(e.lerp(u,this._curStartScale,this._curEndScale,this._curProgress),this.node.scale=u))},s(r,[{key:"totalProgress",get:function(){return this.isFinished||this.totalTime<=0?1:this.curTime/this.totalTime}}]),r}(h))||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/bag_car_config.ts",["cc"],(function(e){var n,a;return{setters:[function(e){n=e.cclegacy,a=e.Vec3}],execute:function(){n._RF.push({},"5a4423isvVDvL7UnqkcksjG","bag_car_config",void 0);e("bag_car_config",[{slide_path:[new a(40,0,205),new a(55,0,205),new a(55,0,135),new a(45,0,135)],carriage_num:1},{slide_path:[new a(40,0,205),new a(55,0,205),new a(55,0,245),new a(175,0,245)],carriage_num:2},{slide_path:[new a(40,0,205),new a(55,0,205),new a(55,0,195),new a(115,0,195),new a(115,0,135)],carriage_num:2},{slide_path:[new a(40,0,205),new a(55,0,205),new a(55,0,75),new a(115,0,75),new a(115,0,35)],carriage_num:2},{slide_path:[new a(40,0,205),new a(175,0,205),new a(175,0,275)],carriage_num:2},{slide_path:[new a(40,0,205),new a(115,0,205),new a(115,0,135),new a(175,0,135),new a(175,0,75)],carriage_num:2}]);n._RF.pop()}}}));

System.register("chunks:///_virtual/BagCarCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./weather_config.ts"],(function(e){var t,i,r,n,o,a,l,c,s,u,d,g,f,p,h,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,o=e.createForOfIteratorHelperLoose},function(e){a=e.cclegacy,l=e._decorator,c=e.Mat4,s=e.Vec3,u=e.RigidBody,d=e.Prefab,g=e.CCFloat,f=e.Node,p=e.BoxCollider,h=e.Component},function(e){y=e.weather_config}],execute:function(){var C,b,m,v,w,B,z,P,x,D,R;a._RF.push({},"c64c4s1TXdH1KJkzLbRwx0P","BagCarCtrl",void 0);var _=l.ccclass,N=l.property,F=new c,H=new c,I=new s;e("BagCarCtrl",(C=_("BagCarCtrl"),b=N(u),m=N(d),v=N(g),w=N(f),C((P=t((z=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"rigidBody",P,n(t)),r(t,"carriagePrefab",x,n(t)),r(t,"limitZ",D,n(t)),r(t,"lightNode",R,n(t)),t}i(t,e);var a=t.prototype;return a.start=function(){},a.initCarriageNum=function(e){},a.setStatic=function(){this.rigidBody.isStatic=!0;for(var e,t=this.getComponentsInChildren(u),i=o(t);!(e=i()).done;){e.value.isStatic=!0}},a.setDynamic=function(){this.rigidBody.isDynamic=!0;for(var e,t=this.getComponentsInChildren(u),i=o(t);!(e=i()).done;){e.value.isDynamic=!0}},a.tryHoldBag=function(e,t){for(var i,r=this.node.children.length-t-1-1,n=this.node.children[r],a=o(e);!(i=a()).done;){var l=i.value;if(null!=l.getComponent(u)){var d=l.worldPosition;if(n.getWorldMatrix(F),c.invert(H,F),s.transformMat4(I,d,H),I.x>-.75&&I.x<.75&&I.y>.189&&I.y<1.189&&I.z>-1.2&&I.z<1.2){var g=l.worldRotation;l.getComponent(u).enabled=!1,l.getComponent(p).enabled=!1,l.parent=n,l.worldPosition=d,l.worldRotation=g}}}},a.setWeahter=function(e){e%=y.length,"night"==y[e]&&(this.lightNode.active=!0)},t}(h)).prototype,"rigidBody",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(z.prototype,"carriagePrefab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(z.prototype,"limitZ",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=t(z.prototype,"lightNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=z))||B));a._RF.pop()}}}));

System.register("chunks:///_virtual/Base64.ts",["cc"],(function(r){var t;return{setters:[function(r){t=r.cclegacy}],execute:function(){t._RF.push({},"c5c3c8Uz/hIs6C0haYAAHKV","Base64",void 0);r("Base64",{_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(r){var t,e,o,h,a,n,c,i="",d=0;for(r=this._utf8_encode(r);d<r.length;)h=(t=r.charCodeAt(d++))>>2,a=(3&t)<<4|(e=r.charCodeAt(d++))>>4,n=(15&e)<<2|(o=r.charCodeAt(d++))>>6,c=63&o,isNaN(e)?n=c=64:isNaN(o)&&(c=64),i=i+this._keyStr.charAt(h)+this._keyStr.charAt(a)+this._keyStr.charAt(n)+this._keyStr.charAt(c);return i},decode:function(r){var t,e,o,h,a,n,c="",i=0;for(r=r.replace(/[^A-Za-z0-9\+\/\=]/g,"");i<r.length;)t=this._keyStr.indexOf(r.charAt(i++))<<2|(h=this._keyStr.indexOf(r.charAt(i++)))>>4,e=(15&h)<<4|(a=this._keyStr.indexOf(r.charAt(i++)))>>2,o=(3&a)<<6|(n=this._keyStr.indexOf(r.charAt(i++))),c+=String.fromCharCode(t),64!=a&&(c+=String.fromCharCode(e)),64!=n&&(c+=String.fromCharCode(o));return c=this._utf8_decode(c)},_utf8_encode:function(r){r=r.replace(/\r\n/g,"\n");for(var t="",e=0;e<r.length;e++){var o=r.charCodeAt(e);o<128?t+=String.fromCharCode(o):o>127&&o<2048?(t+=String.fromCharCode(o>>6|192),t+=String.fromCharCode(63&o|128)):(t+=String.fromCharCode(o>>12|224),t+=String.fromCharCode(o>>6&63|128),t+=String.fromCharCode(63&o|128))}return t},_utf8_decode:function(r){for(var t="",e=0,o=0,h=0,a=0;e<r.length;)(o=r.charCodeAt(e))<128?(t+=String.fromCharCode(o),e++):o>191&&o<224?(h=r.charCodeAt(e+1),t+=String.fromCharCode((31&o)<<6|63&h),e+=2):(h=r.charCodeAt(e+1),a=r.charCodeAt(e+2),t+=String.fromCharCode((15&o)<<12|(63&h)<<6|63&a),e+=3);return t}});t._RF.pop()}}}));

System.register("chunks:///_virtual/BaseUILayerCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioCtrl.ts","./AudioHelper.ts","./NotificationCenter.ts"],(function(t){var n,i,o,e,a,r,c,l,u,s,p,f,y,A;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,e=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,c=t.CCString,l=t.Animation,u=t.log,s=t.Component},function(t){p=t.CLIP},function(t){f=t.AudioHelper},function(t){y=t.NotificationCenter,A=t.NCKeys}],execute:function(){var h,m,C,d,I,N,b,L,B;a._RF.push({},"5bf49jhCuNMYK5wPmOHGqDp","BaseUILayerCtrl",void 0);var g=r.ccclass,_=r.property;t("BaseUILayerCtrl",(h=g("BaseUILayerCtrl"),m=_(c),C=_(c),d=_({type:l}),h((b=n((N=function(t){function n(){for(var n,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,o(n,"inActionName",b,e(n)),o(n,"outActionName",L,e(n)),o(n,"animation",B,e(n)),n}i(n,t);var a=n.prototype;return a.onLoad=function(){},a.start=function(){},a.onEnable=function(){this.playInAction()},a.playInAction=function(){this.animation.play(this.inActionName)},a.onInActionFinish=function(){u("InActionFinish"),y.postNotice(A.BASEUILAYER_SHOW,{name:this.node.name,ctrl:this})},a.playOutAction=function(){this.animation.play(this.outActionName)},a.onOutActionFinish=function(){y.postNotice(A.BASEUILAYER_HIDE,{name:this.node.name,ctrl:this}),this.node.destroy()},a.onCloseButtonClick=function(){f.play("audio",p.CLICK_BACK_BUTTON),this.playOutAction()},n}(s)).prototype,"inActionName",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),L=n(N.prototype,"outActionName",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),B=n(N.prototype,"animation",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=N))||I));a._RF.pop()}}}));

System.register("chunks:///_virtual/BlackCurtainCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NotificationCenter.ts","./ControlWidgetBase.ts"],(function(t){var n,o,e,r,i,c,a,l,u;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,r=t.Sprite,i=t.Color,c=t.Tween},function(t){a=t.NotificationCenter,l=t.NCKeys},function(t){u=t.ControlWidgetBase}],execute:function(){var s;o._RF.push({},"02667Yg1p9KcpGQnkkufC6+","BlackCurtainCtrl",void 0);var p=e.ccclass;e.property,t("BlackCurtainCtrl",p("BlackCurtainCtrl")(s=function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var e=o.prototype;return e.playInAction=function(){this.node.active=!0;var t=this.node.getComponent(r);t.color=new i(255,255,255,1),new c(t).to(.3,{color:new i(255,255,255,255)}).delay(.1).call((function(){a.postNotice(l.CONTROL_BLACK_CURTAIN_APPEAR,null)})).start()},e.playOutAction=function(){var t=this,n=this.node.getComponent(r);n.color=new i(255,255,255,255);var o=new i(255,255,255,0),e=new i;new c(n).to(1,{},{onUpdate:function(t,r){n.color=i.lerp(e,i.WHITE,o,r)}}).call((function(){t.node.active=!1})).start()},o}(u))||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/BottomBannerCtrlMZ.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlatformManager.ts","./RemoteConfig.ts","./NotificationCenter.ts","./PlatformNotify.ts"],(function(t){var n,e,o,a,r,i,s,c,l;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,a=t.Component},function(t){r=t.PlatformManager},function(t){i=t.RemoteConfig},function(t){s=t.NotificationCenter,c=t.NCKeys},function(t){l=t.PlatformNotify}],execute:function(){var f;e._RF.push({},"68b2eotaxVNdJoZA+qcNHs3","BottomBannerCtrlMZ",void 0);var u=o.ccclass,N=(o.property,!1),B=-999;t("BottomBannerCtrlMZ",u("BottomBannerCtrlMZ")(f=function(t){function e(){for(var n,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return(n=t.call.apply(t,[this].concat(o))||this)._bannerInterval=30,n}n(e,t);var o=e.prototype;return o.start=function(){this.initReData(),-999==B&&(B=this._bannerInterval-3)},o.onEnable=function(){s.addObserver(c.NATIVE_BANNER_START_TICK,this.onNativeBannerStartTick,this),s.addObserver(c.NATIVE_BANNER_STOP_TICK,this.onNativeBannerStopTick,this),l.addObserver(l.NATIVE_BANNER_CLOSE_BY_USER,this.onNativeBannerCloseByUser,this)},o.onDisable=function(){s.removeObserver(c.NATIVE_BANNER_START_TICK,this),s.removeObserver(c.NATIVE_BANNER_STOP_TICK,this),l.removeObserver(l.NATIVE_BANNER_CLOSE_BY_USER,this)},o.initReData=function(){if(!N){var t=new XMLHttpRequest;t.open("POST","https://ga.gametdd.com/adCtrl/agd/conf",!0),t.setRequestHeader("Content-Type","application/json; charset=utf-8");var n=JSON.stringify({id:"61974f3cf18a1a21840e9d04"});t.send(n),t.onloadend=function(){if(200==t.status){var n=JSON.parse(t.responseText);for(var e in n.data)"no"==n.data[e]?i[e]=0:i[e]=parseInt(n.data[e]);console.log("得到re.data的值了：",n.data),console.log("RemoteConfig的值",i),N=!0}else console.error("请求re.data的值失败了",t)}}},o.updateForBanner=function(t){(B+=t)>=this._bannerInterval&&(B=0,r.getInstance().showBanner({}))},o.onNativeBannerStartTick=function(t){console.log("onNativeBannerStartTick"),B=0,r.getInstance().showBanner({}),this.schedule(this.updateForBanner,1)},o.onNativeBannerStopTick=function(){console.log("onNativeBannerStopTick"),r.getInstance().hideBanner({}),this.unschedule(this.updateForBanner)},o.onNativeBannerCloseByUser=function(){console.log("onNativeBannerCloseByUser"),B=0},e}(a))||f);e._RF.pop()}}}));

System.register("chunks:///_virtual/BottomBannerCtrlOppo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RemoteConfig.ts","./PlatformManager.ts","./NativeNodeCtrl.ts","./NotificationCenter.ts","./PlatformNotify.ts"],(function(e){var t,n,o,a,r,i,s,c,l,u;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,a=e.Component},function(e){r=e.RemoteConfig},function(e){i=e.PlatformManager},function(e){s=e.NativeNodeCtrl},function(e){c=e.NotificationCenter,l=e.NCKeys},function(e){u=e.PlatformNotify}],execute:function(){var f;n._RF.push({},"2d189NXq8ZHCambbj7efJh7","BottomBannerCtrlOppo",void 0);var p=o.ccclass,N=(o.property,!1),d=-999;e("BottomBannerCtrlOppo",p("BottomBannerCtrlOppo")(f=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))||this)._bannerInterval=30,t}t(n,e);var o=n.prototype;return o.start=function(){this.initReData(),-999==d?d=this._bannerInterval-3:i.getInstance().showBanner({type:"crossScene"})},o.onEnable=function(){c.addObserver(l.NATIVE_BANNER_START_TICK,this.onNativeBannerStartTick,this),c.addObserver(l.NATIVE_BANNER_STOP_TICK,this.onNativeBannerStopTick,this),u.addObserver(u.NATIVE_BANNER_CLOSE_BY_USER,this.onNativeBannerCloseByUser,this)},o.onDisable=function(){c.removeObserver(l.NATIVE_BANNER_START_TICK,this),c.removeObserver(l.NATIVE_BANNER_STOP_TICK,this),u.removeObserver(u.NATIVE_BANNER_CLOSE_BY_USER,this)},o.initReData=function(){if(!N){var e=new XMLHttpRequest;e.open("POST","https://ga.gametdd.com/adCtrl/agd/conf",!0),e.setRequestHeader("Content-Type","application/json; charset=utf-8");var t=JSON.stringify({id:"6177be331676e06e7aa6a731"});e.send(t),e.onloadend=function(){if(200==e.status){var t=JSON.parse(e.responseText);for(var n in t.data)"no"==t.data[n]?r[n]=0:r[n]=parseInt(t.data[n]);console.log("得到re.data的值了：",t.data),console.log("RemoteConfig的值",r),N=!0,d=r.p9-3}else console.error("请求re.data的值失败了",e)}}},o.updateForBanner=function(e){s.instance||(d+=e)>=r.p9&&(d=0,i.getInstance().hideBanner({tryDestroy:!1}),this.scheduleOnce((function(){i.getInstance().showBanner({type:"native"})}),.3))},o.onNativeBannerStartTick=function(e){console.log("onNativeBannerStartTick"),e.showImmediately&&(d=0,i.getInstance().hideBanner({}),this.scheduleOnce((function(){i.getInstance().showBanner({type:"native"})}),1)),this.schedule(this.updateForBanner,1)},o.onNativeBannerStopTick=function(){console.log("onNativeBannerStopTick"),i.getInstance().hideBanner({}),this.unschedule(this.updateForBanner)},o.onNativeBannerCloseByUser=function(){console.log("onNativeBannerCloseByUser"),d=0},n}(a))||f);n._RF.pop()}}}));

System.register("chunks:///_virtual/BottomBannerCtrlVivo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NotificationCenter.ts","./PlatformNotify.ts","./RemoteConfig.ts","./NativeNodeCtrl.ts","./PlatformManager.ts"],(function(n){var e,t,o,a,r,i,s,c,l,h;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy,o=n._decorator,a=n.Component},function(n){r=n.NotificationCenter,i=n.NCKeys},function(n){s=n.PlatformNotify},function(n){c=n.RemoteConfig},function(n){l=n.NativeNodeCtrl},function(n){h=n.PlatformManager}],execute:function(){var u;t._RF.push({},"6488clpLNVN/6bdq0yixF9J","BottomBannerCtrlVivo",void 0);var v=o.ccclass,f=(o.property,!1);n("BottomBannerCtrlVivo",v("BottomBannerCtrlVivo")(u=function(n){function t(){for(var e,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return(e=n.call.apply(n,[this].concat(o))||this)._bannerShowTick=0,e._bannerInterval=30,e}e(t,n);var o=t.prototype;return o.start=function(){this.initReData(),this._bannerShowTick=this._bannerInterval-3},o.onEnable=function(){r.addObserver(i.NATIVE_BANNER_START_TICK,this.onNativeBannerStartTick,this),r.addObserver(i.NATIVE_BANNER_STOP_TICK,this.onNativeBannerStopTick,this),s.addObserver(s.NATIVE_BANNER_CLOSE_BY_USER,this.onNativeBannerCloseByUser,this)},o.onDisable=function(){r.removeObserver(i.NATIVE_BANNER_START_TICK,this),r.removeObserver(i.NATIVE_BANNER_STOP_TICK,this),s.removeObserver(s.NATIVE_BANNER_CLOSE_BY_USER,this)},o.initReData=function(){var n=this;if(!f){var e=new XMLHttpRequest;e.open("POST","https://ga.gametdd.com/adCtrl/agd/conf",!0),e.setRequestHeader("Content-Type","application/json; charset=utf-8");var t=JSON.stringify({id:"6177be3f1676e06e7aa6a733"});e.send(t),e.onloadend=function(){if(200==e.status){var t=JSON.parse(e.responseText);for(var o in t.data)"no"==t.data[o]?c[o]=0:c[o]=parseInt(t.data[o]);console.log("得到re.data的值了：",t.data),console.log("RemoteConfig的值",c),f=!0,n._bannerInterval=c.p9,n._bannerInterval}else console.error("请求re.data的值失败了",e)}}},o.updateForBanner=function(n){l.instance||(this._bannerShowTick+=n,this._bannerShowTick>=this._bannerInterval&&(this._bannerShowTick=0,h.getInstance().hideBanner({tryDestroy:!1}),this.scheduleOnce((function(){h.getInstance().showBanner({type:"native"})}),1)))},o.onNativeBannerStartTick=function(){console.log("onNativeBannerStartTick"),h.getInstance().hideBanner({}),this._bannerShowTick=0,this.scheduleOnce((function(){h.getInstance().showBanner({type:"native"})}),1),this.schedule(this.updateForBanner,1)},o.onNativeBannerStopTick=function(){console.log("onNativeBannerStopTick"),h.getInstance().hideBanner({}),this.unschedule(this.updateForBanner)},o.onNativeBannerCloseByUser=function(){console.log("onNativeBannerCloseByUser"),this._bannerShowTick=0},t}(a))||u);t._RF.pop()}}}));

System.register("chunks:///_virtual/BottomBannerCtrlWX.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LocalData.ts","./PlatformManager.ts","./RemoteConfig.ts"],(function(t){var n,e,o,a,r,i,s,c;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,a=t.find,r=t.Component},function(t){i=t.LocalData},function(t){s=t.PlatformManager},function(t){c=t.RemoteConfig}],execute:function(){var l;e._RF.push({},"40054EtmmNDir/JtgvQ7pYf","BottomBannerCtrlWX",void 0);var u=o.ccclass;o.property,t("BottomBannerCtrlWX",u("BottomBannerCtrlWX")(l=function(t){function e(){for(var n,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return(n=t.call.apply(t,[this].concat(o))||this)._bannerShowTick=0,n}n(e,t);var o=e.prototype;return o.start=function(){this.initReData(),this.schedule(this.updateForBanner,1),this._bannerShowTick=c.p1-3},o.initReData=function(){var t={id:"6161127363c5312f52ba54ff",sid:i.sid},n=new XMLHttpRequest;n.open("POST","https://ga.gametdd.com/adCtrl/agd/conf",!0),n.setRequestHeader("Content-Type","application/json; charset=utf-8");var e=JSON.stringify(t);n.send(e),n.onloadend=function(){if(200==n.status){var t=JSON.parse(n.responseText);for(var e in t.data)"no"==t.data[e]?c[e]=0:c[e]=parseInt(t.data[e]);console.log("得到re.data的值了：",t.data),console.log("RemoteConfig的值",c)}else console.error("请求re.data的值失败了")}},o.updateForBanner=function(t){a("Canvas/boxLayer")||(this._bannerShowTick+=t,this._bannerShowTick>=c.p1&&(console.log("p1时间到了"),this._bannerShowTick=0,s.getInstance().hideBanner({tryDestroy:!0}),this.scheduleOnce((function(){s.getInstance().inViewBanner()}),2)))},o.onDestroy=function(){s.getInstance().hideBanner({tryDestroy:!0})},e}(r))||l);e._RF.pop()}}}));

System.register("chunks:///_virtual/BottomBannerInitCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlatformJudge.ts","./BottomBannerCtrlWX.ts","./BottomBannerCtrlOppo.ts","./BottomBannerCtrlVivo.ts","./BottomBannerCtrlMZ.ts"],(function(t){var n,o,r,e,i,s,a,B,p;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,r=t._decorator,e=t.Component},function(t){i=t.PlatformJudge},function(t){s=t.BottomBannerCtrlWX},function(t){a=t.BottomBannerCtrlOppo},function(t){B=t.BottomBannerCtrlVivo},function(t){p=t.BottomBannerCtrlMZ}],execute:function(){var c;o._RF.push({},"57f6eD6F0pPK5tQdVpIgy7A","BottomBannerInitCtrl",void 0);var l=r.ccclass;r.property,t("BottomBannerInitCtrl",l("BottomBannerInitCtrl")(c=function(t){function o(){return t.apply(this,arguments)||this}return n(o,t),o.prototype.start=function(){i.isWX?this.addComponent(s):i.isOppo?this.addComponent(a):i.isVivo?this.addComponent(B):i.isMZ&&this.addComponent(p)},o}(e))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/BoxLayerCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioCtrl.ts","./AudioHelper.ts","./BaseUILayerCtrl.ts","./LocalData.ts","./NotificationCenter.ts","./Utils.ts","./PlatformManager.ts"],(function(e){var t,r,i,o,a,n,s,c,l,u,h,d,p,b,w,f,g,y,v,B,m,k,T;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,n=e._decorator,s=e.ProgressBar,c=e.Node,l=e.Sprite,u=e.SpriteFrame,h=e.Label,d=e.view,p=e.Vec3,b=e.find,w=e.Tween},function(e){f=e.CLIP},function(e){g=e.AudioHelper},function(e){y=e.BaseUILayerCtrl},function(e){v=e.LocalData},function(e){B=e.NotificationCenter,m=e.NCKeys},function(e){k=e.Utils},function(e){T=e.PlatformManager}],execute:function(){var N,S,C,L,I,O,F,A,_,z,E,M,V,x,P;a._RF.push({},"1d22alVl+NMS7/otMGArfkS","BoxLayerCtrl",void 0);var D=n.ccclass,H=n.property;e("BoxLayerCtrl",(N=D("BoxLayerCtrl"),S=H(s),C=H(c),L=H(c),I=H(l),O=H(u),F=H(h),N((z=t((_=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return t=e.call.apply(e,[this].concat(a))||this,i(t,"bar",z,o(t)),i(t,"clickButtonNode",E,o(t)),i(t,"getButtonNode",M,o(t)),i(t,"rewardIcon",V,o(t)),i(t,"rewardFrame",x,o(t)),i(t,"rewardLabel",P,o(t)),t.barTicked=!1,t.clickStartTimeStamp=0,t.bannerShowed=!1,t.closeCb=null,t}r(t,e);var a=t.prototype;return a.start=function(){var e=d.getVisibleSize();this.clickButtonNode.worldPosition=new p(e.width/2,100,0),this.getButtonNode.worldPosition=this.clickButtonNode.worldPosition,T.getInstance().outViewBanner();var t=b("top/light",this.node);new w(t).to(5,{eulerAngles:new p(0,0,360)}).call((function(){t.eulerAngles=p.ZERO})).union().repeatForever().start()},a.onDestroy=function(){B.removeObserver(m.EVENT_SHOW,this),this.closeCb&&this.closeCb(),setTimeout((function(){T.getInstance().inViewBanner()}),5e3)},a.onClickButtonClick=function(){var e=this;g.play("audio",f.CLICK_NORMAL_BUTTON),T.getInstance().vibrateShort("medium"),this.shakeBox();var t=b("finger",this.clickButtonNode);t.active&&(t.active=!1),this.bar.progress+=.1,0==this.barTicked&&this.bar.progress>=.15&&(this.barTicked=!0,this.schedule(this.updateForBarTick),this.clickStartTimeStamp=dayjs().unix()),0==this.bannerShowed&&this.bar.progress>=.5&&(this.bannerShowed=!0,T.getInstance().inViewBanner(),this.scheduleOnce((function(){B.removeObserver(m.EVENT_SHOW,e),T.getInstance().hideBanner({tryDestroy:!0})}),2+1*Math.random()),B.addObserver(m.EVENT_SHOW,this.onGameShow,this),this.unschedule(this.updateForBarTick)),this.bar.progress>=1&&this.showReward()},a.onGameShow=function(){B.removeObserver(m.EVENT_SHOW,this),this.bar.progress=1,this.showReward()},a.showReward=function(){this.rewardIcon.spriteFrame=this.rewardFrame,T.getInstance().hideBanner({tryDestroy:!0}),this.unschedule(this.updateForBarTick),this.bar.node.active=!1,this.getButtonNode.active=!0,this.clickButtonNode.active=!1,this.rewardLabel.node.active=!0},a.getReward=function(){g.play("audio",f.GET_CASH),T.getInstance().vibrateShort("medium"),v.cash+=500,v.save(),k.popToast("恭喜获得500钞票"),this.node.destroy()},a.updateForBarTick=function(e){var t=this.bar.progress;t-=.001,this.bar.progress=t,t<=0?(this.clickButtonNode.active=!1,this.unschedule(this.updateForBarTick),this.playOutAction(),k.popToast("很遗憾你的手速太慢了")):this.bar.progress=t},a.playOutAction=function(){this.node.destroy()},a.shakeBox=function(){var e=this.rewardIcon.node;w.stopAllByTarget(e);for(var t=new p(-9,43,0),r=new w(e),i=0;i<4;i++){var o=new p(t);o.x+=5*Math.random()*4-5,o.y+=5*Math.random()*4-5,o.z+=5*Math.random()*4-5,r.to(.05,{position:o})}r.start()},t}(y)).prototype,"bar",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(_.prototype,"clickButtonNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(_.prototype,"getButtonNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(_.prototype,"rewardIcon",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(_.prototype,"rewardFrame",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(_.prototype,"rewardLabel",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=_))||A));a._RF.pop()}}}));

System.register("chunks:///_virtual/bus_config.ts",["cc"],(function(e){var n,w;return{setters:[function(e){n=e.cclegacy,w=e.Vec3}],execute:function(){n._RF.push({},"11c2eq5hzVJoYr5LCVxvNjL","bus_config",void 0);e("bus_config",[{slide_path:[new w(35,0,195),new w(115,0,195),new w(115,0,125)]},{slide_path:[new w(65,0,245),new w(115,0,245),new w(115,0,275)]},{slide_path:[new w(25,0,155),new w(55,0,155),new w(55,0,75),new w(95,0,75)]},{slide_path:[new w(105,0,135),new w(175,0,135),new w(175,0,75),new w(145,0,75)]},{slide_path:[new w(35,0,75),new w(115,0,75),new w(115,0,135),new w(175,0,135),new w(175,0,235)]}]);n._RF.pop()}}}));

System.register("chunks:///_virtual/BusEntranceNodeCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BusPassengerCtrl.ts"],(function(e){var n,t,r,o,s,a,l,i,u,c;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,s=e.createForOfIteratorHelperLoose},function(e){a=e.cclegacy,l=e._decorator,i=e.Vec3,u=e.Component},function(e){c=e.BusPassengerCtrl}],execute:function(){var p,d,v,f,h;a._RF.push({},"155c1v+ZzFOxKWHirIpB/fv","BusEntranceNodeCtrl",void 0);var g=l.ccclass,w=l.property;e("BusEntranceNodeCtrl",(p=g("BusEntranceNodeCtrl"),d=w([c]),p((h=n((f=function(e){function n(){for(var n,t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return n=e.call.apply(e,[this].concat(s))||this,r(n,"passengerCtrls",h,o(n)),n}t(n,e);var a=n.prototype;return a.initPassengersPath=function(){var e=new i(this.node.worldPosition),n=new i(e);n.z+=1,e.y=.8;for(var t,r=0,o=s(this.passengerCtrls);!(t=o()).done;){var a=t.value,l=new i(a.node.position),u=n.z-l.z,c=new i(n);c.z=l.z+u*(.3+.6*Math.random());var p=[{position:l,rotation:null,scale:null,speed:1},{position:null,rotation:null,scale:null,time:1*r+1*Math.random()},{position:c,rotation:null,scale:null,speed:2},{position:n,rotation:null,scale:null,speed:2},{position:e,rotation:null,scale:null,speed:2}];a.init(p),r++}},a.upgradePassengersPath=function(e){for(var n,t=0,r=s(this.passengerCtrls);!(n=r()).done;){var o=n.value;o.isFinished?t++:o.updatePath(e)}return t},a.setPassengersWalk=function(){for(var e,n=s(this.passengerCtrls);!(e=n()).done;){e.value.startWalk()}},a.setPassengerIdle=function(){for(var e,n=s(this.passengerCtrls);!(e=n()).done;){e.value.startIdle()}},a.initPassengerOut=function(){var e=new i(this.node.worldPosition);e.y=.8;var n=new i(-1,0,0);n=i.transformQuat(new i,n,this.node.worldRotation);var t=new i(e);t.add(n),t.y=0;var r=new i(e);r.add(n.multiplyScalar(30)),r.y=0;for(var o,a=0,l=s(this.passengerCtrls);!(o=l()).done;){var u=o.value,c=[{position:e,rotation:null,scale:null,speed:2},{position:null,rotation:null,scale:null,time:.6*a+.5*Math.random()},{position:t,rotation:null,scale:null,speed:2},{position:r,rotation:null,scale:null,speed:2}];u.init(c),a++}},n}(u)).prototype,"passengerCtrls",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=f))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/BusNodeCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./weather_config.ts","./BusEntranceNodeCtrl.ts"],(function(e){var t,r,n,o,i,s,a,l,u,c,h,f,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,i=e.createForOfIteratorHelperLoose},function(e){s=e.cclegacy,a=e._decorator,l=e.Node,u=e.Tween,c=e.Vec3,h=e.Component},function(e){f=e.weather_config},function(e){d=e.BusEntranceNodeCtrl}],execute:function(){var v,g,p,b,C,P,w,y,_,D,F;s._RF.push({},"290e7c82clFsJu7sufQqAwQ","BusNodeCtrl",void 0);var E=a.ccclass,N=a.property;e("BusNodeCtrl",(v=E("BusNodeCtrl"),g=N([l]),p=N([l]),b=N([d]),C=N(l),v((y=t((w=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i))||this,n(t,"leftDoors",y,o(t)),n(t,"rightDoors",_,o(t)),n(t,"entranceCtrls",D,o(t)),n(t,"lightNode",F,o(t)),t}r(t,e);var s=t.prototype;return s.start=function(){},s.openDoor=function(e){var t=this;this._doorEventFinishCb=e;for(var r,n=i(this.leftDoors);!(r=n()).done;){var o=r.value;new u(o).by(.5,{position:new c(0,0,-.5)}).start()}for(var s,a=i(this.rightDoors);!(s=a()).done;){var l=s.value;new u(l).by(.5,{position:new c(0,0,.5)}).start()}this.scheduleOnce((function(){t._doorEventFinishCb&&t._doorEventFinishCb(),t._doorEventFinishCb=null}),.5)},s.closeDoor=function(e){var t=this;this._doorEventFinishCb=e;for(var r,n=i(this.leftDoors);!(r=n()).done;){var o=r.value;new u(o).by(.5,{position:new c(0,0,.5)}).start()}for(var s,a=i(this.rightDoors);!(s=a()).done;){var l=s.value;new u(l).by(.5,{position:new c(0,0,-.5)}).start()}this.scheduleOnce((function(){t._doorEventFinishCb&&t._doorEventFinishCb(),t._doorEventFinishCb=null}),.5)},s.initPassengersPath=function(){for(var e,t=i(this.entranceCtrls);!(e=t()).done;){e.value.initPassengersPath()}},s.upgradePassengersPath=function(e){for(var t,r=0,n=i(this.entranceCtrls);!(t=n()).done;){r+=t.value.upgradePassengersPath(e)}return r},s.setPassengersWalk=function(){for(var e,t=i(this.entranceCtrls);!(e=t()).done;){e.value.setPassengersWalk()}},s.setPassengerIdle=function(){for(var e,t=i(this.entranceCtrls);!(e=t()).done;){e.value.setPassengerIdle()}},s.startPassengerOut=function(){for(var e,t=i(this.entranceCtrls);!(e=t()).done;){e.value.initPassengerOut()}this.schedule(this.upgradePassengersPath)},s.setWeahter=function(e){e%=f.length,"night"==f[e]&&(this.lightNode.active=!0)},t}(h)).prototype,"leftDoors",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=t(w.prototype,"rightDoors",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=t(w.prototype,"entranceCtrls",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=t(w.prototype,"lightNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=w))||P));s._RF.pop()}}}));

System.register("chunks:///_virtual/BusPassengerCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AutoPathFindCtrl.ts","./Utils.ts"],(function(t){var i,s,n,e,r,a,o,h,l,c,u,p;return{setters:[function(t){i=t.applyDecoratedDescriptor,s=t.inheritsLoose,n=t.initializerDefineProperty,e=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,o=t.SkeletalAnimation,h=t.CCString,l=t.Vec3,c=t.Quat},function(t){u=t.AutoPathFindCtrl},function(t){p=t.Utils}],execute:function(){var d,P,_,f,C,S,m,w,g;r._RF.push({},"21fc2SzlrhBe6QSpPq8kvPw","BusPassengerCtrl",void 0);var y=a.ccclass,v=a.property;t("BusPassengerCtrl",(d=y("BusPassengerCtrl"),P=v(o),_=v(h),f=v(h),d((m=i((S=function(t){function i(){for(var i,s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(i=t.call.apply(t,[this].concat(r))||this)._isInitFirstPath=!1,n(i,"ani",m,e(i)),n(i,"walkClip",w,e(i)),n(i,"idleClip",g,e(i)),i.curClip="",i}s(i,t);var r=i.prototype;return r.startWalk=function(){0==this.isFinished&&null!=this._curEndPosition&&this.curClip!=this.walkClip&&(this.ani.play(this.walkClip),this.ani.getState(this.walkClip).setTime(Math.random()),this.curClip=this.walkClip)},r.startIdle=function(){this.curClip!=this.idleClip&&(this.ani.play(this.idleClip),this.ani.getState(this.idleClip).setTime(3*Math.random()),this.curClip=this.idleClip)},r.init=function(t){this._arrayParam=t,this.isFinished=!1,this._isInitFirstPath=!1},r.initFirstPath=function(){var t=this._arrayParam,i=t[0];i.position&&(this.node.position=i.position),i.rotation&&(this.node.rotation=i.rotation),i.scale&&(this.node.scale=i.scale),this._curStartPosition=new l(this.node.position),this._curStartRotation=new c(this.node.rotation),this._curStartScale=new l(this.node.scale),this._remainPaths.length=0;for(var s=1;s<t.length;s++)this._remainPaths.push(t[s]);this.isFinished=!this.popNextPath()},r.popNextPath=function(){var t=this._remainPaths.shift();if(t){if(this._curEndPosition=t.position,this._curEndRotation=t.rotation,this._curEndScale=t.scale,this._curStartPosition=new l(this.node.position),this._curStartRotation=new c(this.node.rotation),this._curStartScale=new l(this.node.scale),this._curProgress=0,t.time)this._timeScale=1/t.time;else{var i=l.distance(this._curStartPosition,this._curEndPosition)/t.speed;this._timeScale=1/i}if(this._curEndPosition){var s=l.subtract(new l,this._curEndPosition,this._curStartPosition);s.y=0,s.normalize(),p.rotationNodeFace(this.node,new l(0,0,1),s,!0),this.node.active=!0}return this.startWalk(),!0}return this.node.active=!1,!1},r.updatePath=function(i){return this._isInitFirstPath||(this.initFirstPath(),this._isInitFirstPath=!0),t.prototype.updatePath.call(this,i)},i}(u)).prototype,"ani",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=i(S.prototype,"walkClip",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g=i(S.prototype,"idleClip",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),C=S))||C));r._RF.pop()}}}));

System.register("chunks:///_virtual/CameraLookAtCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var o,e,a,r,n,i,s,l;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator,r=t.Vec3,n=t.Quat,i=t.find,s=t.Tween,l=t.Component}],execute:function(){var d;e._RF.push({},"047bblOhphDjongvyGyZSAK","CameraLookAtCtrl",void 0);var c=a.ccclass;a.property,t("CameraLookAtCtrl",c("CameraLookAtCtrl")(d=function(t){function e(){for(var o,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return(o=t.call.apply(t,[this].concat(a))||this)._hDistance=0,o._vDistance=0,o._hOffsetDistacne=0,o}o(e,t);var a=e.prototype;return a.startLookAtTargetNode=function(t,o,e,a,r,n){this._targetNode=t,this._drivableCtrl=o,this._hDistance=e,this._vDistance=a,this._targetFront=r,this._hOffsetDistacne=n,this.schedule(this.updateFormLookUpTargetNode)},a.stopLookAtTargetNode=function(){this.unschedule(this.updateFormLookUpTargetNode)},a.updateFormLookUpTargetNode=function(){var t=new r(this._targetFront);this._drivableCtrl&&(t=r.rotateY(new r,t,r.ZERO,-this._drivableCtrl.lookAtRad)),t=r.transformQuat(new r,t,this._targetNode.worldRotation);var o=new r(t),e=t.multiplyScalar(-this._hDistance).add(this._targetNode.worldPosition),a=new r(0,1,0);a=r.transformQuat(new r,a,this._targetNode.worldRotation);var i=r.scaleAndAdd(new r,e,a,this._vDistance),s=r.subtract(new r,this._targetNode.worldPosition,i);s.normalize(),s.multiplyScalar(-1);var l=n.fromViewUp(new n,s,a);o.multiplyScalar(this._hOffsetDistacne),i.add(o),this.node.rotation=l,this.node.position=i},a.lookAtNodeOnce=function(t,o,e,a,i){a=r.transformQuat(new r,a,t.rotation);var s=new r(a),l=a.multiplyScalar(-o).add(t.position),d=new r(0,1,0);d=r.transformQuat(new r,d,t.rotation);var c=r.scaleAndAdd(new r,l,d,e),h=r.subtract(new r,t.position,c);h.normalize(),h.multiplyScalar(-1);var u=n.fromViewUp(new n,h,d);s.multiplyScalar(i),c.add(s),this.node.rotation=u,this.node.position=c},a.shake=function(t,o){void 0===t&&(t=.2),void 0===o&&(o=15);for(var e=i("Camera",this.node),a=new r(e.position),n=new s(e),l=0;l<o;l++){var d=new r(a);d.x+=Math.random()*t*2-t,d.y+=Math.random()*t*2-t,d.z+=Math.random()*t*2-t,n.to(.05,{position:d})}n.to(.05,{position:a}),n.start()},e}(l))||d);e._RF.pop()}}}));

System.register("chunks:///_virtual/CanvasCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./NotificationCenter.ts","./Utils.ts","./PlatformJudge.ts","./RemoteConfig.ts","./ControlWidgetBase.ts","./MainPageCtrl.ts","./BoxLayerCtrl.ts"],(function(e){var t,i,n,r,a,o,s,l,c,u,f,d,h,g,b,P,v,C,p,O,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.createForOfIteratorHelperLoose},function(e){o=e.cclegacy,s=e._decorator,l=e.Node,c=e.Prefab,u=e.instantiate,f=e.find,d=e.Component},function(e){h=e.CONTROL_WIDGET_NAME},function(e){g=e.NotificationCenter,b=e.NCKeys},function(e){P=e.Utils},function(e){v=e.PlatformJudge},function(e){C=e.RemoteConfig},function(e){p=e.ControlWidgetBase},function(e){O=e.MainPageCtrl},function(e){y=e.BoxLayerCtrl}],execute:function(){var I,_,m,W,A,L,N,M,S,H,F,E,w,D,G,T,R;o._RF.push({},"83253iVyGNJ4rlabdOyOtO5","CanvasCtrl",void 0);var z=s.ccclass,x=s.property;e("CanvasCtrl",(I=z("CanvasCtrl"),_=x(l),m=x(O),W=x(l),A=x(c),L=x(c),N=x(c),M=x(c),I((F=t((H=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"loadingLayer",F,r(t)),n(t,"mainPageCtrl",E,r(t)),n(t,"controlWidgetContainer",w,r(t)),n(t,"resultPagePrefab",D,r(t)),n(t,"failPagePrefab",G,r(t)),n(t,"flayPagePrefab",T,r(t)),n(t,"tryoutPagePrefab",R,r(t)),t}i(t,e);var o=t.prototype;return o.onLoad=function(){g.addObserver(b.MAP_LOADED_FINISH,this.onMapLoadedFinish,this),g.addObserver(b.MAIN_PAGE_SHOW,this.onWantMainPageShow,this),g.addObserver(b.MAIN_PAGE_HIDE,this.onWantMainPageHide,this),g.addObserver(b.CONTROL_WIDGET_SHOW,this.onControlWidgetShow,this),g.addObserver(b.CONTROL_WIDGET_HIDE,this.onControlWidgetHide,this),g.addObserver(b.MISSION_FINISH,this.onMissionFinish,this),g.addObserver(b.MISSION_FAIL,this.onMissionFail,this),g.addObserver(b.FLY_PAGE_SHOW,this.onFlyPageShow,this)},o.onDestroy=function(){g.removeObserver(b.MAP_LOADED_FINISH,this),g.removeObserver(b.MAIN_PAGE_SHOW,this),g.removeObserver(b.MAIN_PAGE_HIDE,this),g.removeObserver(b.CONTROL_WIDGET_SHOW,this),g.removeObserver(b.CONTROL_WIDGET_HIDE,this),g.removeObserver(b.MISSION_FINISH,this),g.removeObserver(b.MISSION_FAIL,this),g.removeObserver(b.FLY_PAGE_SHOW,this)},o.onMapLoadedFinish=function(){var e=this;this.scheduleOnce((function(){e.loadingLayer.active=!1}),.1)},o.onWantMainPageShow=function(){this.mainPageCtrl.playInAction()},o.onWantMainPageHide=function(){this.mainPageCtrl.playOutAction()},o.onControlWidgetShow=function(e){var t=e.index;this.controlWidgetContainer.children[t].getComponent(p).playInAction(e)},o.onControlWidgetHide=function(e){var t=e.index;if(t!=h.ALL)this.controlWidgetContainer.children[t].getComponent(p).playOutAction(e);else for(var i,n=a(this.controlWidgetContainer.children);!(i=n()).done;){i.value.active=!1}},o.onMissionFinish=function(){var e=this;(this.mainPageCtrl.backArrowNode.active=!1,v.isWX&&100*Math.random()<=C.p2)?P.loadResWithCorrection("pages/boxLayer/boxLayer",c,(function(t,i){if(!t){var n=u(i);n.parent=f("Canvas"),n.getComponent(y).closeCb=function(){u(e.resultPagePrefab).parent=e.node}}})):u(this.resultPagePrefab).parent=this.node},o.onMissionFail=function(){this.mainPageCtrl.backArrowNode.active=!1,u(this.failPagePrefab).parent=this.node},o.onFlyPageShow=function(){this.mainPageCtrl.backArrowNode.active=!1,u(this.flayPagePrefab).parent=this.node},t}(d)).prototype,"loadingLayer",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(H.prototype,"mainPageCtrl",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(H.prototype,"controlWidgetContainer",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(H.prototype,"resultPagePrefab",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(H.prototype,"failPagePrefab",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(H.prototype,"flayPagePrefab",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(H.prototype,"tryoutPagePrefab",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=H))||S));o._RF.pop()}}}));

System.register("chunks:///_virtual/CashNodeCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioCtrl.ts","./AudioHelper.ts","./LocalData.ts","./PlatformManager.ts"],(function(e){var t,r,n,a,i,o,l,c,s,u,p,f,d,h,g,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,l=e.Collider,c=e.Prefab,s=e.Tween,u=e.Vec3,p=e.instantiate,f=e.Component},function(e){d=e.CLIP},function(e){h=e.AudioHelper},function(e){g=e.LocalData},function(e){b=e.PlatformManager}],execute:function(){var C,y,v,P,m,A,D;i._RF.push({},"0b49b0nKfBGj6WGJdnYDI1a","CashNodeCtrl",void 0);var L=o.ccclass,T=o.property;e("CashNodeCtrl",(C=L("CashNodeCtrl"),y=T(l),v=T(c),C((A=t((m=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,n(t,"collider",A,a(t)),n(t,"particlePrefab",D,a(t)),t}r(t,e);var i=t.prototype;return i.start=function(){this.collider.once("onTriggerEnter",this.onTriggerEnter,this)},i.onTriggerEnter=function(){var e=this;b.getInstance().vibrateShort("heavy"),g.cash+=500,h.play("audio",d.GET_CASH),h.play("audio",d.CASH_FLY),new s(this.node).to(.2,{scale:u.ZERO},{easing:"backIn"}).call((function(){var t=p(e.particlePrefab);t.position=e.node.position,t.parent=e.node.parent})).start()},t}(f)).prototype,"collider",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(m.prototype,"particlePrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=m))||P));i._RF.pop()}}}));

System.register("chunks:///_virtual/cashWidgetCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./LabelTickCtrl.ts","./LocalData.ts","./NotificationCenter.ts"],(function(t){var e,i,n,o,a,s,r,c,l,h,u,f,p,C,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,r=t.view,c=t.Vec3,l=t.Tween,h=t.Component},function(t){u=t.Config},function(t){f=t.LabelTickCtrl},function(t){p=t.LocalData},function(t){C=t.NotificationCenter,g=t.NCKeys}],execute:function(){var b,d,L,v,y;a._RF.push({},"d4e76xI9Z9OGKtvaGU06RCH","cashWidgetCtrl",void 0);var A=s.ccclass,T=s.property;t("CashWidgetCtrl",(b=A("CashWidgetCtrl"),d=T(f),b((y=e((v=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,n(e,"cashLabelTickCtrl",y,o(e)),e}i(e,t);var a=e.prototype;return a.onEnable=function(){this.cashLabelTickCtrl.tickLabel(p.cash,p.cash,1),C.addObserver(g.LOCAL_DATA_CASH,this.onCashChanged,this)},a.onDisable=function(){C.removeObserver(g.LOCAL_DATA_CASH,this)},a.onCashChanged=function(t){this.cashLabelTickCtrl.tickLabel(null,t,1)},a.playInAction=function(){var t=r.getVisibleSize(),e=new c(445,t.height/2-u.ui.topOffset,0),i=new c(195,t.height/2-u.ui.topOffset,0);this.node.position=e,l.stopAllByTarget(this.node),new l(this.node).to(.5,{position:i},{easing:"backOut"}).start()},a.playOutAction=function(){var t=r.getVisibleSize(),e=new c(445,t.height/2-u.ui.topOffset,0),i=new c(195,t.height/2-u.ui.topOffset,0);this.node.position=i,l.stopAllByTarget(this.node),new l(this.node).to(.5,{position:e},{easing:"backIn"}).start()},e}(h)).prototype,"cashLabelTickCtrl",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=v))||L));a._RF.pop()}}}));

System.register("chunks:///_virtual/CheatNodeCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CameraLookAtCtrl.ts","./Config.ts","./LocalData.ts","./NotificationCenter.ts"],(function(t){var e,i,n,o,r,a,l,s,c,d,u,f,p,C;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,l=t.EditBox,s=t.Component},function(t){c=t.CameraLookAtCtrl},function(t){d=t.CONTROL_WIDGET_NAME,u=t.Config},function(t){f=t.LocalData},function(t){p=t.NotificationCenter,C=t.NCKeys}],execute:function(){var I,y,h,x,E,g,N,_,v;r._RF.push({},"003c9DYPNJBKIeb3qjHuJ8S","CheatNodeCtrl",void 0);var b=a.ccclass,B=a.property;t("CheatNodeCtrl",(I=b("CheatNodeCtrl"),y=B(l),h=B(l),x=B(c),I((N=e((g=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,n(e,"playIndexEditBox",N,o(e)),n(e,"configIndexEditBox",_,o(e)),n(e,"cameraCtrl",v,o(e)),e}i(e,t);var r=e.prototype;return r.start=function(){this.node.destroy()},r.onEnable=function(){p.addObserver(C.MISSION_RESET,this.onMissionReset,this),this.onMissionReset()},r.onDisable=function(){p.removeObserver(C.MISSION_RESET,this)},r.onMissionReset=function(){var t=Math.floor(f.levelIndex/u.different_play_style),e=f.levelIndex%u.different_play_style;this.playIndexEditBox.string=e,this.configIndexEditBox.string=t},r.onButtonClick=function(){var t=parseInt(this.playIndexEditBox.string),e=parseInt(this.configIndexEditBox.string);this.cameraCtrl.stopLookAtTargetNode(),p.postNotice(C.CONTROL_WIDGET_HIDE,{index:d.ALL});var i=e*u.different_play_style+t;f.levelIndex=i,p.postNotice(C.MISSION_RESET,null)},e}(s)).prototype,"playIndexEditBox",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(g.prototype,"configIndexEditBox",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(g.prototype,"cameraCtrl",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=g))||E));r._RF.pop()}}}));

System.register("chunks:///_virtual/ColliderHurtCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var t,n,r,e,i;return{setters:[function(o){t=o.inheritsLoose},function(o){n=o.cclegacy,r=o._decorator,e=o.Collider,i=o.Component}],execute:function(){var l;n._RF.push({},"50b681y55BN5q3ebMYEYAqG","ColliderHurtCtrl",void 0);var s=r.ccclass;r.property,o("ColliderHurtCtrl",s("ColliderHurtCtrl")(l=function(o){function n(){return o.apply(this,arguments)||this}t(n,o);var r=n.prototype;return r.onEnable=function(){this.getComponent(e).on("onCollisionEnter",this.onCollisionEnter,this)},r.onDisable=function(){this.getComponent(e).off("onCollisionEnter",this.onCollisionEnter,this)},r.onCollisionEnter=function(o){o.otherCollider&&o.otherCollider.node},n}(i))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/Config.ts",["cc"],(function(E){var R,_;return{setters:[function(E){R=E.cclegacy,_=E._decorator}],execute:function(){R._RF.push({},"818b6HNWQNNoLokgWvfmv8j","Config",void 0);_.ccclass,_.property,E("Config",{version:"1.2.2",ov_version_number:122,different_play_style:17,ui:{bottomOffset:200,topOffset:168}}),E("CONTROL_WIDGET_NAME",function(E){return E[E.AIRPLANE_DRIVE=0]="AIRPLANE_DRIVE",E[E.AIRPLANE_PICKUP=1]="AIRPLANE_PICKUP",E[E.CAR_DRIVE=2]="CAR_DRIVE",E[E.FORCE_PRESS=3]="FORCE_PRESS",E[E.SLIDE_SCREE=4]="SLIDE_SCREE",E[E.MISSION_PROGRESS=5]="MISSION_PROGRESS",E[E.HEARTS=6]="HEARTS",E[E.LABEL=7]="LABEL",E[E.AIRPLANE_PATH_PROGRESS=8]="AIRPLANE_PATH_PROGRESS",E[E.FLIGHT_CABIN=9]="FLIGHT_CABIN",E[E.SECURITY_CHECK=10]="SECURITY_CHECK",E[E.ROCKER_FLY=11]="ROCKER_FLY",E[E.LEVEL_INDEX=12]="LEVEL_INDEX",E[E.BLACK_CURTAIN=13]="BLACK_CURTAIN",E[E.ALL=999]="ALL",E}({})),E("MISSION_PROGRESS_ICON",function(E){return E[E.OIL=0]="OIL",E[E.FIRE=1]="FIRE",E[E.WHEEL=2]="WHEEL",E}({}));R._RF.pop()}}}));

System.register("chunks:///_virtual/ConfigDefine.ts",["cc"],(function(){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"dbb253oNUZIs5kczOwQdic8","ConfigDefine",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/ControlWidgetBase.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var o,e,n,i;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,i=t.Component}],execute:function(){var r;e._RF.push({},"e3c36AKA7pEJp7A9b5oTCkt","ControlWidgetBase",void 0);var c=n.ccclass;n.property,t("ControlWidgetBase",c("ControlWidgetBase")(r=function(t){function e(){return t.apply(this,arguments)||this}o(e,t);var n=e.prototype;return n.playInAction=function(t){this.node.active=!0},n.playOutAction=function(t){this.node.active=!1},e}(i))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/CumVideoNodeCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioCtrl.ts","./AudioHelper.ts","./LocalData.ts","./NotificationCenter.ts","./Utils.ts","./PlatformManager.ts","./RemoteConfig.ts"],(function(e){var t,o,i,n,r,a,l,u,c,s,d,b,p,C,f,m,V,h,N,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.Label,u=e.ProgressBar,c=e.Node,s=e.Tween,d=e.Vec3,b=e.Component},function(e){p=e.CLIP},function(e){C=e.AudioHelper},function(e){f=e.LocalData},function(e){m=e.NotificationCenter,V=e.NCKeys},function(e){h=e.Utils},function(e){N=e.PlatformManager},function(e){g=e.RemoteConfig}],execute:function(){var w,y,T,v,L,_,O,z,D,R,P,U,A;r._RF.push({},"bf6e5PJzs1H/p9bKiZfHTQ/","CumVideoNodeCtrl",void 0);var I=a.ccclass,M=a.property;e("CumVideoNodeCtrl",(w=I("CumVideoNodeCtrl"),y=M(l),T=M(u),v=M(l),L=M(c),_=M(c),w((D=t((z=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"desLabel",D,n(t)),i(t,"bar",R,n(t)),i(t,"rewardLabel",P,n(t)),i(t,"buttonNode",U,n(t)),i(t,"redNode",A,n(t)),t}o(t,e);var r=t.prototype;return r.onEnable=function(){m.addObserver(V.CUM_VIDEO_COUNT,this.onCumVideoCount,this),this.onCumVideoCount(f.cumVideoConunt)},r.onDisable=function(){m.removeObserver(V.CUM_VIDEO_COUNT,this)},r.onCumVideoCount=function(e){(this.desLabel.string="累计观看"+g.cumVideoTotal+"次视频即可获得奖励",this.rewardLabel.string="+"+g.cumVideoReward,this.bar.progress=f.cumVideoConunt/g.cumVideoTotal,s.stopAllByTarget(this.buttonNode),f.cumVideoConunt>=g.cumVideoTotal)?(this.redNode.active=!0,new s(this.buttonNode).to(.75,{scale:new d(1.1,1.1,1.1)}).to(.75,{scale:new d(.9,.9,.9)}).union().repeatForever().start()):(this.redNode.active=!1,this.buttonNode.scale=d.ONE)},r.onButtonClick=function(){C.play("audio",p.CLICK_NORMAL_BUTTON),N.getInstance().vibrateShort("light"),f.cumVideoConunt>=g.cumVideoTotal?(f.cash+=g.cumVideoReward,h.popToast("恭喜获得"+g.cumVideoReward+"钞票"),f.cumVideoConunt=0):h.popToast("累计观看"+g.cumVideoTotal+"次视频即可获得奖励")},t}(b)).prototype,"desLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(z.prototype,"bar",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(z.prototype,"rewardLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(z.prototype,"buttonNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(z.prototype,"redNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=z))||O));r._RF.pop()}}}));

System.register("chunks:///_virtual/CustomSliderCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var e,t,i,o,n,l,s,a;return{setters:[function(r){e=r.applyDecoratedDescriptor,t=r.inheritsLoose,i=r.initializerDefineProperty,o=r.assertThisInitialized},function(r){n=r.cclegacy,l=r._decorator,s=r.ProgressBar,a=r.Component}],execute:function(){var c,u,p,d,f;n._RF.push({},"0edd3G93/RDpLGfLp1n5zPf","CustomSliderCtrl",void 0);var g=l.ccclass,y=l.property;r("CustomSliderCtrl",(c=g("CustomSliderCtrl"),u=y(s),c((f=e((d=function(r){function e(){for(var e,t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return e=r.call.apply(r,[this].concat(n))||this,i(e,"bar",f,o(e)),e}return t(e,r),e.prototype.onSliderSliding=function(r){this.bar.progress=r.progress},e}(a)).prototype,"bar",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=d))||p));n._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,f=t.Component}],execute:function(){var L,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(L=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),L((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var f=p(this.EnableAllCompositeModeButton.getChildByName("Label"));f.setPosition(i+(u>0?450:150),n,0),f.setScale(.75,.75,.75),f.parent=r;var L=f.getComponent(c);L.string=u?"----------Composite Mode----------":"----------Single Mode----------",L.color=a.WHITE,L.overflow=0,this.labelComponentList[this.labelComponentList.length]=L}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(f)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/DoorMarkCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var t,o,e,n,a,i,s;return{setters:[function(r){t=r.inheritsLoose},function(r){o=r.cclegacy,e=r._decorator,n=r.MeshRenderer,a=r.Tween,i=r.Color,s=r.Component}],execute:function(){var c;o._RF.push({},"9aa5avqJYNIe5i/2rf9pihw","DoorMarkCtrl",void 0);var p=e.ccclass;e.property,r("DoorMarkCtrl",p("DoorMarkCtrl")(c=function(r){function o(){return r.apply(this,arguments)||this}return t(o,r),o.prototype.start=function(){var r=this.getComponent(n).material,t=new a(this.node),o=new i(0,255,245,255);t.to(1,{},{onUpdate:function(t,e){o.a=255*e,r.setProperty("mainColor",o)}}).to(1,{},{onUpdate:function(t,e){o.a=255*(1-e),r.setProperty("mainColor",o)}}).union().repeatForever().start()},o}(s))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/DriveableCollideCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlatformManager.ts","./AudioCtrl.ts","./AudioHelper.ts","./CameraLookAtCtrl.ts","./NotificationCenter.ts"],(function(t){var o,e,i,n,r,l,s,a,c,h,u,C,d,f,p;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator,n=t.find,r=t.Collider,l=t.RigidBody,s=t.PhysicsSystem,a=t.Vec3,c=t.Component},function(t){h=t.PlatformManager},function(t){u=t.CLIP},function(t){C=t.AudioHelper},function(t){d=t.CameraLookAtCtrl},function(t){f=t.NotificationCenter,p=t.NCKeys}],execute:function(){var m;e._RF.push({},"42824SfN8VCt5dPFzNPMsyt","DriveableCollideCtrl",void 0);var v=i.ccclass;i.property,t("DriveableCollideCtrl",v("DriveableCollideCtrl")(m=function(t){function e(){for(var o,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return(o=t.call.apply(t,[this].concat(i))||this).colliderTimeStamp=0,o.colliderPos=new a(0,0,0),o.colliderInterval=5,o.heartsNum=3,o}o(e,t);var i=e.prototype;return i.onEnable=function(){var t=n("Main Camera");this.cameraCtrl=t.getComponent(d),this.getComponent(r).on("onCollisionEnter",this.onCollisionEnter,this)},i.onCollisionEnter=function(t){if(t.otherCollider){var o=t.otherCollider.getComponent(l);if(o)if(o.group==s.PhysicsGroup.obst)if(dayjs().unix()-this.colliderTimeStamp>=this.colliderInterval&&a.distance(this.node.position,this.colliderPos)>=10)if(this.heartsNum--,this.colliderTimeStamp=dayjs().unix(),this.colliderPos=new a(this.node.position),f.postNotice(p.MISSION_HEART_NUM,this.heartsNum),this.cameraCtrl.shake(),C.play("audio",u.CRASH),h.getInstance().vibrateShort("heavy"),this.heartsNum<=0)this.getComponent(r).off("onCollisionEnter",this.onCollisionEnter,this),this.scheduleOnce((function(){f.postNotice(p.MISSION_FAIL,null)}),1)}},e}(c))||m);e._RF.pop()}}}));

System.register("chunks:///_virtual/DriveableCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NotificationCenter.ts"],(function(e){var t,i,r,o,n,a,s,l,c,u,h,p,d,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,s=e.CCFloat,l=e.RigidBody,c=e.AudioSource,u=e.Vec3,h=e.Quat,p=e.Component},function(e){d=e.NotificationCenter,f=e.NCKeys}],execute:function(){var v,y,_,b,O,R,g,E,L,C,D,A,S,N,T,m,W;n._RF.push({},"6df54aMH0dF77jaDioOagvL","DriveableCtrl",void 0);var w=a.ccclass,B=a.property;e("DriveableCtrl",(v=w("DriveableCtrl"),y=B({type:s,tooltip:"旋转的敏感度，这个值越大。，旋转的越快"}),_=B({type:s,tooltip:"加速的时候的加速度"}),b=B({type:s,tooltip:"减速的时候的加速度"}),O=B({type:s,tooltip:"节点能达到的最大的速度"}),R=B({type:s,tooltip:"摄像机跟随我时因为我转动产生的倾角的敏感度"}),g=B(l),E=B(c),v((D=t((C=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n))||this,r(t,"radSensitivity",D,o(t)),r(t,"accFront",A,o(t)),r(t,"accBack",S,o(t)),r(t,"speedMax",N,o(t)),r(t,"lookAtSensitivity",T,o(t)),r(t,"rigidBody",m,o(t)),r(t,"effect",W,o(t)),t.lookAtRad=0,t._acc=0,t._peed=0,t._rad=0,t._gearsDir=1,t}i(t,e);var n=t.prototype;return n.onDestroy=function(){this.unregisterDriver(!1)},n.registerDriver=function(){d.addObserver(f.CONTROL_WHEEL_PRESS,this.onWheelPress,this),d.addObserver(f.CONTROL_WHEEL_RELEASE,this.onWheelRelease,this),d.addObserver(f.CONTROL_WHEEL_ROTATION,this.onWheelRotation,this),d.addObserver(f.CONTROL_GEARS_TURN,this.onGearsDir,this),this.schedule(this.updateForAirplanePos)},n.unregisterDriver=function(e){var t;(d.removeObserver(f.CONTROL_WHEEL_PRESS,this),d.removeObserver(f.CONTROL_WHEEL_RELEASE,this),d.removeObserver(f.CONTROL_WHEEL_ROTATION,this),d.removeObserver(f.CONTROL_GEARS_TURN,this),e)&&(this.unschedule(this.updateForAirplanePos),this.rigidBody.setLinearVelocity(u.ZERO),null==(t=this.effect)||t.stop())},n.onWheelPress=function(){var e;this._acc=this.accFront,null==(e=this.effect)||e.play()},n.onWheelRelease=function(){this._acc=-this.accBack},n.onWheelRotation=function(e){this._rad=e*this.radSensitivity,this.lookAtRad=e*this.lookAtSensitivity},n.onGearsDir=function(e){this._gearsDir=e,this._peed=0},n.updateForAirplanePos=function(e){var t;if(this._peed+=this._acc*e,this._peed<0)return this._peed=0,this.rigidBody.setLinearVelocity(u.ZERO),void(null==(t=this.effect)||t.stop());this._peed>this.speedMax&&(this._peed=this.speedMax);var i=h.rotateY(new h,this.node.rotation,this._rad*e);this.node.rotation=i;var r=new u(0,0,this._peed*this._gearsDir);r=u.transformQuat(new u,r,i),this.rigidBody.setLinearVelocity(r)},t}(p)).prototype,"radSensitivity",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.01}}),A=t(C.prototype,"accFront",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),S=t(C.prototype,"accBack",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),N=t(C.prototype,"speedMax",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),T=t(C.prototype,"lookAtSensitivity",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.0015}}),m=t(C.prototype,"rigidBody",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(C.prototype,"effect",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=C))||L));n._RF.pop()}}}));

System.register("chunks:///_virtual/FailPageCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioCtrl.ts","./AudioHelper.ts","./BaseUILayerCtrl.ts","./Config.ts","./LocalData.ts","./NotificationCenter.ts","./Utils.ts","./PlatformManager.ts","./cashWidgetCtrl.ts","./NodeDelayShow.ts","./PlatformJudge.ts"],(function(t){var e,n,i,o,a,l,r,s,c,u,d,p,f,g,N,h,C,y,O,b,I,v,B;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createClass},function(t){l=t.cclegacy,r=t._decorator,s=t.Node,c=t.Vec3,u=t.Tween,d=t.find},function(t){p=t.CLIP},function(t){f=t.AudioHelper},function(t){g=t.BaseUILayerCtrl},function(t){N=t.CONTROL_WIDGET_NAME},function(t){h=t.LocalData},function(t){C=t.NotificationCenter,y=t.NCKeys},function(t){O=t.Utils},function(t){b=t.PlatformManager},function(t){I=t.CashWidgetCtrl},function(t){v=t.NodeDelayShow},function(t){B=t.PlatformJudge}],execute:function(){var A,_,m,E,L,T,w,S,P,D,R,W,x;l._RF.push({},"99d67U7KEpNU6I1dbaozasq","FailPageCtrl",void 0);var V=r.ccclass,z=r.property;t("FailPageCtrl",(A=V("FailPageCtrl"),_=z(I),m=z(s),E=z(s),L=z(s),T=z(s),A((P=e((S=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a))||this,i(e,"cashWidgetCtrl",P,o(e)),i(e,"titleNode",D,o(e)),i(e,"adButtonNode",R,o(e)),i(e,"singleButtonNodeWx",W,o(e)),i(e,"singleButtonNodeOV",x,o(e)),e}n(e,t);var l=e.prototype;return l.playInAction=function(){var t=this;C.postNotice(y.NATIVE_BANNER_STOP_TICK,null),this.titleNode.scale=c.ZERO;var e=new u(this.titleNode);e.to(1,{scale:c.ONE},{easing:"elasticOut"}).call((function(){t.cashWidgetCtrl.playInAction()})).start();this.adButtonNode.scale=c.ZERO,(e=new u(this.adButtonNode)).delay(.5).call((function(){t.adButtonNode.getComponent(v).doAction()})).to(1,{scale:c.ONE},{easing:"elasticOut"}).start();var n=this.singleButtonNodeWx;(B.isOppo||B.isVivo)&&(n=this.singleButtonNodeOV),n.active=!0,n.scale=c.ZERO,(e=new u(n)).delay(.5+this.delayAfterAdButton).to(1,{scale:c.ONE},{easing:"elasticOut"}).call((function(){(B.isOppo||B.isVivo)&&(d("nativeNode",t.node).active=!0)})).start(),b.getInstance().trackEvent("ad_reborn",{step:"展示"})},l.onSingleButtonClick=function(){f.play("audio",p.CLICK_NORMAL_BUTTON),b.getInstance().vibrateShort("medium"),h.cash-=300,h.levelIndex++,this.scheduleOnce(this.goNextStep,2)},l.onAdButtonClick=function(){f.play("audio",p.CLICK_NORMAL_BUTTON),b.getInstance().vibrateShort("medium"),b.getInstance().trackEvent("ad_reborn",{step:"点击"}),b.getInstance().showVideo({},this.onAdComplete.bind(this))},l.onAdComplete=function(t,e){t?(h.cumVideoConunt++,b.getInstance().trackEvent("ad_reborn",{step:"完成"}),this.goNextStep()):O.popToast(e)},l.goNextStep=function(){C.postNotice(y.MISSION_RESET,null),this.node.destroy()},l.onDestroy=function(){C.postNotice(y.CONTROL_WIDGET_HIDE,{index:N.ALL})},a(e,[{key:"delayAfterAdButton",get:function(){return B.isWX?2:0}}]),e}(g)).prototype,"cashWidgetCtrl",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(S.prototype,"titleNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(S.prototype,"adButtonNode",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=e(S.prototype,"singleButtonNodeWx",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(S.prototype,"singleButtonNodeOV",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=S))||w));l._RF.pop()}}}));

System.register("chunks:///_virtual/FinishPointCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,r,n,o,a,l,s,c,u,h,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.BoxCollider,s=e.Node,c=e.Tween,u=e.Vec3,h=e.find,g=e.Component}],execute:function(){var p,f,d,b,w,_,y,v,m,C,E;o._RF.push({},"5439dlCDLpP34Q+iE/s+0GM","FinishPointCtrl",void 0);var F=a.ccclass,P=a.property;e("FinishPointCtrl",(p=F("FinishPointCtrl"),f=P(l),d=P(s),b=P(s),w=P([s]),p((v=t((y=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"collider",v,n(t)),r(t,"hexagon",m,n(t)),r(t,"arrow",C,n(t)),r(t,"particleMarks",E,n(t)),t._triggered=!1,t._fun=null,t._target=null,t}i(t,e);var o=t.prototype;return o.start=function(){new c(this.arrow).to(1,{position:new u(0,10,0)}).to(1,{position:new u(0,8,0)}).union().repeatForever().start(),this.cameraNode=h("Main Camera")},o.onEnable=function(){this.collider.on("onTriggerEnter",this.onTriggerEnter,this)},o.onDisable=function(){this.collider.off("onTriggerEnter",this.onTriggerEnter,this)},o.setDelegate=function(e,t){this._fun=e,this._target=t},o.onTriggerEnter=function(){this._triggered||(this._fun&&this._fun.call(this._target,this),this._triggered=!0,this.arrow.active=!1,this.hexagon.active=!1)},o.update=function(){this.hexagon.forward=this.cameraNode.forward},t}(g)).prototype,"collider",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=t(y.prototype,"hexagon",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(y.prototype,"arrow",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(y.prototype,"particleMarks",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=y))||_));o._RF.pop()}}}));

System.register("chunks:///_virtual/fire_car_config.ts",["cc"],(function(e){var n,w;return{setters:[function(e){n=e.cclegacy,w=e.Vec3}],execute:function(){n._RF.push({},"094d6z82apMIapo0lTGOd/3","fire_car_config",void 0);e("fire_car_config",[{slide_path:[new w(115,0,115),new w(115,0,135),new w(175,0,135)],fire_gun_offset:new w(.6,.6,0)},{slide_path:[new w(55,0,25),new w(55,0,135),new w(115,0,135)],fire_gun_offset:new w(-.5,.5,0)},{slide_path:[new w(25,0,235),new w(55,0,235),new w(55,0,195),new w(115,0,195)],fire_gun_offset:new w(.5,-.5,0)},{slide_path:[new w(55,0,75),new w(55,0,135),new w(115,0,135),new w(115,0,195),new w(175,0,195)],fire_gun_offset:new w(-.5,-.5,0)},{slide_path:[new w(115,0,275),new w(115,0,245),new w(55,0,245),new w(55,0,135),new w(175,0,135)],fire_gun_offset:new w(.3,-.5,0)}]);n._RF.pop()}}}));

System.register("chunks:///_virtual/FlightCabinNodeCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioCtrl.ts","./AudioHelper.ts","./NotificationCenter.ts","./PlatformManager.ts","./ControlWidgetBase.ts"],(function(e){var t,i,n,r,o,a,l,s,h,u,p,c,g,b,d,f,N,F,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Node,s=e.Sprite,h=e.SpriteFrame,u=e.Label,p=e.view,c=e.Vec3,g=e.Color},function(e){b=e.CLIP},function(e){d=e.AudioHelper},function(e){f=e.NotificationCenter,N=e.NCKeys},function(e){F=e.PlatformManager},function(e){m=e.ControlWidgetBase}],execute:function(){var w,C,v,S,y,L,I,_,A,T,B,O,E,H,z,R,M,G,P,D,W,X,U,V,k,K,j,x,q,J,Q,Y,Z,$,ee,te,ie;o._RF.push({},"53be3pUpVVO9LAUsvV2gGGy","FlightCabinNodeCtrl",void 0);var ne=a.ccclass,re=a.property;e("FlightCabinNodeCtrl",(w=ne("FlightCabinNodeCtrl"),C=re(l),v=re(l),S=re(s),y=re(h),L=re(h),I=re(s),_=re(h),A=re(h),T=re(l),B=re(l),O=re(l),E=re(l),H=re(u),z=re(u),R=re(u),M=re(l),G=re(l),w((W=t((D=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"topNode",W,r(t)),n(t,"bottomNode",X,r(t)),n(t,"engineButtonSprite",U,r(t)),n(t,"engineButtonFrameOn",V,r(t)),n(t,"engineButtonFrameOff",k,r(t)),n(t,"engineStateSprite",K,r(t)),n(t,"engineStateFrameOn",j,r(t)),n(t,"engineStateFrameOff",x,r(t)),n(t,"touchNode",q,r(t)),n(t,"wrenchNode",J,r(t)),n(t,"crashNode",Q,r(t)),n(t,"sphereNode",Y,r(t)),n(t,"speedLabel",Z,r(t)),n(t,"altitudeLabel",$,r(t)),t.speed=0,t.altitude=0,n(t,"warningLabel",ee,r(t)),n(t,"leftFingerNode",te,r(t)),n(t,"rightFingerNode",ie,r(t)),t.rightFingerShowed=!1,t.wrenchRotationX=-14,t}i(t,e);var o=t.prototype;return o.playInAction=function(t){e.prototype.playInAction.call(this,t),this.topNode.getComponent(s).enabled=!t.hideTop},o.onEnable=function(){var e=p.getVisibleSize();this.bottomNode.position=new c(0,-e.height/2+200,0),this.topNode.position=new c(0,-e.height/2+1088,0),this.crashNode.active=!1,this.engineButtonSprite.spriteFrame=this.engineButtonFrameOff,this.engineStateSprite.spriteFrame=this.engineStateFrameOff,this.wrenchRotationX=-14,this.wrenchNode.eulerAngles=new c(this.wrenchRotationX,0,0),this.sphereNode.eulerAngles=new c(0,0,0),this.speed=0,this.altitude=0,this.speedLabel.string="0 MPH",this.speedLabel.color=g.WHITE,this.altitudeLabel.string="0 FT",this.warningLabel.node.active=!1,this.leftFingerNode.active=!0,this.rightFingerNode.active=!1,this.rightFingerShowed=!1,f.addObserver(N.FLIGHT_CABIN_ALTITUDE,this.onFlightCabinAltitude,this),f.addObserver(N.FLIGHT_CABIN_SPEED,this.onFlightCabinSpeed,this),f.addObserver(N.FLIGHT_CABIN_WRENCH_CRASH,this.onCrash,this),this.touchNode.on(l.EventType.TOUCH_MOVE,this.onWrenchTouchMove,this)},o.onDisable=function(){f.removeObserver(N.FLIGHT_CABIN_ALTITUDE,this),f.removeObserver(N.FLIGHT_CABIN_SPEED,this),f.removeObserver(N.FLIGHT_CABIN_WRENCH_CRASH,this),this.touchNode.off(l.EventType.TOUCH_MOVE,this.onWrenchTouchMove,this)},o.onCrash=function(){this.crashNode.active=!0},o.onEngineButtonClick=function(){this.engineButtonSprite.spriteFrame!=this.engineButtonFrameOn&&(this.leftFingerNode.active=!1,f.postNotice(N.MAIN_PAGE_HIDE,null),d.play("audio",b.CLICK_NORMAL_BUTTON),F.getInstance().vibrateShort("medium"),this.engineButtonSprite.spriteFrame=this.engineButtonFrameOn,this.engineStateSprite.spriteFrame=this.engineStateFrameOn,f.postNotice(N.FLIGHT_CABIN_ENGINE_START,null))},o.onWrenchTouchMove=function(e){if(f.postNotice(N.MAIN_PAGE_HIDE,null),this.engineButtonSprite.spriteFrame==this.engineButtonFrameOn&&!(this.speed<50)){this.rightFingerNode.active=!1;var t=e.getUIDelta();this.wrenchRotationX-=t.y/4,this.wrenchRotationX<-54?this.wrenchRotationX=-54:this.wrenchRotationX>24&&(this.wrenchRotationX=24),this.wrenchNode.eulerAngles=new c(this.wrenchRotationX,0,0);var i=(this.wrenchRotationX+14)/38;this.sphereNode.eulerAngles=new c(20*i,0,0),f.postNotice(N.FLIGHT_CABIN_WRENCH_PUSH,i)}},o.onFlightCabinSpeed=function(e){this.speed=Math.floor(5*e),this.speedLabel.string=this.speed+" MPH",this.speedLabel.color=this.speed>=50?g.GREEN:g.WHITE,this.speed>=50&&!this.rightFingerShowed&&(this.rightFingerNode.active=!0,this.rightFingerShowed=!0)},o.onFlightCabinAltitude=function(e){this.altitude=Math.floor(10*e),this.altitudeLabel.string=this.altitude+" FT",this.altitude<=170&&this.speed>=50?this.warningLabel.node.active||(this.warningLabel.node.active=!0):this.warningLabel.node.active=!1},t}(m)).prototype,"topNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=t(D.prototype,"bottomNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(D.prototype,"engineButtonSprite",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(D.prototype,"engineButtonFrameOn",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(D.prototype,"engineButtonFrameOff",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(D.prototype,"engineStateSprite",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(D.prototype,"engineStateFrameOn",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(D.prototype,"engineStateFrameOff",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=t(D.prototype,"touchNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(D.prototype,"wrenchNode",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=t(D.prototype,"crashNode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=t(D.prototype,"sphereNode",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=t(D.prototype,"speedLabel",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=t(D.prototype,"altitudeLabel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=t(D.prototype,"warningLabel",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=t(D.prototype,"leftFingerNode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=t(D.prototype,"rightFingerNode",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=D))||P));o._RF.pop()}}}));

System.register("chunks:///_virtual/FlySceneCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LoadingLayerCtrl.ts","./cashWidgetCtrl.ts","./AudioHelper.ts","./LocalData.ts","./NotificationCenter.ts","./Utils.ts","./AirplaneTryoutPage.ts"],(function(e){var t,i,a,n,o,r,s,h,d,l,c,u,p,y,x,g,f,S,T,C,E,N,b,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,s=e.Vec2,h=e.Prefab,d=e.Node,l=e.Vec3,c=e.Quat,u=e.log,p=e.instantiate,y=e.director,x=e.find,g=e.Component},function(e){f=e.LoadingLayerCtrl},function(e){S=e.CashWidgetCtrl},function(e){T=e.AudioHelper},function(e){C=e.LocalData},function(e){E=e.NotificationCenter,N=e.NCKeys},function(e){b=e.Utils},function(e){v=e.AirplaneTryoutPage}],execute:function(){var M,m,P,w,L,A,O,I,_,z,H,R,F,U,D,W,V,K,j;o._RF.push({},"eecc4fckbJFSpIIHHa2NKj8","FlySceneCtrl",void 0);var k=r.ccclass,B=r.property,G=new s,J=new s,Q=new s;e("FlySceneCtrl",(M=k("FlySceneCtrl"),m=B(h),P=B(d),w=B(S),L=B(f),A=B(h),O=B(h),I=B(d),_=B(d),M((R=t((H=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,a(t,"cashNodePrefab",R,n(t)),a(t,"loadingLayer",F,n(t)),a(t,"cashWidgetCtrl",U,n(t)),a(t,"loadingLayerCtrl",D,n(t)),a(t,"resultLayerPrefab",W,n(t)),a(t,"tryoutPagePrefab",V,n(t)),a(t,"cameraNode",K,n(t)),t.cameraNodeOffset=new l(0,10,26),a(t,"touchNode",j,n(t)),t.airplaneInitPos=new l(55,20,135),t.airplaneDefaultRot=c.fromEuler(new c,0,180,0),t.xMinEdge=35,t.xMaxEdge=75,t.yMinEdge=10,t.yMaxEdge=60,t.isMissionFinish=!1,t.xyTargetSpeed=new s,t.xyCurSpeed=new s,t.xyMaxSpeed=30,t.xyAcc=150,t.zMaxSpeed=20,t}i(t,e);var o=t.prototype;return o.onDestroy=function(){this.touchNode.off(d.EventType.TOUCH_START,this.onTouchStart,this),this.touchNode.off(d.EventType.TOUCH_MOVE,this.onTouchMove,this),this.touchNode.off(d.EventType.TOUCH_END,this.onTouchEnd,this),E.removeObserver(N.MISSION_RESET,this),C._tryOutAirplaneIndex=-1},o.start=function(){var e=this;this.loadingLayer.active=!0,this.loadingLayerCtrl.setProgress(.9),T.needLoadAudioNode()&&b.loadResWithCorrection("audio",h,(function(e,t){if(e)return u(e);p(t).parent=y.getScene(),u("audio node inited")}));var t=p(this.tryoutPagePrefab);t.parent=x("Canvas"),t.getComponent(v).cb=function(){var t="prefab/3d/airplane/airplane"+C.curAirplaneIndex;b.loadResWithCorrection(t,h,(function(t,i){var a=p(i);a.parent=e.node,e.airplaneNode=a,e.loadingLayer.active=!1,e.cashWidgetCtrl.playInAction(),e.missionStart(),E.postNotice(N.NATIVE_BANNER_START_TICK,{showImmediately:!0})}))}},o.missionStart=function(){this.airplaneNode.position=this.airplaneInitPos,this.airplaneNode.eulerAngles=new l(0,180,0),this.schedule(this.updateForAirplanePos),this.schedule(this.updateForCameraPos),this.touchNode.on(d.EventType.TOUCH_START,this.onTouchStart,this),this.touchNode.on(d.EventType.TOUCH_MOVE,this.onTouchMove,this),this.touchNode.on(d.EventType.TOUCH_END,this.onTouchEnd,this),E.addObserver(N.MISSION_RESET,this.onMissionReset,this);var e=p(this.cashNodePrefab);e.position=new l(this.airplaneInitPos.x,this.airplaneInitPos.y,50),e.parent=y.getScene();for(var t=1;t<5;t++){var i=new l;i.z=50-50*t,i.x=this.xMinEdge+(this.xMaxEdge-this.xMinEdge)*Math.random(),i.y=this.yMinEdge+(this.yMaxEdge-this.yMinEdge)*Math.random();var a=p(this.cashNodePrefab);a.position=i,a.parent=y.getScene()}},o.onTouchStart=function(e){},o.onTouchMove=function(e){e.getUIStartLocation(G),e.getUILocation(J),s.subtract(Q,J,G),this.xyTargetSpeed.x=Q.x/5,this.xyTargetSpeed.y=Q.y/5,this.xyTargetSpeed.length()>this.xyMaxSpeed&&(this.xyTargetSpeed.normalize(),this.xyTargetSpeed.x*=this.xyMaxSpeed,this.xyTargetSpeed.y*=this.xyMaxSpeed)},o.onTouchEnd=function(e){this.xyTargetSpeed.x=0,this.xyTargetSpeed.y=0},o.onSlideScreen=function(e){this.xyTargetSpeed.x=e.x,this.xyTargetSpeed.y=e.y,this.xyTargetSpeed.normalize(),this.xyTargetSpeed.x*=this.xyMaxSpeed,this.xyTargetSpeed.y*=this.xyMaxSpeed},o.updateForAirplanePos=function(e){var t=s.subtract(new s,this.xyTargetSpeed,this.xyCurSpeed);t.length()<=this.xyAcc*e?(this.xyCurSpeed.x=this.xyTargetSpeed.x,this.xyCurSpeed.y=this.xyTargetSpeed.y):(t.normalize(),this.xyCurSpeed.x+=t.x*this.xyAcc*e,this.xyCurSpeed.y+=t.y*this.xyAcc*e);var i=c.fromEuler(new c,-this.xyCurSpeed.y/3,180,this.xyCurSpeed.x);this.airplaneNode.rotation=i;var a=new l(this.airplaneNode.position);a.z-=e*this.zMaxSpeed,a.x+=e*this.xyCurSpeed.x,a.y+=e*this.xyCurSpeed.y,a.x<this.xMinEdge?a.x=this.xMinEdge:a.x>this.xMaxEdge&&(a.x=this.xMaxEdge),a.y<this.yMinEdge?a.y=this.yMinEdge:a.y>this.yMaxEdge&&(a.y=this.yMaxEdge),this.airplaneNode.position=a},o.updateForCameraPos=function(e){var t=this,i=new l(this.airplaneNode.position);i.add(this.cameraNodeOffset),i.x-=this.xyCurSpeed.x/15,i.y-=this.xyCurSpeed.y/10,this.cameraNode.position=i,this.airplaneNode.position.z<=-200&&(this.unschedule(this.updateForCameraPos),this.xyTargetSpeed.x=0,this.xyTargetSpeed.y=0,this.touchNode.active=!1,this.touchNode.off(d.EventType.TOUCH_START,this.onTouchStart,this),this.touchNode.off(d.EventType.TOUCH_MOVE,this.onTouchMove,this),this.touchNode.off(d.EventType.TOUCH_END,this.onTouchEnd,this),this.scheduleOnce((function(){p(t.resultLayerPrefab).parent=x("Canvas")}),.5))},o.onMissionReset=function(){this.loadingLayer.active=!0,this.loadingLayerCtrl.setProgress(0),y.loadScene("GameScene")},t}(g)).prototype,"cashNodePrefab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(H.prototype,"loadingLayer",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(H.prototype,"cashWidgetCtrl",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(H.prototype,"loadingLayerCtrl",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(H.prototype,"resultLayerPrefab",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(H.prototype,"tryoutPagePrefab",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(H.prototype,"cameraNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(H.prototype,"touchNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=H))||z));o._RF.pop()}}}));

System.register("chunks:///_virtual/ForcePressCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NotificationCenter.ts","./ControlWidgetBase.ts"],(function(t){var e,i,o,n,s,r,c,l,a,h,u,p,d,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,c=t.Node,l=t.Label,a=t.view,h=t.Vec3,u=t.Tween},function(t){p=t.NotificationCenter,d=t.NCKeys},function(t){f=t.ControlWidgetBase}],execute:function(){var T,E,C,N,_,y,v;s._RF.push({},"1630aZRL0hN+q8fEQ11lAcj","ForcePressCtrl",void 0);var O=r.ccclass,b=r.property;t("ForcePressCtrl",(T=O("ForcePressCtrl"),E=b(c),C=b(l),T((y=e((_=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,o(e,"tipNode",y,n(e)),o(e,"tipLabel",v,n(e)),e.forcedPressed=!1,e}i(e,t);var s=e.prototype;return s.onLoad=function(){},s.playInAction=function(t){t&&t.tip&&(this.tipLabel.string="长按屏幕"+t.tip),this.node.active=!0;var e=a.getVisibleSize(),i=new h(0,-e.height/2+350,0);this.tipNode.position=new h(0,-e.height/2-100,0),new u(this.tipNode).to(.5,{position:i},{easing:"backOut"}).start()},s.onEnable=function(){this.node.on(c.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(c.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(c.EventType.TOUCH_CANCEL,this.onTouchEnd,this),this.forcedPressed=!1},s.onDisable=function(){this.node.off(c.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(c.EventType.TOUCH_END,this.onTouchEnd,this),this.node.off(c.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},s.onTouchStart=function(){this.forcedPressed||(this.forcedPressed=!0,p.postNotice(d.CONTROL_FORCE_FIRST_PRESS,null)),p.postNotice(d.CONTROL_FORCE_PRESS,null),p.postNotice(d.MAIN_PAGE_HIDE,null)},s.onTouchEnd=function(){p.postNotice(d.CONTROL_FORCE_RELEASE,null)},e}(f)).prototype,"tipNode",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(_.prototype,"tipLabel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=_))||N));s._RF.pop()}}}));

System.register("chunks:///_virtual/FreeLayerCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioCtrl.ts","./AudioHelper.ts","./BaseUILayerCtrl.ts","./LocalData.ts","./NotificationCenter.ts","./Utils.ts","./PlatformJudge.ts","./PlatformManager.ts","./RemoteConfig.ts"],(function(e){var t,i,a,o,n,r,s,l,c,u,d,f,h,p,b,m,v,L,N,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){n=e.cclegacy,r=e._decorator,s=e.Node,l=e.Label,c=e.Vec3,u=e.Tween},function(e){d=e.CLIP},function(e){f=e.AudioHelper},function(e){h=e.BaseUILayerCtrl},function(e){p=e.LocalData},function(e){b=e.NotificationCenter,m=e.NCKeys},function(e){v=e.Utils},function(e){L=e.PlatformJudge},function(e){N=e.PlatformManager},function(e){C=e.RemoteConfig}],execute:function(){var g,y,B,T,k,w,_,I,A,F,x,S,z,P,R,E,D;n._RF.push({},"4d952u2ZbxFAKUC+/1OiE6l","FreeLayerCtrl",void 0);var M=r.ccclass,U=r.property,O=[100,150,200,300,400,0,0];e("FreeLayerCtrl",(g=M("FreeLayerCtrl"),y=U(s),B=U(s),T=U(s),k=U(l),w=U(s),_=U(l),I=U(l),g((x=t((F=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,a(t,"freeButtonNode",x,o(t)),a(t,"strictButtonNode",S,o(t)),a(t,"adButtonNode",z,o(t)),a(t,"tickLabel",P,o(t)),a(t,"maxLabelNode",R,o(t)),a(t,"limitLabel",E,o(t)),a(t,"rewardLabel",D,o(t)),t}i(t,e);var n=t.prototype;return n.start=function(){this.refresh()},n.refresh=function(){if(this.rewardLabel.string="钞票 +"+O[p.freeCount],p.freeCount>=5)this.maxLabelNode.active=!0,this.freeButtonNode.active=!1,this.adButtonNode.active=!1,this.tickLabel.node.active=!1,this.strictButtonNode.active=!1,this.limitLabel.node.active=!1;else if(p.freeCount<3||dayjs().unix()-p.freeTimeStamp>=C.freeRefreshTime)this.freeButtonNode.active=!0,this.adButtonNode.active=!1,this.strictButtonNode.active=!1,this.tickLabel.node.active=!1,this.maxLabelNode.active=!1,this.limitLabel.node.active=!0,this.limitLabel.string="今日还可领取"+(5-p.freeCount)+"次";else{if(this.adButtonNode.active=!0,N.getInstance().trackEvent("ad_free",{step:"展示"}),this.tickLabel.node.active=!0,this.freeButtonNode.active=!1,this.maxLabelNode.active=!1,this.schedule(this.updateForTick,.5),this.updateForTick(),this.limitLabel.node.active=!0,this.limitLabel.string="今日还可领取"+(5-p.freeCount)+"次",L.isStrict)this.strictButtonNode.active=!0,this.adButtonNode.position=new c(115,-123,0),u.stopAllByTarget(this.adButtonNode);else this.strictButtonNode.active=!1,new u(this.adButtonNode).to(.85,{scale:new c(1.05,1.05,1.05)}).to(.85,{scale:new c(.95,.95,.95)}).union().repeatForever().start()}},n.updateForTick=function(){var e=dayjs().unix()-p.freeTimeStamp,t=C.freeRefreshTime-e;t>0?this.tickLabel.string="("+v.formatSecondToHMS2(t)+"后可直接领取)":(this.unschedule(this.updateForTick),this.freeButtonNode.active=!0,this.adButtonNode.active=!1,this.tickLabel.node.active=!1,this.maxLabelNode.active=!1,this.limitLabel.node.active=!0)},n.onFreeButtonClick=function(){f.play("audio",d.CLICK_NORMAL_BUTTON),N.getInstance().vibrateShort("light"),N.getInstance().trackEvent("get_free",{time:p.freeCount+1,with_ad:"no"}),p.cash+=O[p.freeCount],v.popToast("恭喜获得"+O[p.freeCount]+"钞票"),p.save(),p.freeTimeStamp=dayjs().unix(),p.freeCount++,this.refresh(),p.save()},n.onAdButtonClick=function(){f.play("audio",d.CLICK_NORMAL_BUTTON),N.getInstance().vibrateShort("light"),N.getInstance().trackEvent("ad_free",{step:"点击"}),N.getInstance().showVideo({},this.onAdComplete.bind(this))},n.onAdComplete=function(e,t){e?(p.cumVideoConunt++,N.getInstance().trackEvent("get_free",{time:p.freeCount+1,with_ad:"yes"}),N.getInstance().trackEvent("ad_free",{step:"完成"}),p.cash+=O[p.freeCount],v.popToast("恭喜获得"+O[p.freeCount]+"钞票"),p.save(),p.freeTimeStamp=dayjs().unix(),p.freeCount++,this.refresh(),p.save()):v.popToast(t)},n.onDestroy=function(){b.postNotice(m.MAIN_PAGE_RED_POINT,null)},t}(h)).prototype,"freeButtonNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(F.prototype,"strictButtonNode",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(F.prototype,"adButtonNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(F.prototype,"tickLabel",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(F.prototype,"maxLabelNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(F.prototype,"limitLabel",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(F.prototype,"rewardLabel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=F))||A));n._RF.pop()}}}));

System.register("chunks:///_virtual/GameSceneCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./weather_config.ts","./AudioHelper.ts","./Config.ts","./LocalData.ts","./NotificationCenter.ts","./Utils.ts","./PlatformJudge.ts","./PlatformManager.ts","./RemoteConfig.ts","./CanvasCtrl.ts","./MissionCtrlBase.ts","./AirplaneTryoutPage.ts"],(function(e){var t,i,n,o,a,r,s,l,c,u,h,p,d,f,y,C,g,b,m,v,S,_,w,I,M,P,O,L,A,N;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,s=e.macro,l=e.dynamicAtlasManager,c=e.TextureCube,u=e.ParticleSystem2D,h=e.DirectionalLight,p=e.Prefab,d=e.Color,f=e.find,y=e.log,C=e.instantiate,g=e.director,b=e.Component},function(e){m=e.weather_config},function(e){v=e.AudioHelper},function(e){S=e.Config},function(e){_=e.LocalData},function(e){w=e.NotificationCenter,I=e.NCKeys},function(e){M=e.Utils},function(e){P=e.PlatformJudge},function(e){O=e.PlatformManager},function(e){L=e.RemoteConfig},function(e){A=e.CanvasCtrl},function(e){N=e.MissionCtrlBase},null],execute:function(){var R,E,T,D,F,G,x,z,H,k,W,B,J,U,j,K,Q;a._RF.push({},"25d5dbJAEFL0oquj5sWfapv","GameSceneCtrl",void 0);var V=r.ccclass,X=r.property;s.CLEANUP_IMAGE_CACHE=!1,l.enabled=!1;e("GameSceneCtrl",(R=V("GameSceneCtrl"),E=X(c),T=X(c),D=X(c),F=X(u),G=X(h),x=X(p),z=X(A),R((W=t((k=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,n(t,"dayCube",W,o(t)),t.dayColor=d.WHITE,n(t,"rainCube",B,o(t)),t.rainColor=new d(111,111,111,255),n(t,"nightCub",J,o(t)),t.nightColor=new d(100,100,100,255),n(t,"rainSystem",U,o(t)),n(t,"light",j,o(t)),n(t,"tryoutPagePrefab",K,o(t)),t.canShowTryout=!1,n(t,"canvasCtrl",Q,o(t)),t}i(t,e);var a=t.prototype;return a.onLoad=function(){if(_.init(),P.isWX||P.isQQ||P.isTT){var e=window.wx.getLaunchOptionsSync().scene;console.log("scene",e),1001!=e&&1089!=e&&3003!=e&&"011005"!=e&&"011020"!=e&&"021001"!=e&&"021003"!=e&&"021020"!=e||_.todayGetedCollectReward||M.popAlert({msg:"从我的小程序进入游戏 获得奖励100",sureCb:function(){_.todayGetedCollectReward=!0,_.cash+=100,_.save(),M.popToast("恭喜领取100奖励")},parent:f("Canvas")})}!_.acceptPrivacy&&P.isOppo&&this.showPrivacyPage(),w.addObserver(I.MAP_LOADED_FINISH,this.onMapLoadedFinish,this),w.addObserver(I.MISSION_RESET,this.onMissionReset,this),w.addObserver(I.MISSION_FLY,this.onMissionFly,this),w.addObserver(I.GO_SHOP_SCENE,this.onGoShopScene,this)},a.onDestroy=function(){w.removeObserver(I.MAP_LOADED_FINISH,this),w.removeObserver(I.MISSION_RESET,this),w.removeObserver(I.MISSION_FLY,this),w.removeObserver(I.GO_SHOP_SCENE,this)},a.start=function(){this.onMissionReset(),v.needLoadAudioNode()&&M.loadResWithCorrection("audio",p,(function(e,t){if(e)return y(e);C(t).parent=g.getScene(),y("audio node inited")}))},a.onMissionReset=function(){this.weatherReset(),this.canShowTryout=!0,this.loadMap(),this.scheduleOnce((function(){w.postNotice(I.NATIVE_BANNER_START_TICK,{showImmediately:!1})}),1)},a.loadMap=function(){var e=this;this.canvasCtrl.loadingLayer.active=!0,this.canvasCtrl.mainPageCtrl.backArrowNode.active=!1;var t="prefab/3d/map/map"+_.levelIndex%S.different_play_style;M.loadResWithCorrection(t,p,(function(t,i){if(t)return y(t);var n=C(i);n.name="map",n.parent=g.getScene(),e.missionCtrl&&e.missionCtrl.node.destroy(),e.missionCtrl=n.getComponent(N),e.missionCtrl.init(_.levelIndex)}))},a.weatherReset=function(){var e=g.getScene(),t=_.levelIndex%m.length;switch(m[t]){case"day":e._globals._skybox.envmap=this.dayCube,this.light.color=this.dayColor,this.rainSystem.stopSystem();break;case"rain":e._globals._skybox.envmap=this.rainCube,this.light.color=this.rainColor,this.rainSystem.resetSystem();break;case"night":e._globals._skybox.envmap=this.nightCub,this.light.color=this.nightColor,this.rainSystem.stopSystem()}},a.onMapLoadedFinish=function(){this.missionCtrl.missionStart(),P.isWX&&100*Math.random()<L.p3&&O.getInstance().showInterstitialAd({}),3==_.levelIndex&&(P.isOppo||P.isVivo||P.isMZ)&&O.getInstance().tryShortcutIndesktop((function(e,t){e?M.popToast("创建桌面图标成功了"):M.popToast(t)}))},a.onMissionFly=function(){this.canvasCtrl.loadingLayer.active=!0,g.loadScene("FlyScene")},a.onGoShopScene=function(){this.canvasCtrl.loadingLayer.active=!0,g.loadScene("ShopScene")},a.showPrivacyPage=function(){M.loadResWithCorrection("pages/privacyLayer/privacyLayer",p,(function(e,t){e||(C(t).parent=f("Canvas"))}))},t}(b)).prototype,"dayCube",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(k.prototype,"rainCube",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(k.prototype,"nightCub",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(k.prototype,"rainSystem",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(k.prototype,"light",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(k.prototype,"tryoutPagePrefab",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=t(k.prototype,"canvasCtrl",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=k))||H));a._RF.pop()}}}));

System.register("chunks:///_virtual/GlobalTemp.ts",["cc"],(function(e){var t,o;return{setters:[function(e){t=e.cclegacy,o=e._decorator}],execute:function(){t._RF.push({},"bc12f9f49RLObJWMgpgudVU","GlobalTemp",void 0);o.ccclass,o.property,e("GlobalTemp",{achievePoint:40,totalParticleProduceSpeed:0,particleAdMul:1,totalDustProduceSpeed:0,dustAdMul:1,totalThunderProduceSpeed:0,thunderAdMul:1,totalBrainCapacity:0,totalWisdomProduceSpeed:0,wisdomAdMul:1,neuronBuffer:0,technoBuffer:0,freeLayerRewardInfo:null,lotteryRewardInfos:[],cumVideoRewardInfo:null,shareRewardInfo:null,showResNotEoughtCount:0,redPointActives:{particle:!1,dust:!1,chaos:!1,material:!1,secret:!1,brain:!1,thought:!1,neuron:!1,technogy:!1}});t._RF.pop()}}}));

System.register("chunks:///_virtual/GlobalTouchCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NotificationCenter.ts"],(function(o){var t,n,e,i,c,s,h;return{setters:[function(o){t=o.inheritsLoose},function(o){n=o.cclegacy,e=o._decorator,i=o.Node,c=o.Component},function(o){s=o.NotificationCenter,h=o.NCKeys}],execute:function(){var T;n._RF.push({},"a7c7cC6bS1C6anE7AEJMPwY","GlobalTouchCtrl",void 0);var u=e.ccclass;e.property,o("GlobalTouchCtrl",u("GlobalTouchCtrl")(T=function(o){function n(){return o.apply(this,arguments)||this}t(n,o);var e=n.prototype;return e.onEnable=function(){this.node.on(i.EventType.TOUCH_START,this.onTouchStart,this,!0),this.node.on(i.EventType.TOUCH_MOVE,this.onTouchMove,this,!0),this.node.on(i.EventType.TOUCH_END,this.onTouchEnd,this,!0),this.node.on(i.EventType.TOUCH_CANCEL,this.onTouchEnd,this,!0)},e.onDisable=function(){this.node.off(i.EventType.TOUCH_START,this.onTouchStart,this,!0),this.node.off(i.EventType.TOUCH_MOVE,this.onTouchMove,this,!0),this.node.off(i.EventType.TOUCH_END,this.onTouchEnd,this,!0),this.node.off(i.EventType.TOUCH_CANCEL,this.onTouchEnd,this,!0)},e.onTouchStart=function(o){s.postNotice(h.GLOBAL_TOUCH_START,o)},e.onTouchMove=function(o){s.postNotice(h.GLOBAL_TOUCH_MOVE,o)},e.onTouchEnd=function(o){s.postNotice(h.GLOBAL_TOUCH_END,o)},n}(c))||T);n._RF.pop()}}}));

System.register("chunks:///_virtual/HeartNodeCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NotificationCenter.ts","./ControlWidgetBase.ts"],(function(e){var t,r,i,o,n,a,s,c,l,u,h,f,p,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,n=e.createForOfIteratorHelperLoose},function(e){a=e.cclegacy,s=e._decorator,c=e.Node,l=e.view,u=e.Vec3,h=e.Tween},function(e){f=e.NotificationCenter,p=e.NCKeys},function(e){v=e.ControlWidgetBase}],execute:function(){var d,N,g,b,y;a._RF.push({},"a07a4LrY/pK9YTG5vwrbrLk","HeartNodeCtrl",void 0);var H=s.ccclass,C=s.property;e("HeartNodeCtrl",(d=H("HeartNodeCtrl"),N=C([c]),d((y=t((b=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n))||this,i(t,"hearts",y,o(t)),t}r(t,e);var a=t.prototype;return a.playInAction=function(e){var t=e.offsetY||200;this.node.active=!0;var r=l.getVisibleSize();this.node.position=new u(0,r.height/2+50,0),new h(this.node).to(.5,{position:new u(0,r.height/2-t,0)},{easing:"backOut"}).start();for(var i,o=n(this.hearts);!(i=o()).done;){i.value.active=!0}},a.onEnable=function(){f.addObserver(p.MISSION_HEART_NUM,this.onMissionHeartNum,this)},a.onDisable=function(){f.removeObserver(p.MISSION_HEART_NUM,this)},a.onMissionHeartNum=function(e){for(var t=0;t<this.hearts.length;t++)this.hearts[t].active=t<e},t}(v)).prototype,"hearts",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=b))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/JudgeMoveInNodeRect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NotificationCenter.ts"],(function(e){var t,o,n,i,r,c,s,u,a,h,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,c=e._decorator,s=e.EventHandler,u=e.UITransform,a=e.Component},function(e){h=e.NotificationCenter,v=e.NCKeys}],execute:function(){var l,d,f,p,T;r._RF.push({},"a0ca6MgozVIuKAWRTf40WpZ","JudgeMoveInNodeRect",void 0);var _=c.ccclass,N=c.property;e("JudgeMoveInNodeRect",(l=_("JudgeMoveInNodeRect"),d=N([s]),l((T=t((p=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return t=e.call.apply(e,[this].concat(r))||this,n(t,"moveInEvents",T,i(t)),t._aNewTouch=!1,t}o(t,e);var r=t.prototype;return r.onEnable=function(){h.addObserver(v.GLOBAL_TOUCH_START,this.onTouchStart,this),h.addObserver(v.GLOBAL_TOUCH_MOVE,this.onTouchMove,this)},r.onDisable=function(){h.removeObserver(v.GLOBAL_TOUCH_START,this),h.removeObserver(v.GLOBAL_TOUCH_MOVE,this)},r.onTouchStart=function(e){this.touchInNodeRect(e)?this._aNewTouch=!1:this._aNewTouch=!0},r.onTouchMove=function(e){0!=this._aNewTouch&&this.touchInNodeRect(e)&&(console.log("发生了触点从区域内移动到了区域内的操作"),s.emitEvents(this.moveInEvents),this._aNewTouch=!1)},r.touchInNodeRect=function(e){var t=e.getUILocation();return this.getComponent(u).isHit(t)},t}(a)).prototype,"moveInEvents",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=p))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/LabelNodeCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NotificationCenter.ts","./ControlWidgetBase.ts"],(function(e){var t,i,n,o,r,l,s,a,c,u,b,p,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,s=e.Label,a=e.view,c=e.Vec3,u=e.Tween},function(e){b=e.NotificationCenter,p=e.NCKeys},function(e){h=e.ControlWidgetBase}],execute:function(){var f,d,g,v,L;r._RF.push({},"848b67DP6JG7pNgBjur8jEB","LabelNodeCtrl",void 0);var N=l.ccclass,y=l.property;e("LabelNodeCtrl",(f=N("LabelNodeCtrl"),d=y(s),f((L=t((v=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,n(t,"label",L,o(t)),t}i(t,e);var r=t.prototype;return r.playInAction=function(e){this.node.active=!0;var t=a.getVisibleSize();this.node.position=new c(0,t.height/2+50,0),new u(this.node).to(.5,{position:new c(0,t.height/2-200,0)}).start(),this.label.string=e.string||""},r.onEnable=function(){b.addObserver(p.MISSION_LABEL_STRING,this.onMissionLabelString,this)},r.onDisable=function(){b.removeObserver(p.MISSION_LABEL_STRING,this)},r.onMissionLabelString=function(e){this.label.string=e},t}(h)).prototype,"label",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=v))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/LabelTickCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,t,r,l,a,n,u,s,c,o,h,f,b,p;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){a=e.cclegacy,n=e._decorator,u=e.Label,s=e.CCString,c=e.CCInteger,o=e.CCBoolean,h=e.error,f=e.Vec3,b=e.Tween,p=e.Component}],execute:function(){var m,d,N,g,v,x,y,w,P,C,F,_,L;a._RF.push({},"edafcvfa0xMpJSm5mai9wUN","LabelTickCtrl",void 0);var S=n.ccclass,z=n.property;e("LabelTickCtrl",(m=S("LabelTickCtrl"),d=z(u),N=z({type:s}),g=z({type:s}),v=z(c),x=z(o),m((P=i((w=function(e){function i(){for(var i,t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return i=e.call.apply(e,[this].concat(a))||this,r(i,"label",P,l(i)),r(i,"prefix",C,l(i)),r(i,"suffix",F,l(i)),r(i,"decimalPlaces",_,l(i)),r(i,"withAction",L,l(i)),i.curNumber=null,i.intervalPerUpdate=null,i.finalNumber=null,i._defaultScale=0,i}t(i,e);var a=i.prototype;return a.onLoad=function(){this._defaultScale=this.node.scale.x},a.tickLabel=function(e,i,t){if(void 0===t&&(t=1),"number"!=typeof i)return h("finalNumber 必须是数字哦");null===(e=null===e?this.curNumber:e)||e==i?(this.curNumber=i,this.finalNumber=i,this.label.string=""+this.prefix+this.finalNumber.toFixed(this.decimalPlaces)+this.suffix):(this.curNumber=e,this.finalNumber=i,this.intervalPerUpdate=(i-e)/(33*t),this.unschedule(this.updateForNumber),this.schedule(this.updateForNumber,.03),this.label.string=""+this.prefix+this.curNumber.toFixed(this.decimalPlaces)+this.suffix)},a.updateForNumber=function(e){this.curNumber+=this.intervalPerUpdate,(this.intervalPerUpdate>0&&this.curNumber>this.finalNumber||this.intervalPerUpdate<0&&this.curNumber<this.finalNumber)&&(this.curNumber=this.finalNumber,this.unschedule(this.updateForNumber));var i=this.label.string;if(this.label.string=""+this.prefix+this.curNumber.toFixed(this.decimalPlaces)+this.suffix,this.withAction&&i!=this.label.string){var t=1.2*this._defaultScale;this.node.scale=new f(t,t,t),new b(this.node).to(.025,{scale:new f(this._defaultScale,this._defaultScale,this._defaultScale)}).start()}},a.stop=function(){this.unschedule(this.updateForNumber),this.curNumber=null,this.finalNumber=null},i}(p)).prototype,"label",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=i(w.prototype,"prefix",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),F=i(w.prototype,"suffix",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_=i(w.prototype,"decimalPlaces",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=i(w.prototype,"withAction",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),y=w))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageConfig.ts",["cc","./Config.ts"],(function(n){var g,e;return{setters:[function(n){g=n.cclegacy},function(n){e=n.Config}],execute:function(){g._RF.push({},"309b4D+UsFPwZ3ojA/OMzxX","LanguageConfig",void 0);var t=n("LanguageConfig",{get:function(n){return this[n][e.language]}});globalThis.LanguageConfig=t,g._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageLabelsCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageConfig.ts"],(function(e){var a,n,t,r,i,l,o,u,g,s;return{setters:[function(e){a=e.applyDecoratedDescriptor,n=e.initializerDefineProperty,t=e.inheritsLoose,r=e.assertThisInitialized},function(e){i=e.cclegacy,l=e._decorator,o=e.Label,u=e.CCString,g=e.Component},function(e){s=e.LanguageConfig}],execute:function(){var c,b,p,f,L,y,h,m,C,v,d,P;i._RF.push({},"ab130qLUEZOHq0fa9dHce3w","LanguageLabelsCtrl",void 0);var w=l.ccclass,z=l.property,K=(c=w("LanguageParam"),b=z(o),p=z(u),c((y=a((L=function(){n(this,"label",y,this),n(this,"languageKey",h,this)}).prototype,"label",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=a(L.prototype,"languageKey",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=L))||f);e("LanguageLabelsCtrl",(m=w("LanguageLabelsCtrl"),C=z([K]),m((P=a((d=function(e){function a(){for(var a,t=arguments.length,i=new Array(t),l=0;l<t;l++)i[l]=arguments[l];return a=e.call.apply(e,[this].concat(i))||this,n(a,"labelParams",P,r(a)),a}return t(a,e),a.prototype.onLoad=function(){for(var e=0;e<this.labelParams.length;e++){var a=this.labelParams[e];a.languageKey&&(a.label.string=s.get(a.languageKey))}},a}(g)).prototype,"labelParams",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=d))||v));i._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageLabelTicksCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LabelTickCtrl.ts","./LanguageConfig.ts"],(function(e){var i,t,r,a,n,l,o,u,c,s;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.initializerDefineProperty,r=e.inheritsLoose,a=e.assertThisInitialized},function(e){n=e.cclegacy,l=e._decorator,o=e.CCString,u=e.Component},function(e){c=e.LabelTickCtrl},function(e){s=e.LanguageConfig}],execute:function(){var f,p,g,b,y,h,L,k,C,T,m,x,d,v;n._RF.push({},"5bfc6dfFWRHC7XjAsazdqek","LanguageLabelTicksCtrl",void 0);var K=l.ccclass,z=l.property,w=(f=K("LanguageTickParam"),p=z(c),g=z({type:o}),b=z({type:o}),f((L=i((h=function(){t(this,"labelTick",L,this),t(this,"prefixKey",k,this),t(this,"suffixKey",C,this)}).prototype,"labelTick",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=i(h.prototype,"prefixKey",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),C=i(h.prototype,"suffixKey",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=h))||y);e("LanguageLabelTicksCtrl",(T=K("LanguageLabelTicksCtrl"),m=z([w]),T((v=i((d=function(e){function i(){for(var i,r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return i=e.call.apply(e,[this].concat(n))||this,t(i,"params",v,a(i)),i}return r(i,e),i.prototype.onLoad=function(){for(var e=0;e<this.params.length;e++){var i=this.params[e];i.prefixKey&&(i.labelTick.prefix=s.get(i.prefixKey)),i.suffixKey&&(i.labelTick.suffix=s.get(i.suffixKey))}},i}(u)).prototype,"params",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=d))||x));n._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageSpritesCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts"],(function(r){var e,t,i,n,a,o,s,p,u,l;return{setters:[function(r){e=r.applyDecoratedDescriptor,t=r.initializerDefineProperty,i=r.inheritsLoose,n=r.assertThisInitialized},function(r){a=r.cclegacy,o=r._decorator,s=r.Sprite,p=r.SpriteFrame,u=r.Component},function(r){l=r.Config}],execute:function(){var c,f,g,h,m,y,b,v,S,C,L,d;a._RF.push({},"c0d58Ag2ehD2LMpEZE3tDuY","LanguageSpritesCtrl",void 0);var z=o.ccclass,D=o.property,w=(c=z("SpriteParam"),f=D(s),g=D([p]),c((y=e((m=function(){t(this,"sprite",y,this),t(this,"frames",b,this)}).prototype,"sprite",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(m.prototype,"frames",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=m))||h);r("LanguageSpritesCtrl",(v=z("LanguageSpritesCtrl"),S=D([w]),v((d=e((L=function(r){function e(){for(var e,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return e=r.call.apply(r,[this].concat(a))||this,t(e,"params",d,n(e)),e}return i(e,r),e.prototype.start=function(){for(var r=0;r<this.params.length;r++){var e=this.params[r];e.sprite.spriteFrame=e.frames[l.language]}},e}(u)).prototype,"params",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=L))||C));a._RF.pop()}}}));

System.register("chunks:///_virtual/LevelIndexCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ControlWidgetBase.ts"],(function(e){var t,n,i,r,l,o,a,s,c,p,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){l=e.cclegacy,o=e._decorator,a=e.Label,s=e.view,c=e.Vec3,p=e.Tween},function(e){u=e.ControlWidgetBase}],execute:function(){var d,v,h,b,f;l._RF.push({},"bab68KeUoNNo7GQNHKzpNP2","LevelIndexCtrl",void 0);var g=o.ccclass,y=o.property;e("LevelIndexCtrl",(d=g("LevelIndexCtrl"),v=y(a),d((f=t((b=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return t=e.call.apply(e,[this].concat(l))||this,i(t,"levelIndexLabel",f,r(t)),t}return n(t,e),t.prototype.playInAction=function(e){this.node.active=!0;var t=s.getVisibleSize();this.node.position=new c(0,t.height/2+50,0),new p(this.node).to(.5,{position:new c(0,t.height/2-120,0)}).start(),this.levelIndexLabel.string="关卡"+(e.levelIndex+1)},t}(u)).prototype,"levelIndexLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=b))||h));l._RF.pop()}}}));

System.register("chunks:///_virtual/lift_car_config.ts",["cc"],(function(e){var n,w;return{setters:[function(e){n=e.cclegacy,w=e.Vec3}],execute:function(){n._RF.push({},"415f5Vv5vtC9LnGHnN3NKOT","lift_car_config",void 0);e("lift_car_config",[{slide_path:[new w(55,0,195),new w(115,0,195),new w(115,0,135),new w(145,0,135)]},{slide_path:[new w(35,0,75),new w(115,0,75),new w(115,0,135),new w(175,0,135),new w(175,0,235)]},{slide_path:[new w(115,0,275),new w(115,0,245),new w(55,0,245),new w(55,0,225)]},{slide_path:[new w(115,0,30),new w(115,0,75),new w(175,0,75),new w(175,0,165)]},{slide_path:[new w(175,0,125),new w(175,0,75),new w(115,0,75),new w(115,0,35)]},{slide_path:[new w(115,0,275),new w(115,0,245),new w(175,0,245),new w(175,0,195),new w(75,0,195)]}]);n._RF.pop()}}}));

System.register("chunks:///_virtual/LiftCarCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./weather_config.ts","./AutoPathFindCtrl.ts"],(function(t){var i,e,n,r,l,a,o,u,p,c,s,h;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){l=t.cclegacy,a=t._decorator,o=t.Node,u=t.Quat,p=t.Vec3,c=t.Component},function(t){s=t.weather_config},function(t){h=t.AutoPathFindCtrl}],execute:function(){var f,d,b,C,g,m,F,y,w,v,z,P,k,L,N;l._RF.push({},"aa56ep3ogtGfazbX/W/Ikih","LiftCarCtrl",void 0);var _=a.ccclass,D=a.property;t("LiftCarCtrl",(f=_("LiftCarCtrl"),d=D(h),b=D(h),C=D(o),g=D(o),m=D([o]),F=D(o),f((v=i((w=function(t){function i(){for(var i,e=arguments.length,l=new Array(e),a=0;a<e;a++)l[a]=arguments[a];return i=t.call.apply(t,[this].concat(l))||this,n(i,"pathFindCtrl0",v,r(i)),n(i,"pathFindCtrl1",z,r(i)),n(i,"mark0",P,r(i)),n(i,"mark1",k,r(i)),n(i,"particleNodes",L,r(i)),n(i,"lightNode",N,r(i)),i}e(i,t);var l=i.prototype;return l.start=function(){},l.onEnable=function(){var t=[{position:null,rotation:u.fromEuler(new u,0,0,0),scale:null,time:2},{position:null,rotation:u.fromEuler(new u,-15,0,0),scale:null,time:2}];this.pathFindCtrl0.init(t);var i=[{position:new p(0,.199,.196),rotation:null,scale:null,time:2},{position:null,rotation:null,scale:null,time:2},{position:new p(0,.345,.67),rotation:null,scale:null,time:2}];this.pathFindCtrl1.init(i)},l.onDisable=function(){},l.upgradePathFind=function(t){return this.pathFindCtrl0.updatePath(t),this.pathFindCtrl1.updatePath(t),this.pathFindCtrl0.isFinished&&this.pathFindCtrl1.isFinished},l.setWeahter=function(t){t%=s.length,"night"==s[t]&&(this.lightNode.active=!0)},i}(c)).prototype,"pathFindCtrl0",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=i(w.prototype,"pathFindCtrl1",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=i(w.prototype,"mark0",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=i(w.prototype,"mark1",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=i(w.prototype,"particleNodes",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=i(w.prototype,"lightNode",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=w))||y));l._RF.pop()}}}));

System.register("chunks:///_virtual/LiftPassengersCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BusPassengerCtrl.ts"],(function(e){var t,n,r,s,o,i,a,l,u,p,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,s=e.assertThisInitialized,o=e.createForOfIteratorHelperLoose},function(e){i=e.cclegacy,a=e._decorator,l=e.Vec3,u=e.Quat,p=e.Component},function(e){c=e.BusPassengerCtrl}],execute:function(){var d,f,v,g,h;i._RF.push({},"fbd25sBEI1AHoExZjmGorO6","LiftPassengersCtrl",void 0);var P=a.ccclass,y=a.property;e("LiftPassengersCtrl",(d=P("LiftPassengersCtrl"),f=y([c]),d((h=t((g=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o))||this,r(t,"passengers",h,s(t)),t}n(t,e);var i=t.prototype;return i.upgradePosAndRotation=function(e){for(var t,n=o(this.passengers);!(t=n()).done;){var r=t.value,s=l.transformQuat(new l,r.node.position,e.rotation);s.add(e.position),r.node.position=s;var i=u.multiply(new u,e.rotation,r.node.rotation);r.node.rotation=i}},i.init=function(e){for(var t,n=0,r=o(this.passengers);!(t=r()).done;){for(var s,i=t.value,a=[{position:i.node.position,rotation:null,scale:null,time:1},{position:null,rotation:null,scale:null,time:.2*n+.05}],l=o(e);!(s=l()).done;){var u=s.value;a.push({position:u,rotation:null,scale:null,speed:2})}i.init(a),n++}},i.startUpdatePassenegerPath=function(){this.schedule(this.updatePassengerPath)},i.updatePassengerPath=function(e){for(var t,n=o(this.passengers);!(t=n()).done;){var r=t.value;0==r.isFinished&&(r.updatePath(e),r.isFinished&&(r.node.active=!1))}},i.startIdle=function(){for(var e,t=o(this.passengers);!(e=t()).done;){e.value.startIdle()}},t}(p)).prototype,"passengers",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=g))||v));i._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingLayerCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts"],(function(r){var e,t,i,s,o,n,a,l,u,p,c,h,g;return{setters:[function(r){e=r.applyDecoratedDescriptor,t=r.inheritsLoose,i=r.initializerDefineProperty,s=r.assertThisInitialized},function(r){o=r.cclegacy,n=r._decorator,a=r.CCBoolean,l=r.Label,u=r.Node,p=r.ProgressBar,c=r.Vec3,h=r.Component},function(r){g=r.Config}],execute:function(){var b,f,P,d,y,_,L,v,C,w,m;o._RF.push({},"8fb609FjfdIrrU+g0Xj7S0Q","LoadingLayerCtrl",void 0);var z=n.ccclass,F=n.property;r("LoadingLayerCtrl",(b=z("LoadingLayerCtrl"),f=F(a),P=F(l),d=F(u),y=F(p),b((v=e((L=function(r){function e(){for(var e,t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return e=r.call.apply(r,[this].concat(o))||this,i(e,"autoProgress",v,s(e)),i(e,"label",C,s(e)),i(e,"airplane",w,s(e)),i(e,"bar",m,s(e)),e._startPos=new c(-215,77,0),e._endPos=new c(215,77,0),e._curPos=new c(0,0,0),e}t(e,r);var o=e.prototype;return o.onLoad=function(){this.label.string="version: "+g.version},o.onEnable=function(){this.autoProgress&&(this.bar.progress=0,this.airplane.position=this._startPos,this.schedule(this.updateForProgress))},o.onDisable=function(){this.unschedule(this.updateForProgress)},o.updateForProgress=function(r){var e=1-this.bar.progress;e=e/10*r,this.bar.progress+=e,c.lerp(this._curPos,this._startPos,this._endPos,this.bar.progress),this.airplane.position=this._curPos},o.setProgress=function(r){this.bar.progress=r,c.lerp(this._curPos,this._startPos,this._endPos,this.bar.progress),this.airplane.position=this._curPos},e}(h)).prototype,"autoProgress",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),C=e(L.prototype,"label",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(L.prototype,"airplane",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=e(L.prototype,"bar",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=L))||_));o._RF.pop()}}}));

System.register("chunks:///_virtual/LobbyAutoDoorCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var e,t,o,i,n,l,a,c,s,u,p;return{setters:[function(r){e=r.applyDecoratedDescriptor,t=r.inheritsLoose,o=r.initializerDefineProperty,i=r.assertThisInitialized},function(r){n=r.cclegacy,l=r._decorator,a=r.BoxCollider,c=r.Node,s=r.Tween,u=r.Vec3,p=r.Component}],execute:function(){var g,b,f,h,d,y,D,w,v;n._RF.push({},"17bcdh7tKdFzKRIfgsrBRjN","LobbyAutoDoorCtrl",void 0);var T=l.ccclass,z=l.property;r("LobbyAutoDoorCtrl",(g=T("LobbyAutoDoorCtrl"),b=z(a),f=z(c),h=z(c),g((D=e((y=function(r){function e(){for(var e,t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return e=r.call.apply(r,[this].concat(n))||this,o(e,"collider",D,i(e)),o(e,"leftDoor",w,i(e)),o(e,"rightDoor",v,i(e)),e.beTriggered=!1,e}t(e,r);var n=e.prototype;return n.start=function(){this.collider.on("onTriggerEnter",this.onTriggerEnter,this)},n.onTriggerEnter=function(){if(!this.beTriggered){this.beTriggered=!0;var r=new s(this.leftDoor);r.to(.5,{position:new u(0,0,-1.8)}).start(),(r=new s(this.rightDoor)).to(.5,{position:new u(0,0,1.8)}).start()}},e}(p)).prototype,"collider",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(y.prototype,"leftDoor",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(y.prototype,"rightDoor",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=y))||d));n._RF.pop()}}}));

System.register("chunks:///_virtual/LocalData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./NotificationCenter.ts","./Utils.ts","./PlatformManager.ts","./airplane_shop_config.ts"],(function(e){var t,i,n,s,a,o,r,c,u,l,h,d;return{setters:[function(e){t=e.createForOfIteratorHelperLoose,i=e.createClass},function(e){n=e.cclegacy,s=e.game,a=e.Game,o=e.sys},function(e){r=e.Config},function(e){c=e.NotificationCenter,u=e.NCKeys},function(e){l=e.Utils},function(e){h=e.PlatformManager},function(e){d=e.airplane_shop_config}],execute:function(){n._RF.push({},"2f67crPiRZA1oxh1JiHY9YS","LocalData",void 0);var f="airport_3d",p=!1,_=e("LocalDataClass",function(){function e(){this.version="",this.saveTimeStamp=0,this._curAirplaneIndex=0,this._tryOutAirplaneIndex=-1,this._unlockAirplaneArray=[0],this._airplaneVideoCum={},this._levelIndex=0,this._cash=0,this.resultAirplaneProgress=0,this.todayGetedCollectReward=!1,this.gudieMark={},this._cumVideoConunt=0,this.freeCount=0,this.freeTimeStamp=0,this.todayShareSucessTime=0,this.signinCanGetDay=1,this.signinGetTime=0,this.signinAnotherReward=!0,this.sid="",this.acceptPrivacy=!1}var n=e.prototype;return n.unlockAirplane=function(e){-1==this._unlockAirplaneArray.indexOf(e)&&this._unlockAirplaneArray.push(e)},n.isAirplaneUnlock=function(e){return-1!=this._unlockAirplaneArray.indexOf(e)},n.getAirplaneVideoCum=function(e){return this._airplaneVideoCum[e]||0},n.addAirplaneVideCum=function(e){this._airplaneVideoCum[e]?this._airplaneVideoCum[e]++:this._airplaneVideoCum[e]=1},n.getRandomAirplaneIndex=function(){for(var e,i=[],n=t(d);!(e=n()).done;){var s=e.value;"signin"!=s.currency&&0==this.isAirplaneUnlock(s.index)&&i.push(s.index)}return 0==i.length?12:(l.shuffle(i),i[0])},n.itemUnlocked=function(e,t){return"airplane"==e&&-1!=this._unlockAirplaneArray.indexOf(t)},n.addOrUnlockItem=function(e,t){"cash"==e?g.cash+=t:"airplane"==e&&this.unlockAirplane(t)},n.getItemName=function(e,t){return"cash"==e?"钞票":"airplane"==e?d[t].name:void 0},n.refreshSigninData=function(e,t){this.signinCanGetDay=e,this.signinGetTime=t},n.init=function(){var e=this;return 1!=p&&(this.load(),s.on(a.EVENT_HIDE,(function(){console.log("游戏进入了后台了"),e.save(),c.postNotice(u.EVENT_HIDE,null)})),s.on(a.EVENT_SHOW,(function(){console.log("游戏进入了前台了"),c.postNotice(u.EVENT_SHOW,null)})),p=!0,!0)},n.load=function(){var e=o.localStorage.getItem(f);if(null!=e&&""!=e){try{var t=JSON.parse(e);Object.assign(this,t)}catch(e){return console.log("加载存档出错了",e),o.localStorage.setItem(f,""),void this.load()}this.version!=r.version&&(this.updateVersion(),this.version=r.version)}else this.version=r.version,this.saveTimeStamp=l.getCurTime(),this.sid=h.getInstance().getSid(),console.log("玩家首次进入游戏sid:",this.sid);0!=l.offsetDay(this.saveTimeStamp,l.getCurTime())&&(this.todayShareSucessTime=0,this.freeCount=0,this.todayGetedCollectReward=!1)},n.save=function(){this.saveTimeStamp=dayjs().unix();var e=JSON.stringify(this);o.localStorage.setItem(f,e)},n.clear=function(){var t=new e;Object.assign(this,t),this.save()},n.updateVersion=function(){},i(e,[{key:"curAirplaneIndex",get:function(){return-1!=this._tryOutAirplaneIndex?this._tryOutAirplaneIndex:this._curAirplaneIndex},set:function(e){this._curAirplaneIndex!=e&&(this._curAirplaneIndex=e,p&&c.postNotice(u.LOCAL_DATA_CUR_AIRPLANE_INDEX,this._curAirplaneIndex))}},{key:"levelIndex",get:function(){return this._levelIndex},set:function(e){this._levelIndex=e}},{key:"cash",get:function(){return this._cash},set:function(e){this._cash!=e&&(this._cash=e,p&&c.postNotice(u.LOCAL_DATA_CASH,this._cash))}},{key:"cumVideoConunt",get:function(){return this._cumVideoConunt},set:function(e){this._cumVideoConunt=e,p&&c.postNotice(u.CUM_VIDEO_COUNT,this._cumVideoConunt)}}]),e}()),g=e("LocalData",new _);globalThis.LocalData=g,n._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./AlertLayerCtrl.ts","./AudioCtrl.ts","./AudioHelper.ts","./AutoPathFindCtrl.ts","./Base64.ts","./BaseUILayerCtrl.ts","./CameraLookAtCtrl.ts","./ColliderHurtCtrl.ts","./Config.ts","./CustomSliderCtrl.ts","./DriveableCollideCtrl.ts","./DriveableCtrl.ts","./GlobalTemp.ts","./GlobalTouchCtrl.ts","./JudgeMoveInNodeRect.ts","./LabelTickCtrl.ts","./LanguageConfig.ts","./LanguageLabelTicksCtrl.ts","./LanguageLabelsCtrl.ts","./LanguageSpritesCtrl.ts","./LocalData.ts","./NodeDelayShow.ts","./NotificationCenter.ts","./ProgressBarTickCtrl.ts","./ToastCtrl.ts","./Utils.ts","./ConfigDefine.ts","./airplane_path_config.ts","./airplane_path_obst_config.ts","./airplane_shop_config.ts","./airplane_slide_config.ts","./bag_car_config.ts","./bus_config.ts","./fire_car_config.ts","./lift_car_config.ts","./oil_car_config.ts","./open_topped_car_config.ts","./signin_config.ts","./trail_config.ts","./weather_config.ts","./CashNodeCtrl.ts","./FlySceneCtrl.ts","./AirplaneCtrl.ts","./GameSceneCtrl.ts","./CanvasCtrl.ts","./CheatNodeCtrl.ts","./LoadingLayerCtrl.ts","./AirplaneFlyPageCtrl.ts","./AirplaneProgressPage.ts","./AirplaneTryoutPage.ts","./BottomBannerCtrlMZ.ts","./BottomBannerCtrlOppo.ts","./BottomBannerCtrlVivo.ts","./BottomBannerCtrlWX.ts","./BottomBannerInitCtrl.ts","./WXCustomAdNodeCtrl.ts","./AirplaneDriverCtrl.ts","./AirplanePathProgressNodeCtrl.ts","./AirplanePickUpCtrl.ts","./BlackCurtainCtrl.ts","./ControlWidgetBase.ts","./FlightCabinNodeCtrl.ts","./ForcePressCtrl.ts","./HeartNodeCtrl.ts","./LabelNodeCtrl.ts","./LevelIndexCtrl.ts","./MissonProgressCtrl.ts","./RockerFlyNodeCtrl.ts","./SecurityCheckCtrl.ts","./SlideScreenCtrl.ts","./FailPageCtrl.ts","./MainPageCtrl.ts","./cashWidgetCtrl.ts","./BoxLayerCtrl.ts","./CumVideoNodeCtrl.ts","./FreeLayerCtrl.ts","./PrivacyDetailLayerCtrl.ts","./PrivacyLayerCtrl.ts","./ShareLayerCtrl.ts","./SigninItemCtrl.ts","./SigninLayerCtrl.ts","./PlayPagePushNodeCtrl.ts","./mainPagePushNodeCtrl.ts","./MoreGameLayerCtrl.ts","./moreGameInnerNodeCtrl.ts","./toolGameInnerNodeCtrl.ts","./MutualPushItemCtrl.ts","./ResultPageCtrl.ts","./AirplaneFireNodeCtrl.ts","./AirplanePathCollideCtrl.ts","./AirplanePathObstNodeCtrl.ts","./AirplanePickUpNodeCtrl.ts","./AirplaneWheelCtrl.ts","./BagCarCtrl.ts","./BusEntranceNodeCtrl.ts","./BusNodeCtrl.ts","./BusPassengerCtrl.ts","./DoorMarkCtrl.ts","./FinishPointCtrl.ts","./LiftCarCtrl.ts","./LiftPassengersCtrl.ts","./LobbyAutoDoorCtrl.ts","./MissionCtrlAirplaneFly.ts","./MissionCtrlAirplanePath.ts","./MissionCtrlAirplanePickUp.ts","./MissionCtrlAirplaneTrail.ts","./MissionCtrlAirplaneWheel.ts","./MissionCtrlBase.ts","./MissionCtrlBusPassengers.ts","./MissionCtrlFlightCabin.ts","./MissionCtrlLiftCar.ts","./MissionCtrlOiling.ts","./MissionCtrlOpenToppedCar.ts","./MissionCtrlOutCabin.ts","./MissionCtrlOutfire.ts","./MissionCtrlPushCarMan.ts","./MissionCtrlRockerFly.ts","./MissionCtrlSecurityCheck.ts","./MissionCtrlTransportBag.ts","./MissonCtrlAirplaneSlide.ts","./OilCarCtrl.ts","./OilGunCtrl.ts","./OpenToppedCarCtrl.ts","./OpenToppedCarPassengerCtrl.ts","./SecurityCheckPassengerCtrl.ts","./TransportCarCtrl.ts","./WaterGunCtrl.ts","./AdApterOppo.ts","./AdapterBD.ts","./AdapterBase.ts","./AdapterHW.ts","./AdapterMZ.ts","./AdapterQQ.ts","./AdapterTT.ts","./AdapterTypeDefine.ts","./AdapterVivo.ts","./AdapterWX.ts","./PlatformConfig.ts","./PlatformJudge.ts","./PlatformManager.ts","./PlatformNotify.ts","./RemoteConfig.ts","./NativeBannerCtrl.ts","./NativeBannerSiblingIndexCtrl.ts","./NativeNodeCtrl.ts","./ShareRecordLayerCtrl.ts","./ShopLayerCtrl.ts","./ShopLayerItemCtrl.ts","./ShopSceneCtrl.ts","./SDKtest.ts","./Sprite1.ts","./Sprite2.ts","./Tes.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MainPageCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./airplane_shop_config.ts","./AudioCtrl.ts","./AudioHelper.ts","./BaseUILayerCtrl.ts","./LocalData.ts","./NotificationCenter.ts","./Utils.ts","./PlatformJudge.ts","./PlatformManager.ts","./cashWidgetCtrl.ts"],(function(e){var t,i,n,o,a,r,s,l,c,u,h,f,p,d,g,v,y,C,b,A,N,R,L,I,_,m,P,T,w,O;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createClass,r=e.createForOfIteratorHelperLoose},function(e){s=e.cclegacy,l=e._decorator,c=e.Node,u=e.find,h=e.Label,f=e.Layout,p=e.UITransform,d=e.view,g=e.Vec3,v=e.Tween,y=e.Prefab,C=e.instantiate,b=e.log},function(e){A=e.airplane_shop_config},function(e){N=e.CLIP},function(e){R=e.AudioHelper},function(e){L=e.BaseUILayerCtrl},function(e){I=e.LocalData},function(e){_=e.NotificationCenter,m=e.NCKeys},function(e){P=e.Utils},function(e){T=e.PlatformJudge},function(e){w=e.PlatformManager},function(e){O=e.CashWidgetCtrl}],execute:function(){var B,k,S,M,z,U,W,D,K,E,H,V,G,x,F,J,q;s._RF.push({},"f0fa78x2PBLwbitn6R8JAPV","MainPageCtrl",void 0);var Q=l.ccclass,j=l.property,X=560;e("MainPageCtrl",(B=Q("MainPageCtrl"),k=j(c),S=j(O),M=j(c),z=j(c),U=j(c),W=j(c),D=j(c),B((H=t((E=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,n(t,"leftNode",H,o(t)),n(t,"cashWidgetCtrl",V,o(t)),n(t,"shareRed",G,o(t)),n(t,"signinRed",x,o(t)),n(t,"freeRed",F,o(t)),n(t,"shopRed",J,o(t)),n(t,"backArrowNode",q,o(t)),t.state="hide",t}i(t,e);var s=t.prototype;return s.start=function(){var e,t;(0==w.getInstance().hadShareAbility()&&(u("shareButton",this.leftNode).active=!1),0==w.getInstance().hadCollectAbility()&&(u("collectButton",this.leftNode).active=!1),T.isOppo)||(u("privacyButton",this.leftNode).active=!1);if(T.isOppo||T.isVivo||T.isMZ){var i=u("collectButton/Label",this.leftNode).getComponent(h);i.fontSize=22,i.lineHeight=24,i.string="添\n加\n桌\n面"}null==(e=this.leftNode.getComponent(f))||e.updateLayout();var n=(null==(t=this.leftNode.getComponent(p))?void 0:t.height)||0,o=d.getVisibleSize();if(o.height-X-168<n){var a=(o.height-X-168)/n;this.leftNode.scale=new g(a,a,a)}},s.onEnable=function(){_.addObserver(m.MAIN_PAGE_RED_POINT,this.refreshRedPointActive,this),this.refreshRedPointActive()},s.onDisable=function(){_.removeObserver(m.MAIN_PAGE_RED_POINT,this)},s.playInAction=function(){if("show"!=this.state){this.state="show",this.refreshRedPointActive(),this.backArrowNode.active=!1;var e=d.getVisibleSize();this.leftNode.active=!0,this.leftNode.position=new g(-620,X-e.height/2,0),v.stopAllByTarget(this.leftNode),new v(this.leftNode).to(.5,{position:new g(-320,X-e.height/2,0)},{easing:"backOut"}).start(),this.cashWidgetCtrl.playInAction()}},s.playOutAction=function(){var e=this;if("hide"!=this.state){this.state="hide";var t=d.getVisibleSize();this.leftNode.position=new g(-320,X-t.height/2,0),v.stopAllByTarget(this.leftNode),new v(this.leftNode).to(.3,{position:new g(-620,X-t.height/2,0)},{easing:"backIn"}).call((function(){e.backArrowNode.active=!0})).start(),this.cashWidgetCtrl.playOutAction()}},s.onCollectButtonClick=function(){R.play("audio",N.CLICK_NORMAL_BUTTON),w.getInstance().vibrateShort("medium"),w.getInstance().trackEvent("click_collect",null);var e="";T.isWX?e="pages/collectLayer/collectLayerwx":T.isTT?e="pages/collectLayer/collectLayertt":T.isQQ&&(e="pages/collectLayer/collectLayerqq"),""!=e?P.loadResWithCorrection(e,y,(function(e,t){if(e)return P.popToast(e);C(t).parent=u("Canvas")})):w.getInstance().tryShortcutIndesktop((function(e,t){e?P.popToast("创建桌面图标成功了"):P.popToast(t)}))},s.onShareButtonClick=function(){R.play("audio",N.CLICK_NORMAL_BUTTON),w.getInstance().vibrateShort("medium");P.loadResWithCorrection("pages/shareLayer/shareLayer",y,(function(e,t){if(e)return P.popToast(e);C(t).parent=u("Canvas")}))},s.onSigninButtonClick=function(){R.play("audio",N.CLICK_NORMAL_BUTTON),w.getInstance().vibrateShort("medium");P.loadResWithCorrection("pages/signinLayer/signinLayer",y,(function(e,t){if(e)return P.popToast(e);C(t).parent=u("Canvas")}))},s.onFreeButtonClick=function(){R.play("audio",N.CLICK_NORMAL_BUTTON),w.getInstance().vibrateShort("medium");P.loadResWithCorrection("pages/freeLayer/freeLayer",y,(function(e,t){if(e)return P.popToast(e);C(t).parent=u("Canvas")}))},s.onShopButtonClick=function(){R.play("audio",N.CLICK_NORMAL_BUTTON),w.getInstance().vibrateShort("medium"),_.postNotice(m.GO_SHOP_SCENE,null)},s.refreshRedPointActive=function(){this.shareRed.active=this.shareRedPointActive,this.signinRed.active=this.signinRedPointActive,this.freeRed.active=this.freeRedPointActive,this.shopRed.active=this.shopRedPointActive},s.onBackArrowButtonClick=function(){R.play("audio",N.CLICK_NORMAL_BUTTON),w.getInstance().vibrateShort("medium"),this.playInAction(),_.postNotice(m.MAIN_PAGE_BACK_ARROW_CLICK,null)},s.onPrivacyButtonClick=function(){R.play("audio",N.CLICK_NORMAL_BUTTON),w.getInstance().vibrateShort("medium"),P.loadResWithCorrection("pages/privacyLayer/privacyDetailLayer",y,(function(e,t){if(e)return b(e);u("Canvas/privacyDetailLayer")||(C(t).parent=u("Canvas"))}))},a(t,[{key:"freeRedPointActive",get:function(){return I.freeCount<5}},{key:"signinRedPointActive",get:function(){var e=I.signinGetTime,t=P.offsetDay(e,P.getCurTime());return!!(t<0||t>=1||I.signinAnotherReward)}},{key:"shareRedPointActive",get:function(){return I.todayShareSucessTime<5}},{key:"shopRedPointActive",get:function(){for(var e,t=r(A);!(e=t()).done;){var i=e.value;if("cash"==i.currency&&I.cash>=i.price&&0==I.isAirplaneUnlock(i.index))return!0}return!1}}]),t}(L)).prototype,"leftNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(E.prototype,"cashWidgetCtrl",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(E.prototype,"shareRed",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(E.prototype,"signinRed",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(E.prototype,"freeRed",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(E.prototype,"shopRed",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=t(E.prototype,"backArrowNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=E))||K));s._RF.pop()}}}));

System.register("chunks:///_virtual/mainPagePushNodeCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioCtrl.ts","./AudioHelper.ts","./Config.ts","./NotificationCenter.ts","./PlatformJudge.ts","./WXCustomAdNodeCtrl.ts","./MutualPushItemCtrl.ts"],(function(e){var t,i,n,o,r,s,a,l,u,h,d,c,f,m,C,g,p,A,b,v,P,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,a=e.Node,l=e.Prefab,u=e.view,h=e.Vec3,d=e.Tween,c=e.instantiate,f=e.find,m=e.Component},function(e){C=e.CLIP},function(e){g=e.AudioHelper},function(e){p=e.Config},function(e){A=e.NotificationCenter,b=e.NCKeys},function(e){v=e.PlatformJudge},function(e){P=e.WXCustomAdNodeCtrl},function(e){I=e.MutualPushItemCtrl}],execute:function(){var N,w,M,O,_,S,y,H,E,L,R;r._RF.push({},"5ec1eYnV3tHP5BsQgZwUMNo","mainPagePushNodeCtrl",void 0);var W=s.ccclass,z=s.property;e("MainPagePushNodeCtrl",(N=W("MainPagePushNodeCtrl"),w=z(I),M=z(a),O=z(l),_=z(P),N((H=t((y=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,n(t,"iconItemCtrl",H,o(t)),n(t,"moreNode",E,o(t)),n(t,"moreGameLayerPrefab",L,o(t)),n(t,"customAdCtrl",R,o(t)),t}i(t,e);var r=t.prototype;return r.onLoad=function(){if(v.isWX||"dev"==v.getPlatformName()){var e=u.getVisibleSize();this.node.position=new h(e.width/2+320,e.height/2-p.ui.topOffset-250,0)}else this.node.destroy()},r.start=function(){new d(this.iconItemCtrl.node).to(.1,{eulerAngles:new h(0,0,25)}).to(.1,{eulerAngles:new h(0,0,-25)}).to(.1,{eulerAngles:new h(0,0,25)}).to(.1,{eulerAngles:new h(0,0,-25)}).to(.1,{eulerAngles:new h(0,0,0)}).delay(2).union().repeatForever().start()},r.onEnable=function(){this.onHtsInitedFinish(),A.addObserver(b.MISSION_RESET,this.onMissionReset,this),A.addObserver(b.MAIN_PAGE_HIDE,this.onWantMainPageHide,this),A.addObserver(b.MAIN_PAGE_SHOW,this.onWantMainPageShow,this),A.addObserver(b.MISSION_FINISH,this.onMissionFinish,this),A.addObserver(b.MAIN_PAGE_BACK_ARROW_CLICK,this.onMainPageBackArrowClick,this)},r.onDisable=function(){A.removeObserver(b.MISSION_RESET,this),A.removeObserver(b.MAIN_PAGE_HIDE,this),A.removeObserver(b.MAIN_PAGE_SHOW,this),A.removeObserver(b.MISSION_FINISH,this),A.removeObserver(b.MAIN_PAGE_BACK_ARROW_CLICK,this)},r.onHtsInitedFinish=function(){},r.onMoreButtonClick=function(){g.play("audio",C.CLICK_NORMAL_BUTTON),c(this.moreGameLayerPrefab).parent=f("Canvas")},r.onMissionReset=function(){var e=u.getVisibleSize();this.node.position=new h(e.width/2+320,e.height/2-p.ui.topOffset-250,0)},r.onMissionFinish=function(){var e=u.getVisibleSize();this.node.position=new h(e.width/2+320,e.height/2-p.ui.topOffset-250,0),this.customAdCtrl.hideCustomAd()},r.onWantMainPageShow=function(){var e=u.getVisibleSize();this.node.position=new h(e.width/2+320,e.height/2-p.ui.topOffset-250,0),new d(this.node).to(.5,{position:new h(e.width/2,e.height/2-p.ui.topOffset-250,0)},{easing:"backOut"}).start()},r.onWantMainPageHide=function(){this.moreNode.active&&(this.moreNode.active=!1,this.customAdCtrl.showCustomAd())},r.onMainPageBackArrowClick=function(){0==this.moreNode.active&&(this.moreNode.active=HtsHelper.moreArray.length>0,this.customAdCtrl.hideCustomAd())},t}(m)).prototype,"iconItemCtrl",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(y.prototype,"moreNode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(y.prototype,"moreGameLayerPrefab",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(y.prototype,"customAdCtrl",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=y))||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/MissionCtrlAirplaneFly.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioCtrl.ts","./AudioHelper.ts","./CameraLookAtCtrl.ts","./Config.ts","./DriveableCtrl.ts","./LocalData.ts","./NotificationCenter.ts","./Utils.ts","./AirplaneCtrl.ts","./FinishPointCtrl.ts","./MissionCtrlBase.ts"],(function(t){var i,e,n,r,o,a,l,s,c,p,d,h,f,u,C,v,N,y,w,A,m,P,g,E,I,b;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,l=t.Prefab,s=t.Node,c=t.AudioSource,p=t.Vec3,d=t.find,h=t.instantiate,f=t.Tween,u=t.Quat},function(t){C=t.CLIP},function(t){v=t.AudioHelper},function(t){N=t.CameraLookAtCtrl},function(t){y=t.CONTROL_WIDGET_NAME},function(t){w=t.DriveableCtrl},function(t){A=t.LocalData},function(t){m=t.NotificationCenter,P=t.NCKeys},function(t){g=t.Utils},function(t){E=t.AirplaneCtrl},function(t){I=t.FinishPointCtrl},function(t){b=t.MissionCtrlBase}],execute:function(){var _,L,D,O,T,F,R,M,x,z,k;o._RF.push({},"eb112o5MbVPAqJqSGl63eaF","MissionCtrlAirplaneFly",void 0);var S=a.ccclass,G=a.property;t("MissionCtrlAirplaneFly",(_=S("MissionCtrlAirplaneFly"),L=G(l),D=G(s),O=G(c),T=G(c),_((M=i((R=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return i=t.call.apply(t,[this].concat(o))||this,n(i,"arrowGreenPrefab",M,r(i)),n(i,"finishPointNode",x,r(i)),n(i,"slideEffect",z,r(i)),n(i,"flyEffect",k,r(i)),i.airplaneInitPos=new p(115,0,245),i.airplaneEndPos=new p(115,0,195),i}e(i,t);var o=i.prototype;return o.init=function(i){t.prototype.init.call(this,i);var e=d("Main Camera");this.cameraCtrl=e.getComponent(N),this.createSlidePath(),this.createAirplane()},o.onDestroy=function(){this.cameraCtrl.stopLookAtTargetNode()},o.createSlidePath=function(){for(var t=[this.airplaneInitPos,this.airplaneEndPos],i=t.length,e=0;e<i-1;e++){var n=p.subtract(new p,t[e+1],t[e]),r=n.length()/10;n.normalize();for(var o=t[e],a=new p(10*n.x,10*n.y,10*n.z),l=0;l<r;l++){var s=h(this.arrowGreenPrefab);g.rotationNodeFace(s,new p(0,0,1),n,!0);var c=new p(o.x+a.x*l,o.y+a.y*l,o.z+a.z*l);c.y+=.1,s.position=c,s.parent=this.node}}var d=t[i-2],f=t[i-1],u=p.subtract(new p,f,d);u.normalize(),this.finishPointNode.position=new p(f.x,f.y+.1,f.z),g.rotationNodeFace(this.finishPointNode,new p(0,0,-1),u,!0),this.finishPointNode.getComponent(I).setDelegate(this.onFinishPointTriggered,this)},o.createAirplane=function(){var t=this,i="prefab/3d/airplane/airplane"+A.curAirplaneIndex;g.loadResWithCorrection(i,l,(function(i,e){var n=h(e);n.parent=t.node,t.airplaneCtrl=n.getComponent(E),t.airplaneCtrl.setWeahter(t._levelIndex),m.postNotice(P.MAP_LOADED_FINISH,t)}))},o.missionStart=function(){var t=this;this.airplaneCtrl.node.position=this.airplaneInitPos,this.airplaneCtrl.node.eulerAngles=new p(0,180,0);var i=new p(-1,0,0),e=new p(0,0,1),n=new p,r=g.solveLookAtInfo(this.airplaneCtrl.node,i,12,9,-5);this.cameraCtrl.node.position=r.pos,this.cameraCtrl.node.rotation=r.rotation,new f(this.airplaneCtrl.node).to(1,{},{easing:"cubicOut",onUpdate:function(r,o){p.lerp(n,i,e,o),n.normalize();var a=g.solveLookAtInfo(t.airplaneCtrl.node,n,12,9,-5),l=a.pos,s=a.rotation;t.cameraCtrl.node.position=l,t.cameraCtrl.node.rotation=s}}).call(this.startDriver.bind(this)).start()},o.startDriver=function(){var t=this;m.postNotice(P.MAIN_PAGE_SHOW,null),m.postNotice(P.CONTROL_WIDGET_SHOW,{index:y.LEVEL_INDEX,levelIndex:this._levelIndex}),m.postNotice(P.CONTROL_WIDGET_SHOW,{index:y.AIRPLANE_DRIVE}),this.scheduleOnce((function(){m.postNotice(P.NAVIGATION_ARROW_TARGET,t.finishPointNode)}),.5);var i=this.airplaneCtrl.addComponent(w);i.rigidBody=this.airplaneCtrl.rigidBody,i.lookAtSensitivity=.0015,i.effect=this.slideEffect,i.registerDriver(),this.cameraCtrl.startLookAtTargetNode(this.airplaneCtrl.node,i,12,9,new p(0,0,1),-5)},o.onFinishPointTriggered=function(t){m.postNotice(P.CONTROL_WIDGET_HIDE,{index:y.AIRPLANE_DRIVE}),this.playParticle(t.particleMarks[0].worldPosition),this.playParticle(t.particleMarks[1].worldPosition),v.play("audio",C.COLOR_SMOKE);var i=this.airplaneCtrl.getComponent(w);i.rigidBody.isStatic=!0,i.unregisterDriver(!0);var e=this.finishPointNode.getChildByName("finish_arrow");e.active=!1,(e=this.finishPointNode.getChildByName("finish_hexagon")).active=!1,g.transNode({node:this.airplaneCtrl.node,rotation:u.fromEuler(new u,0,180,0),pos:this.airplaneEndPos,time:1,finishCb:this.startFly.bind(this)})},o.startFly=function(){var t=this,i=new f(this.airplaneCtrl.node);i.to(3,{position:new p(0,0,-60).add(this.airplaneEndPos)},{easing:"cubicIn"}).to(3.5,{position:new p(0,40,-275).add(this.airplaneEndPos)}).start(),this.flyEffect.play();var e=u.fromEuler(new u,0,0,0),n=u.fromEuler(new u,-10,0,0),r=new u,o=this.airplaneCtrl.node.getChildByName("body");(i=new f(o)).delay(3).to(.5,{},{onUpdate:function(t,i){u.slerp(r,e,n,i),o.rotation=r}}).start();var a=new p(0,0,1),l=new p(-1,0,0);this.cameraCtrl.stopLookAtTargetNode();var s=new p;(i=new f(this.cameraCtrl.node)).to(5.5,{},{onUpdate:function(i,e){var n=12+0*e,r=9+-5*e,o=0*e-5;p.lerp(s,a,l,e),s.normalize();var c=g.solveLookAtInfo(t.airplaneCtrl.node,s,n,r,o),d=c.pos,h=c.rotation;t.cameraCtrl.node.position=d,t.cameraCtrl.node.rotation=h}}).call((function(){t.cameraCtrl.startLookAtTargetNode(t.airplaneCtrl.node,null,12,4,l,-5)})).start(),this.scheduleOnce((function(){m.postNotice(P.CONTROL_WIDGET_HIDE,{index:y.LEVEL_INDEX}),t.missionFinish()}),4)},i}(b)).prototype,"arrowGreenPrefab",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=i(R.prototype,"finishPointNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=i(R.prototype,"slideEffect",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=i(R.prototype,"flyEffect",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=R))||F));o._RF.pop()}}}));

System.register("chunks:///_virtual/MissionCtrlAirplanePath.ts",["./rollupPluginModLoBabelHelpers.js","cc","./airplane_path_config.ts","./AudioCtrl.ts","./AudioHelper.ts","./AutoPathFindCtrl.ts","./CameraLookAtCtrl.ts","./Config.ts","./DriveableCollideCtrl.ts","./LocalData.ts","./NotificationCenter.ts","./Utils.ts","./AirplaneCtrl.ts","./AirplanePathCollideCtrl.ts","./AirplanePathObstNodeCtrl.ts","./FinishPointCtrl.ts","./MissionCtrlBase.ts"],(function(t){var e,i,n,r,o,a,s,l,p,c,h,d,u,f,C,O,_,P,R,E,v,N,F,S,b,A,m,L,T,I,y,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.createForOfIteratorHelperLoose},function(t){a=t.cclegacy,s=t._decorator,l=t.Prefab,p=t.Node,c=t.AudioSource,h=t.instantiate,d=t.find,u=t.Vec3,f=t.Quat,C=t.Collider},function(t){O=t.airplane_path_config},function(t){_=t.CLIP},function(t){P=t.AudioHelper},function(t){R=t.AutoPathFindCtrl},function(t){E=t.CameraLookAtCtrl},function(t){v=t.CONTROL_WIDGET_NAME,N=t.Config},function(t){F=t.DriveableCollideCtrl},function(t){S=t.LocalData},function(t){b=t.NotificationCenter,A=t.NCKeys},function(t){m=t.Utils},function(t){L=t.AirplaneCtrl},function(t){T=t.AirplanePathCollideCtrl},function(t){I=t.AirplanePathObstNodeCtrl},function(t){y=t.FinishPointCtrl},function(t){g=t.MissionCtrlBase}],execute:function(){var D,w,x,z,H,G,M,W,k,B,K;a._RF.push({},"0f2f6tpPm5HnKN71Rtpzr4q","MissionCtrlAirplanePath",void 0);var V=s.ccclass,U=s.property;t("MissionCtrlAirplanePath",(D=V("MissionCtrlAirplanePath"),w=U(l),x=U(p),z=U(l),H=U(c),D((W=e((M=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"arrowGreenPrefab",W,r(e)),n(e,"finishPointNode",k,r(e)),n(e,"obstPrefab",B,r(e)),n(e,"driverEffect",K,r(e)),e.moveSpeed=10,e.turnRadius=5,e}i(e,t);var a=e.prototype;return a.onDestroy=function(){b.removeObserver(A.CONTROL_FORCE_PRESS,this),b.removeObserver(A.CONTROL_FORCE_RELEASE,this),b.removeObserver(A.CONTROL_FORCE_FIRST_PRESS,this),this.cameraCtrl.stopLookAtTargetNode()},a.init=function(e){t.prototype.init.call(this,e)},a.start=function(){var t=this,e="prefab/3d/airplane/airplane"+S.curAirplaneIndex;m.loadResWithCorrection(e,l,(function(e,i){var n=h(i);n.parent=t.node,t.airplaneCtrl=n.getComponent(L),t.airplaneCtrl.setWeahter(t._levelIndex);var r=d("Main Camera");t.cameraCtrl=r.getComponent(E),t.cameraCtrl.startLookAtTargetNode(t.airplaneCtrl.node,null,20,15,new u(0,0,1),-1),t.createAirplanePath(),t.createObstPath(),b.postNotice(A.MAIN_PAGE_SHOW,null),b.postNotice(A.CONTROL_WIDGET_SHOW,{index:v.LEVEL_INDEX,levelIndex:t._levelIndex}),b.postNotice(A.CONTROL_WIDGET_SHOW,{index:v.FORCE_PRESS,tip:"驾驶飞机"}),b.addObserver(A.CONTROL_FORCE_PRESS,t.onForcePress,t),b.addObserver(A.CONTROL_FORCE_RELEASE,t.onForceRelease,t),b.addObserver(A.CONTROL_FORCE_FIRST_PRESS,t.onForcePressFirst,t),b.postNotice(A.MAP_LOADED_FINISH,null)}))},a.createAirplanePath=function(){for(var t=this.getConf().slide_path,e=t.length,i=0;i<e-1;i++){var n=u.subtract(new u,t[i+1],t[i]),r=n.length()/10;n.normalize();for(var o=t[i],a=new u(10*n.x,10*n.y,10*n.z),s=0;s<r;s++){var l=h(this.arrowGreenPrefab);m.rotationNodeFace(l,new u(0,0,1),n,!0);var p=new u(o.x+a.x*s,o.y+a.y*s,o.z+a.z*s);p.y+=.1,l.position=p,l.parent=this.node}}var c=t[e-2],d=t[e-1],O=u.subtract(new u,d,c);O.normalize(),this.finishPointNode.position=new u(d.x,d.y+.1,d.z),m.rotationNodeFace(this.finishPointNode,new u(0,0,-1),O,!0);for(var _=[],P=new u,E=new u(0,0,1),v=0;v<e;v++)if(t[v-1])if(t[v-1]&&!t[v+1])_.push({position:t[v],rotation:null,scale:null,speed:this.moveSpeed});else{u.subtract(P,t[v],t[v-1]),P.normalize(),P.multiplyScalar(this.turnRadius);var N=new u(t[v].x-P.x,t[v].y-P.y,t[v].z-P.z);_.push({position:N,rotation:null,scale:null,speed:this.moveSpeed}),u.subtract(P,t[v+1],t[v]),P.normalize();var S=f.rotationTo(new f,E,P);P.multiplyScalar(this.turnRadius);var b=new u(t[v].x+P.x,t[v].y+P.y,t[v].z+P.z);_.push({position:b,rotation:S,scale:null,speed:this.moveSpeed})}else{u.subtract(P,t[v+1],t[v]),P.normalize();var A=f.rotationTo(new f,E,P);_.push({position:t[v],rotation:A,scale:null,speed:this.moveSpeed})}this.airplanePathFind=this.airplaneCtrl.addComponent(R),this.airplanePathFind.init(_),this.airplaneCtrl.addComponent(F);var L=this.airplaneCtrl.addComponent(T);L.pathFindCtrl=this.airplanePathFind,L.collider=this.airplaneCtrl.getComponent(C),L.init()},a.createObstPath=function(){for(var t,e=this.getConf(),i=o(e.obst_path_index);!(t=i()).done;){var n=t.value,r=h(this.obstPrefab);r.getComponent(I).init(n),r.parent=this.node}},a.onForcePressFirst=function(){b.postNotice(A.CONTROL_WIDGET_SHOW,{index:v.AIRPLANE_PATH_PROGRESS,offsetY:180}),b.postNotice(A.CONTROL_WIDGET_SHOW,{index:v.HEARTS,offsetY:250})},a.onForcePress=function(){this.schedule(this.updateForAiplanePathFind),this.driverEffect.play()},a.onForceRelease=function(){this.unschedule(this.updateForAiplanePathFind),this.driverEffect.stop()},a.updateForAiplanePathFind=function(t){var e=this;this.airplanePathFind.updatePath(t);var i=this.airplanePathFind.totalProgress;if(b.postNotice(A.MISSION_PROGRESS_BAR,i),this.airplanePathFind.isFinished){this.driverEffect.stop(),this.unschedule(this.updateForAiplanePathFind),b.removeObserver(A.CONTROL_FORCE_PRESS,this),b.removeObserver(A.CONTROL_FORCE_RELEASE,this),b.removeObserver(A.CONTROL_FORCE_FIRST_PRESS,this),b.postNotice(A.CONTROL_WIDGET_HIDE,{index:v.FORCE_PRESS}),b.postNotice(A.CONTROL_WIDGET_HIDE,{index:v.AIRPLANE_PATH_PROGRESS}),b.postNotice(A.CONTROL_WIDGET_HIDE,{index:v.HEARTS});var n=this.finishPointNode.getComponent(y);this.playParticle(n.particleMarks[0].worldPosition),this.playParticle(n.particleMarks[1].worldPosition),P.play("audio",_.COLOR_SMOKE),this.scheduleOnce((function(){b.postNotice(A.CONTROL_WIDGET_HIDE,{index:v.LEVEL_INDEX}),e.missionFinish()}),1)}},a.getConf=function(){var t=Math.floor(this._levelIndex/N.different_play_style);return t%=O.length,O[t]},e}(g)).prototype,"arrowGreenPrefab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(M.prototype,"finishPointNode",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(M.prototype,"obstPrefab",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=e(M.prototype,"driverEffect",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=M))||G));a._RF.pop()}}}));

System.register("chunks:///_virtual/MissionCtrlAirplanePickUp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioCtrl.ts","./AudioHelper.ts","./Config.ts","./LocalData.ts","./NotificationCenter.ts","./Utils.ts","./PlatformManager.ts","./AirplaneCtrl.ts","./AirplanePickUpNodeCtrl.ts","./MissionCtrlBase.ts"],(function(t){var e,i,o,r,n,a,s,c,p,l,h,R,d,f,u,O,_,E,C,S,k,T,N,L,v,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){n=t.cclegacy,a=t._decorator,s=t.Vec3,c=t.Quat,p=t.AudioSource,l=t.find,h=t.Prefab,R=t.instantiate,d=t.Tween,f=t.MeshRenderer,u=t.Color},function(t){O=t.CLIP},function(t){_=t.AudioHelper},function(t){E=t.CONTROL_WIDGET_NAME},function(t){C=t.LocalData},function(t){S=t.NotificationCenter,k=t.NCKeys},function(t){T=t.Utils},function(t){N=t.PlatformManager},function(t){L=t.AirplaneCtrl},function(t){v=t.AirplanePickUpNodeCtrl},function(t){g=t.MissionCtrlBase}],execute:function(){var P,m,A,M,U,D,I,b,w;n._RF.push({},"6c0f5KBBXtLJIbv4rsVMQ4r","MissionCtrlAirplanePickUp",void 0);var y=a.ccclass,K=a.property,H=new s,F=new c;t("MissionCtrlAirplanePickUp",(P=y("MissionCtrlAirplanePickUp"),m=K(v),A=K(p),M=K(p),P((I=e((D=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,o(e,"pickUpCtrl",I,r(e)),o(e,"pickUpMachineEffect",b,r(e)),o(e,"airplaneSlideEffect",w,r(e)),e.airplaneStartPos=new s(26,0,120),e.cameraStartPos=new s(-7.57,12.021,128.055),e.cameraStartRotation=c.fromEuler(new c,-20.058,287.174,1.373),e.cameraEndPos=new s(3.163,7.778,147.699),e.cameraEndRotation=c.fromEuler(new c,-16.197,321.805,2.189),e._leftRockerSpeed=0,e._rightRockerSpeed=0,e}i(e,t);var n=e.prototype;return n.start=function(){var t=this;this.cameraNode=l("Main Camera");var e="prefab/3d/airplane/airplane"+C.curAirplaneIndex;T.loadResWithCorrection(e,h,(function(e,i){var o=R(i);o.parent=t.node,o.scale=new s(3,3,3),o.eulerAngles=new s(0,-90,0),t.airplaneCtrl=o.getComponent(L),t.airplaneCtrl.setWeahter(t._levelIndex),S.postNotice(k.MAP_LOADED_FINISH,t)}))},n.onDestroy=function(){this.unRegisterRockerEventListener()},n.missionStart=function(){var e=this;t.prototype.missionStart.call(this),this.cameraNode.position=this.cameraStartPos,this.cameraNode.rotation=this.cameraStartRotation,this.airplaneSlideEffect.play();var i=new s(this.airplaneStartPos);i.x+=20,this.airplaneCtrl.node.position=i,new d(this.airplaneCtrl.node).to(1,{position:this.airplaneStartPos},{easing:"sineOut"}).call((function(){e.airplaneSlideEffect.stop(),new d(e.cameraNode).to(.6,{},{onUpdate:function(t,i){s.lerp(H,e.cameraStartPos,e.cameraEndPos,i),c.slerp(F,e.cameraStartRotation,e.cameraEndRotation,i),e.cameraNode.position=H,e.cameraNode.rotation=F}}).call((function(){S.postNotice(k.MAIN_PAGE_SHOW,null),S.postNotice(k.CONTROL_WIDGET_SHOW,{index:E.LEVEL_INDEX,levelIndex:e._levelIndex}),e.registerRockerEventListener(),e.showAirplaneDoorMark()})).start(),S.postNotice(k.CONTROL_WIDGET_SHOW,{index:E.AIRPLANE_PICKUP})})).start()},n.registerRockerEventListener=function(){S.addObserver(k.CONTROL_LEFT_ROCKER_START,this.onLeftRockerStart,this),S.addObserver(k.CONTROL_LEFT_ROCKER_ROTATE,this.onLeftRockerRotate,this),S.addObserver(k.CONTROL_LEFT_ROCKER_STOP,this.onLeftRockerStop,this),S.addObserver(k.CONTROL_RIGHT_ROCKER_START,this.onRightRockerStart,this),S.addObserver(k.CONTROL_RIGHT_ROCKER_ROTATE,this.onRightRockerRotate,this),S.addObserver(k.CONTROL_RIGHT_ROCKER_STOP,this.onRightRockerStop,this),this.schedule(this.updateForPickUpNodePosAndRotation)},n.unRegisterRockerEventListener=function(){S.removeObserver(k.CONTROL_LEFT_ROCKER_START,this),S.removeObserver(k.CONTROL_LEFT_ROCKER_ROTATE,this),S.removeObserver(k.CONTROL_LEFT_ROCKER_STOP,this),S.removeObserver(k.CONTROL_RIGHT_ROCKER_START,this),S.removeObserver(k.CONTROL_RIGHT_ROCKER_ROTATE,this),S.removeObserver(k.CONTROL_RIGHT_ROCKER_STOP,this),this.unschedule(this.updateForPickUpNodePosAndRotation)},n.showAirplaneDoorMark=function(){l("door_mark",this.node).active=!0,this.airplaneDoorSight=l("door_sight",this.node),this.airplaneDoorSight.active=!0;var t=this.airplaneDoorSight.getComponent(f);this.airplaneDoorSightMat=t.material},n.onLeftRockerStart=function(){this.pickUpMachineEffect.play()},n.onLeftRockerRotate=function(t){this._leftRockerSpeed=t/8e3},n.onLeftRockerStop=function(){this._leftRockerSpeed=0,this.pickUpMachineEffect.stop()},n.onRightRockerStart=function(){this.pickUpMachineEffect.play()},n.onRightRockerRotate=function(t){this._rightRockerSpeed=t/-160},n.onRightRockerStop=function(){this._rightRockerSpeed=0,this.pickUpMachineEffect.stop(),this.airplaneDoorSightMat.getProperty("mainColor").equals(u.GREEN)&&S.postNotice(k.CONTROL_LEFT_ROCKER_FINGER_SHOW,null)},n.updateForPickUpNodePosAndRotation=function(){var t=this,e=this.pickUpCtrl.addProgress(this._leftRockerSpeed),i=this.pickUpCtrl.addRotationY(this._rightRockerSpeed),o=this.pickUpCtrl.node.rotation,r=s.transformQuat(new s,new s(0,0,-1),o),n=this.pickUpCtrl.node.position,a=(this.airplaneDoorSight.position.z-n.z)/r.z,c=n.x+a*r.x,p=this.airplaneDoorSight.position;(p.x=c,this.airplaneDoorSight.position=p,Math.abs(i-9.9)>1)?this.airplaneDoorSightMat.setProperty("mainColor",u.RED):(this.airplaneDoorSightMat.setProperty("mainColor",u.GREEN),e>=1&&(console.log("本关卡完成了"),this.pickUpMachineEffect.stop(),this.unRegisterRockerEventListener(),l("door_mark",this.node).active=!1,this.airplaneDoorSight.active=!1,N.getInstance().vibrateShort("light"),T.shakeNode(this.cameraNode,.1,(function(){t.pickUpCtrl.tailPickUp(),t.pickUpMachineEffect.play(),t.pickUpCtrl.peopleMove(2.5),t.scheduleOnce((function(){t.pickUpMachineEffect.stop()}),2.5),t.scheduleOnce((function(){var e=R(t.particlePrefab);e.position=new s(16,1,128),e.parent=t.node,(e=R(t.particlePrefab)).position=new s(26,1,124),e.parent=t.node,_.play("audio",O.COLOR_SMOKE)}),3.5),t.scheduleOnce((function(){S.postNotice(k.CONTROL_WIDGET_HIDE,{index:E.AIRPLANE_PICKUP}),S.postNotice(k.CONTROL_WIDGET_HIDE,{index:E.LEVEL_INDEX}),t.missionFinish()}),5)}))))},e}(g)).prototype,"pickUpCtrl",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=e(D.prototype,"pickUpMachineEffect",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(D.prototype,"airplaneSlideEffect",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=D))||U));n._RF.pop()}}}));

System.register("chunks:///_virtual/MissionCtrlAirplaneTrail.ts",["./rollupPluginModLoBabelHelpers.js","cc","./trail_config.ts","./weather_config.ts","./AudioCtrl.ts","./AudioHelper.ts","./AutoPathFindCtrl.ts","./CameraLookAtCtrl.ts","./Config.ts","./DriveableCollideCtrl.ts","./DriveableCtrl.ts","./LocalData.ts","./NotificationCenter.ts","./Utils.ts","./PlatformManager.ts","./AirplaneCtrl.ts","./FinishPointCtrl.ts","./MissionCtrlBase.ts"],(function(t){var e,i,r,a,n,o,l,s,c,d,p,C,h,u,f,O,v,N,E,_,g,P,b,m,R,A,T,L,y,w,F,S,D;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,a=t.assertThisInitialized,n=t.createForOfIteratorHelperLoose},function(t){o=t.cclegacy,l=t._decorator,s=t.Node,c=t.AnimationClip,d=t.Prefab,p=t.AudioSource,C=t.Vec3,h=t.Quat,u=t.instantiate,f=t.find},function(t){O=t.trail_config},function(t){v=t.weather_config},function(t){N=t.CLIP},function(t){E=t.AudioHelper},function(t){_=t.AutoPathFindCtrl},function(t){g=t.CameraLookAtCtrl},function(t){P=t.Config,b=t.CONTROL_WIDGET_NAME},function(t){m=t.DriveableCollideCtrl},function(t){R=t.DriveableCtrl},function(t){A=t.LocalData},function(t){T=t.NotificationCenter,L=t.NCKeys},function(t){y=t.Utils},function(t){w=t.PlatformManager},function(t){F=t.AirplaneCtrl},function(t){S=t.FinishPointCtrl},function(t){D=t.MissionCtrlBase}],execute:function(){var I,x,z,H,M,W,k,G,B,V,j,K,U,X,Z,Q,q;o._RF.push({},"34e19EOj71LNZi7+ot4b5Zg","MissionCtrlAirplaneTrail",void 0);var J=l.ccclass,Y=l.property;t("MissionCtrlAirplaneTrail",(I=J("MissionCtrlAirplaneTrail"),x=Y(s),z=Y(_),H=Y(c),M=Y(d),W=Y(s),k=Y(d),G=Y(p),I((j=e((V=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).trailCarStartPos=new C(0,0,8),e.trailCarEndPos=new C(0,0,5.24),e.cameraStartPos=new C(-1.634,2.384,12.321),e.cameraStartRotation=h.fromEuler(new h,-19.291,-8.784,-.823),r(e,"trailCarNode",j,a(e)),r(e,"trailCarPathFindCtrl",K,a(e)),r(e,"airplaneLandImpact",U,a(e)),r(e,"arrowGreenPrefab",X,a(e)),r(e,"finishPointNode",Z,a(e)),r(e,"airplaneObstPrefab",Q,a(e)),r(e,"driverEffect",q,a(e)),e}i(e,t);var o=e.prototype;return o.init=function(e){t.prototype.init.call(this,e)},o.getConf=function(){var t=Math.floor(this._levelIndex/P.different_play_style);return t%=O.length,O[t]},o.onDestroy=function(){T.removeObserver(L.CONTROL_FORCE_PRESS,this),T.removeObserver(L.CONTROL_FORCE_RELEASE,this),this.cameraCtrl.stopLookAtTargetNode()},o.start=function(){var t=this,e="prefab/3d/airplane/airplane"+A.curAirplaneIndex;y.loadResWithCorrection(e,d,(function(e,i){var r=u(i);r.parent=t.node,r.scale=new C(1.5,1.5,1.5),t.airplaneCtrl=r.getComponent(F),t.airplaneCtrl.rigidBody.isStatic=!0;var a=t.getConf(),n=a.slide_path[0],o=a.slide_path[1],l=C.subtract(new C,o,n);l.normalize(),y.rotationNodeFace(t.airplaneCtrl.node,new C(0,0,1),l,!0),t.airplaneCtrl.node.position=n,t.trailCarNode.parent=t.airplaneCtrl.node,t.trailCarNode.position=t.trailCarStartPos;var s=t._levelIndex%v.length;"night"==v[s]&&(t.trailCarNode.getChildByName("light").active=!0);var c=f("Main Camera");t.cameraCtrl=c.getComponent(g);var d=f("mark",t.trailCarNode);t.cameraCtrl.startLookAtTargetNode(d,null,10,4,new C(.5,0,-.866),0),t.createAirplaneObst();var p=[{position:t.trailCarStartPos,rotation:null,scale:null,speed:1},{position:t.trailCarEndPos,rotation:null,scale:null,speed:1}];t.trailCarPathFindCtrl.init(p),T.postNotice(L.MAIN_PAGE_SHOW,null),T.postNotice(L.CONTROL_WIDGET_SHOW,{index:b.LEVEL_INDEX,levelIndex:t._levelIndex}),T.postNotice(L.CONTROL_WIDGET_SHOW,{index:b.FORCE_PRESS,tip:"移动拖车"}),T.addObserver(L.CONTROL_FORCE_PRESS,t.onForcePress,t),T.addObserver(L.CONTROL_FORCE_RELEASE,t.onForceRelease,t),T.postNotice(L.MAP_LOADED_FINISH,t)}))},o.createAirplaneObst=function(){for(var t,e=this.getConf(),i=[new C(0,180,0),new C(0,0,0),new C(0,-90,0),new C(0,90,0)],r=n(e.obst);!(t=r()).done;){var a=t.value,o=u(this.airplaneObstPrefab);o.position=new C(a.x,a.y,a.z),o.eulerAngles=i[a.w],o.parent=this.node}},o.onForcePress=function(){this.schedule(this.updateForTrailCarPos),this.driverEffect.play()},o.onForceRelease=function(){this.unschedule(this.updateForTrailCarPos),this.driverEffect.stop()},o.updateForTrailCarPos=function(t){if(this.trailCarPathFindCtrl.updatePath(t),this.trailCarPathFindCtrl.isFinished){this.unschedule(this.updateForTrailCarPos),T.postNotice(L.CONTROL_WIDGET_HIDE,{index:b.FORCE_PRESS,tip:"移动拖车"}),T.removeObserver(L.CONTROL_FORCE_PRESS,this),T.removeObserver(L.CONTROL_FORCE_RELEASE,this),this.driverEffect.stop(),this.cameraCtrl.shake(),E.play("audio",N.CRASH),w.getInstance().vibrateShort("medium");var e=y.solveLookAtInfo(this.airplaneCtrl.node,new C(0,0,1),18,9,-5),i=e.pos,r=e.rotation;this.cameraCtrl.stopLookAtTargetNode(),y.transNode({delay:.5,node:this.cameraCtrl.node,pos:i,rotation:r,time:1,finishCb:this.startDriver.bind(this)})}},o.startDriver=function(){var t=this;this.createSlidePath(),T.postNotice(L.CONTROL_WIDGET_SHOW,{index:b.HEARTS}),T.postNotice(L.CONTROL_WIDGET_SHOW,{index:b.CAR_DRIVE}),this.airplaneCtrl.addComponent(m);var e=this.airplaneCtrl.addComponent(R);e.rigidBody=this.airplaneCtrl.rigidBody,e.rigidBody.isDynamic=!0,e.lookAtSensitivity=.0015,e.registerDriver(),e.effect=this.driverEffect,this.scheduleOnce((function(){T.postNotice(L.NAVIGATION_ARROW_TARGET,t.finishPointNode)}),.5),this.cameraCtrl.startLookAtTargetNode(this.airplaneCtrl.node,e,18,9,new C(0,0,1),-5)},o.createSlidePath=function(){for(var t=this.getConf().slide_path,e=t.length,i=0;i<e-1;i++){var r=C.subtract(new C,t[i+1],t[i]),a=r.length()/10;r.normalize();for(var n=t[i],o=new C(10*r.x,10*r.y,10*r.z),l=0;l<a;l++){var s=u(this.arrowGreenPrefab);y.rotationNodeFace(s,new C(0,0,1),r,!0);var c=new C(n.x+o.x*l,n.y+o.y*l,n.z+o.z*l);c.y+=.1,s.position=c,s.parent=this.node}}var d=t[e-2],p=t[e-1],h=C.subtract(new C,p,d);h.normalize(),this.finishPointNode.position=new C(p.x,p.y+.1,p.z),y.rotationNodeFace(this.finishPointNode,new C(0,0,-1),h,!0),this.finishPointNode.getComponent(S).setDelegate(this.onFinishPointTriggered,this)},o.onFinishPointTriggered=function(t){var e=this;console.log("游戏完成了"),T.postNotice(L.CONTROL_WIDGET_HIDE,{index:b.HEARTS}),T.postNotice(L.CONTROL_WIDGET_HIDE,{index:b.CAR_DRIVE}),E.play("audio",N.COLOR_SMOKE),this.playParticle(t.particleMarks[0].worldPosition),this.playParticle(t.particleMarks[1].worldPosition);var i=this.airplaneCtrl.getComponent(R);i.unregisterDriver(!0),i.rigidBody.isStatic=!0;var r=y.solveLookAtInfo(this.trailCarNode,new C(1,0,0),6,3,0),a=r.pos,n=r.rotation;this.cameraCtrl.stopLookAtTargetNode(),y.transNode({delay:.5,node:this.cameraCtrl.node,pos:a,rotation:n,time:1}),this.scheduleOnce((function(){T.postNotice(L.CONTROL_WIDGET_HIDE,{index:b.LEVEL_INDEX}),e.missionFinish()}),2.5)},e}(D)).prototype,"trailCarNode",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=e(V.prototype,"trailCarPathFindCtrl",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(V.prototype,"airplaneLandImpact",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=e(V.prototype,"arrowGreenPrefab",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=e(V.prototype,"finishPointNode",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=e(V.prototype,"airplaneObstPrefab",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=e(V.prototype,"driverEffect",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=V))||B));o._RF.pop()}}}));

System.register("chunks:///_virtual/MissionCtrlAirplaneWheel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioCtrl.ts","./AudioHelper.ts","./AutoPathFindCtrl.ts","./CameraLookAtCtrl.ts","./Config.ts","./LocalData.ts","./NotificationCenter.ts","./Utils.ts","./AirplaneCtrl.ts","./AirplaneWheelCtrl.ts","./MissionCtrlBase.ts"],(function(t){var e,i,n,r,a,o,s,l,h,c,d,p,u,f,C,w,E,N,_,O,I,P,v,D,m,L,R;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,s=t.Prefab,l=t.Node,h=t.AudioSource,c=t.Vec3,d=t.Quat,p=t.instantiate,u=t.find,f=t.Tween,C=t.Animation},function(t){w=t.CLIP},function(t){E=t.AudioHelper},function(t){N=t.AutoPathFindCtrl},function(t){_=t.CameraLookAtCtrl},function(t){O=t.CONTROL_WIDGET_NAME},function(t){I=t.LocalData},function(t){P=t.NotificationCenter,v=t.NCKeys},function(t){D=t.Utils},function(t){m=t.AirplaneCtrl},function(t){L=t.AirplaneWheelCtrl},function(t){R=t.MissionCtrlBase}],execute:function(){var F,A,b,x,y,S,T,g,W,M,U,H,z,G,X,k,Z,J,V,B,K,j,q,Q,Y;a._RF.push({},"8923aKsAoVDL7la61qxo16d","MissionCtrlAirplaneWheel",void 0);var $=o.ccclass,tt=o.property,et=function(t){return t[t.NONE=0]="NONE",t[t.PILLAR_UP=1]="PILLAR_UP",t[t.AXLE_OUT=2]="AXLE_OUT",t[t.AXLE_IN=3]="AXLE_IN",t[t.PILLAR_DOWN=4]="PILLAR_DOWN",t}(et||{});t("MissionCtrlAirplaneWheel",(F=$("MissionCtrlAirplaneWheel"),A=tt(s),b=tt(N),x=tt(l),y=tt(l),S=tt(N),T=tt(N),g=tt(l),W=tt(h),M=tt(h),U=tt(h),H=tt(h),F((X=e((G=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,n(e,"wheelPrefab",X,r(e)),n(e,"pillarPathFindCtrl",k,r(e)),n(e,"axleNode",Z,r(e)),n(e,"screwdDriverNode",J,r(e)),n(e,"axlePathFindCtrl",V,r(e)),n(e,"screwdDriverPathFindCtrl",B,r(e)),n(e,"shaftNode",K,r(e)),e.shaftZ=0,n(e,"liftingJackEffect",j,r(e)),n(e,"wheelDownEffect",q,r(e)),n(e,"wheelUpEffect",Q,r(e)),n(e,"screwdDriverEffect",Y,r(e)),e.cameraInfo={init:{pos:new c(55.851,.56,19.854),rotation:d.fromEuler(new d,-17.01,57.233,1.049)},start:{pos:new c(56.213,.281,18.842),rotation:d.fromEuler(new d,0,90,0)},end:{pos:new c(61.092,3.53,24.641),rotation:d.fromEuler(new d,-18.096,23.469,0)}},e.airplaneInfo={start:new c(55,0,15),end:new c(55,.207,15)},e.pillarInfo={start:new c(0,.52,-.028),end:new c(0,1.34,-.028)},e.axleInfo={start:new c(55.02,.414,19.427),end:new c(55.286,.414,19.427)},e.screwdDriverInfo={start:new c(55.37,.361,19.425),end:new c(55.636,.361,19.425)},e._state=et.NONE,e}i(e,t);var a=e.prototype;return a.start=function(){var t=this,e="prefab/3d/airplane/airplane"+I.curAirplaneIndex;D.loadResWithCorrection(e,s,(function(e,i){var n=p(i);n.parent=t.node,t.airplaneCtrl=n.getComponent(m),P.postNotice(v.MAP_LOADED_FINISH,t)}))},a.onDestroy=function(){P.removeObserver(v.CONTROL_FORCE_PRESS,this),P.removeObserver(v.CONTROL_FORCE_RELEASE,this)},a.missionStart=function(){this.airplanePathFindCtrl=this.airplaneCtrl.addComponent(N),this.airplaneCtrl.node.position=this.airplaneInfo.start;var t=p(this.wheelPrefab);t.parent=this.airplaneCtrl.node,u("body/front_wheel",this.airplaneCtrl.node).active=!1,this.wheelCtrl=t.getComponent(L);var e=u("Main Camera");this.cameraCtrl=e.getComponent(_),this.cameraCtrl.node.position=this.cameraInfo.init.pos,this.cameraCtrl.node.rotation=this.cameraInfo.init.rotation,D.transNode({node:this.cameraCtrl.node,pos:this.cameraInfo.start.pos,rotation:this.cameraInfo.start.rotation,time:1,delay:.5,finishCb:this.startPillarUp.bind(this)})},a.startPillarUp=function(){P.postNotice(v.MAIN_PAGE_SHOW,null),P.postNotice(v.CONTROL_WIDGET_SHOW,{index:O.FORCE_PRESS,tip:"抬升飞机"}),P.postNotice(v.CONTROL_WIDGET_SHOW,{index:O.LEVEL_INDEX,levelIndex:this._levelIndex}),P.addObserver(v.CONTROL_FORCE_PRESS,this.onForcePress,this),P.addObserver(v.CONTROL_FORCE_RELEASE,this.onForceRelease,this),this.pillarPathFindCtrl.init([{position:this.pillarInfo.start,rotation:null,scale:null,time:2},{position:this.pillarInfo.end,rotation:null,scale:null,time:5}]),this.airplanePathFindCtrl.init([{position:this.airplaneInfo.start,rotation:null,scale:null,time:2},{position:null,rotation:null,scale:null,time:1.3},{position:this.airplaneInfo.end,rotation:null,scale:null,time:3.7}]),this._state=et.PILLAR_UP},a.startAxleOut=function(){var t=this;this.axleNode.active=!0,this.axleNode.position=this.axleInfo.start,P.postNotice(v.CONTROL_WIDGET_HIDE,{index:O.FORCE_PRESS}),D.transNode({node:this.cameraCtrl.node,pos:this.cameraInfo.init.pos,rotation:this.cameraInfo.init.rotation,time:1,finishCb:function(){t.screwdDriverNode.active=!0;var e=new c(t.screwdDriverInfo.start);e.x+=1,t.screwdDriverNode.position=e,new f(t.screwdDriverNode).to(1,{position:t.screwdDriverInfo.start}).call((function(){P.postNotice(v.CONTROL_WIDGET_SHOW,{index:O.FORCE_PRESS,tip:"更换轮胎"}),t.axlePathFindCtrl.init([{position:t.axleInfo.start,rotation:null,scale:null,time:2},{position:t.axleInfo.end,rotation:null,scale:null,time:2}]),t.screwdDriverPathFindCtrl.init([{position:t.screwdDriverInfo.start,rotation:null,scale:null,time:2},{position:t.screwdDriverInfo.end,rotation:null,scale:null,time:2}]),t._state=et.AXLE_OUT})).start()}})},a.startAxleIn=function(){var t=this;P.postNotice(v.CONTROL_WIDGET_HIDE,{index:O.FORCE_PRESS,tip:"更换轮胎"});var e=new c(this.axleInfo.end);e.x+=1,e.y-=1;var i=new f(this.axleNode);i.to(1,{position:e}).start();var n=new c(this.screwdDriverInfo.end);n.x+=1,n.y-=1,(i=new f(this.screwdDriverNode)).to(1,{position:n}).start(),this.screwdDriverNode.getComponent(C).stop(),this.screwdDriverNode.eulerAngles=c.ZERO,this.wheelCtrl.playWheelRenewal((function(){var e=new f(t.axleNode);e.to(1,{position:t.axleInfo.end}).start(),(e=new f(t.screwdDriverNode)).delay(.3).to(1,{position:t.screwdDriverInfo.end}).call((function(){t.axlePathFindCtrl.init([{position:t.axleInfo.end,rotation:null,scale:null,time:2},{position:t.axleInfo.start,rotation:null,scale:null,time:2}]),t.screwdDriverPathFindCtrl.init([{position:t.screwdDriverInfo.end,rotation:null,scale:null,time:2},{position:t.screwdDriverInfo.start,rotation:null,scale:null,time:2}]),P.postNotice(v.CONTROL_WIDGET_SHOW,{index:O.FORCE_PRESS}),t._state=et.AXLE_IN})).start()}),this.wheelDownEffect,this.wheelUpEffect)},a.startPillarDown=function(){var t=this;P.postNotice(v.CONTROL_WIDGET_HIDE,{index:O.FORCE_PRESS}),new f(this.screwdDriverNode).by(1,{position:new c(1,0,0)}).start(),D.transNode({node:this.cameraCtrl.node,pos:this.cameraInfo.start.pos,rotation:this.cameraInfo.start.rotation,time:1,delay:.5,finishCb:function(){t.axleNode.active=!1,t.screwdDriverNode.active=!1,t.pillarPathFindCtrl.init([{position:t.pillarInfo.end,rotation:null,scale:null,time:5},{position:t.pillarInfo.start,rotation:null,scale:null,time:5}]),t.airplanePathFindCtrl.init([{position:t.airplaneInfo.end,rotation:null,scale:null,time:5},{position:t.airplaneInfo.start,rotation:null,scale:null,time:3.7},{position:null,rotation:null,scale:null,time:1.3}]),P.postNotice(v.CONTROL_WIDGET_SHOW,{index:O.FORCE_PRESS,tip:"降下飞机"}),t._state=et.PILLAR_DOWN}})},a.onForcePress=function(){(this.schedule(this.updateForMission),this.screwdDriverNode.active)&&this.screwdDriverNode.getComponent(C).play();this._state==et.PILLAR_UP||this._state==et.PILLAR_DOWN?this.liftingJackEffect.play():this.screwdDriverEffect.play()},a.onForceRelease=function(){(this.unschedule(this.updateForMission),this.screwdDriverNode.active)&&(this.screwdDriverNode.getComponent(C).stop(),this.screwdDriverNode.eulerAngles=c.ZERO);this._state==et.PILLAR_UP||this._state==et.PILLAR_DOWN?this.liftingJackEffect.stop():this.screwdDriverEffect.stop()},a.updateForMission=function(t){this._state==et.PILLAR_UP?(this.shaftZ+=300*t,this.shaftNode.eulerAngles=new c(0,0,this.shaftZ),this.pillarPathFindCtrl.updatePath(t),this.airplanePathFindCtrl.updatePath(t),this.pillarPathFindCtrl.isFinished&&(this._state=et.NONE,this.unschedule(this.updateForMission),this.startAxleOut(),this.liftingJackEffect.stop())):this._state==et.AXLE_OUT?(this.axlePathFindCtrl.updatePath(t),this.screwdDriverPathFindCtrl.updatePath(t),this.axlePathFindCtrl.isFinished&&(this._state=et.NONE,this.unschedule(this.updateForMission),this.startAxleIn(),this.screwdDriverEffect.stop())):this._state==et.AXLE_IN?(this.axlePathFindCtrl.updatePath(t),this.screwdDriverPathFindCtrl.updatePath(t),this.axlePathFindCtrl.isFinished&&(this._state=et.NONE,this.unschedule(this.updateForMission),this.startPillarDown(),this.screwdDriverEffect.stop())):this._state==et.PILLAR_DOWN&&(this.shaftZ-=300*t,this.shaftNode.eulerAngles=new c(0,0,this.shaftZ),this.pillarPathFindCtrl.updatePath(t),this.airplanePathFindCtrl.updatePath(t),this.pillarPathFindCtrl.isFinished&&(this._state=et.NONE,this.unschedule(this.updateForMission),this.liftingJackEffect.stop(),this.over()))},a.over=function(){var t=this;P.removeObserver(v.CONTROL_FORCE_PRESS,this),P.removeObserver(v.CONTROL_FORCE_RELEASE,this),P.postNotice(v.CONTROL_WIDGET_HIDE,{index:O.FORCE_PRESS}),D.transNode({node:this.cameraCtrl.node,pos:this.cameraInfo.end.pos,rotation:this.cameraInfo.end.rotation,time:1,finishCb:function(){var e=new c(.5,.5,.5);t.playParticle(new c(58,0,18),e),t.playParticle(new c(52,0,18),e),E.play("audio",w.COLOR_SMOKE)}}),new f(this.airplaneCtrl.node).by(3,{position:new c(0,0,5)}).start(),this.scheduleOnce((function(){P.postNotice(v.CONTROL_WIDGET_HIDE,{index:O.LEVEL_INDEX}),t.missionFinish()}),1.5)},e}(R)).prototype,"wheelPrefab",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(G.prototype,"pillarPathFindCtrl",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=e(G.prototype,"axleNode",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=e(G.prototype,"screwdDriverNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(G.prototype,"axlePathFindCtrl",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(G.prototype,"screwdDriverPathFindCtrl",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=e(G.prototype,"shaftNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(G.prototype,"liftingJackEffect",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=e(G.prototype,"wheelDownEffect",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=e(G.prototype,"wheelUpEffect",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=e(G.prototype,"screwdDriverEffect",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=G))||z));a._RF.pop()}}}));

System.register("chunks:///_virtual/MissionCtrlBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./weather_config.ts","./NotificationCenter.ts","./LocalData.ts","./PlatformManager.ts","./RemoteConfig.ts"],(function(e){var t,n,i,o,r,a,l,s,c,f,u,p,v,d,g,h,I,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.createForOfIteratorHelperLoose},function(e){a=e.cclegacy,l=e._decorator,s=e.Prefab,c=e.Node,f=e.Vec3,u=e.instantiate,p=e.Component},function(e){v=e.weather_config},function(e){d=e.NotificationCenter,g=e.NCKeys},function(e){h=e.LocalData},function(e){I=e.PlatformManager},function(e){y=e.RemoteConfig}],execute:function(){var _,N,b,m,C,P,x;a._RF.push({},"1db3aG22N1DvIOSVCzI1Zix","MissionCtrlBase",void 0);var D=l.ccclass,M=l.property;e("MissionCtrlBase",(_=D("MissionCtrlBase"),N=M(s),b=M([c]),_((P=t((C=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"particlePrefab",P,o(t)),i(t,"lightNodes",x,o(t)),t._levelIndex=0,t}n(t,e);var a=t.prototype;return a.init=function(e){this._levelIndex=e;var t=this._levelIndex%v.length;if("night"==v[t])for(var n,i=r(this.lightNodes);!(n=i()).done;){n.value.active=!0}},a.missionStart=function(){console.log("开始任务了")},a.playParticle=function(e,t){void 0===t&&(t=f.ONE);var n=u(this.particlePrefab);n.scale=t,n.position=e,n.parent=this.node},a.onDestroy=function(){console.warn("检测到你没有在onDestroy里取消所有的监听事件哦，很危险呢")},a.missionFinish=function(){h.levelIndex++,I.getInstance().trackEvent("level_complete",{level:h.levelIndex.toString()}),h._tryOutAirplaneIndex=-1,h.levelIndex%y.p4==0?d.postNotice(g.FLY_PAGE_SHOW,null):d.postNotice(g.MISSION_FINISH,null)},t}(p)).prototype,"particlePrefab",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(C.prototype,"lightNodes",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=C))||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/MissionCtrlBusPassengers.ts",["./rollupPluginModLoBabelHelpers.js","cc","./bus_config.ts","./AudioCtrl.ts","./AudioHelper.ts","./CameraLookAtCtrl.ts","./Config.ts","./DriveableCollideCtrl.ts","./DriveableCtrl.ts","./LocalData.ts","./NotificationCenter.ts","./Utils.ts","./AirplaneCtrl.ts","./BusNodeCtrl.ts","./FinishPointCtrl.ts","./MissionCtrlBase.ts"],(function(t){var e,i,o,s,n,r,a,l,c,u,h,C,d,p,f,O,_,E,b,R,N,P,v,g,I,L,T,m,F,D,S,A;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,s=t.assertThisInitialized,n=t.createForOfIteratorHelperLoose},function(t){r=t.cclegacy,a=t._decorator,l=t.Node,c=t.Prefab,u=t.AudioSource,h=t.Vec3,C=t.Quat,d=t.instantiate,p=t.find,f=t.RigidBody,O=t.Tween},function(t){_=t.bus_config},function(t){E=t.CLIP},function(t){b=t.AudioHelper},function(t){R=t.CameraLookAtCtrl},function(t){N=t.Config,P=t.CONTROL_WIDGET_NAME},function(t){v=t.DriveableCollideCtrl},function(t){g=t.DriveableCtrl},function(t){I=t.LocalData},function(t){L=t.NotificationCenter,T=t.NCKeys},function(t){m=t.Utils},function(t){F=t.AirplaneCtrl},function(t){D=t.BusNodeCtrl},function(t){S=t.FinishPointCtrl},function(t){A=t.MissionCtrlBase}],execute:function(){var w,y,x,W,G,H,k,B,M,z,V;r._RF.push({},"6e3672839VEzLfeB8+mZZug","MissionCtrlBusPassengers",void 0);var K=a.ccclass,U=a.property;t("MissionCtrlBusPassengers",(w=K("MissionCtrlBusPassengers"),y=U(D),x=U(l),W=U(c),G=U(u),w((B=e((k=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t.call.apply(t,[this].concat(n))||this,o(e,"busCtrl",B,s(e)),o(e,"finishPointNode",M,s(e)),o(e,"arrowGreenPrefab",z,s(e)),o(e,"walkEffect",V,s(e)),e.cameraInitPos=new h(-17.784,5.484,8.173),e.cameraInitRotation=C.fromEuler(new C,-19.67,-78.577,-1.647),e}i(e,t);var r=e.prototype;return r.start=function(){var t=this,e="prefab/3d/airplane/airplane"+I.curAirplaneIndex;m.loadResWithCorrection(e,c,(function(e,i){var o=d(i);t.airplaneCtrl=o.getComponent(F),t.airplaneCtrl.rigidBody.isStatic=!0,o.parent=t.finishPointNode,o.position=new h(11.45,-.1,-9.498),o.scale=new h(3,3,3),L.postNotice(T.MAP_LOADED_FINISH,t)}))},r.onDestroy=function(){L.removeObserver(T.CONTROL_FORCE_PRESS,this),L.removeObserver(T.CONTROL_FORCE_RELEASE,this),L.removeObserver(T.CONTROL_FORCE_FIRST_PRESS,this),this.cameraCtrl.stopLookAtTargetNode()},r.getConf=function(){var t=Math.floor(this._levelIndex/N.different_play_style);return t%=_.length,_[t]},r.init=function(e){t.prototype.init.call(this,e)},r.missionStart=function(){var t,e=this,i=this.getConf(),o=i.slide_path[0];this.busCtrl.node.position=o,this.busCtrl.setWeahter(this._levelIndex);var s=p("station",this.node),r=s.position;r.add(o),s.position=r;for(var a,l=p("passengers",this.node),c=n(l.children);!(a=c()).done;){var C=a.value;(r=C.position).add(o),C.position=r}var d=p("Main Camera");this.cameraInitPos.add(o),d.position=this.cameraInitPos,d.rotation=this.cameraInitRotation,this.cameraCtrl=d.getComponent(R),this.busCtrl.setPassengerIdle(),this.busCtrl.initPassengersPath(),null==(t=this.busCtrl.getComponent(u))||t.play(),this.busCtrl.getComponent(f).isStatic=!0;var _=i.slide_path[0],E=new h(_);E.x-=20,this.busCtrl.node.position=E,new O(this.busCtrl.node).to(1,{position:_},{easing:"cubicOut"}).call((function(){e.busCtrl.openDoor((function(){var t;e.startForcePress(),null==(t=e.busCtrl.getComponent(u))||t.stop()}))})).start()},r.startForcePress=function(){console.log("开始用力按压"),L.postNotice(T.MAIN_PAGE_SHOW,null),L.postNotice(T.CONTROL_WIDGET_SHOW,{index:P.FORCE_PRESS,tip:"接送乘客"}),L.postNotice(T.CONTROL_WIDGET_SHOW,{index:P.LEVEL_INDEX,levelIndex:this._levelIndex}),L.addObserver(T.CONTROL_FORCE_FIRST_PRESS,this.onForceFirstPress,this),L.addObserver(T.CONTROL_FORCE_PRESS,this.onForcePress,this),L.addObserver(T.CONTROL_FORCE_RELEASE,this.onForceRelease,this)},r.onForceFirstPress=function(){L.postNotice(T.CONTROL_WIDGET_SHOW,{index:P.LABEL,string:"0/15"})},r.onForcePress=function(){this.busCtrl.setPassengersWalk(),this.schedule(this.updateForPassengersPathFind),this.walkEffect.play()},r.onForceRelease=function(){this.busCtrl.setPassengerIdle(),this.unschedule(this.updateForPassengersPathFind),this.walkEffect.stop()},r.updateForPassengersPathFind=function(t){var e=this,i=this.busCtrl.upgradePassengersPath(t);L.postNotice(T.MISSION_LABEL_STRING,i+"/15"),i>=15&&(this.unschedule(this.updateForPassengersPathFind),this.walkEffect.stop(),L.postNotice(T.CONTROL_WIDGET_HIDE,{index:P.FORCE_PRESS,tip:"接送乘客"}),L.postNotice(T.CONTROL_WIDGET_HIDE,{index:P.LABEL,levelIndex:this._levelIndex}),L.removeObserver(T.CONTROL_FORCE_FIRST_PRESS,this),L.removeObserver(T.CONTROL_FORCE_PRESS,this),L.removeObserver(T.CONTROL_FORCE_RELEASE,this),this.busCtrl.closeDoor((function(){var t=m.solveLookAtInfo(e.busCtrl.node,new h(0,0,1),20,12,-5),i=t.pos,o=t.rotation;m.transNode({node:e.cameraCtrl.node,pos:i,rotation:o,time:.5,finishCb:e.startDriver.bind(e)})})))},r.startDriver=function(){var t=this;this.createPath(),this.busCtrl.getComponent(f).isDynamic=!0,this.busCtrl.addComponent(v);var e=this.busCtrl.getComponent(g);e.registerDriver(),this.cameraCtrl.startLookAtTargetNode(this.busCtrl.node,e,20,12,new h(0,0,1),-5),L.postNotice(T.CONTROL_WIDGET_SHOW,{index:P.HEARTS}),L.postNotice(T.CONTROL_WIDGET_SHOW,{index:P.CAR_DRIVE}),this.scheduleOnce((function(){L.postNotice(T.NAVIGATION_ARROW_TARGET,t.finishPointNode)}),.5)},r.createPath=function(){for(var t=this.getConf().slide_path,e=t.length,i=0;i<e-1;i++){var o=h.subtract(new h,t[i+1],t[i]),s=o.length()/10;o.normalize();for(var n=t[i],r=new h(10*o.x,10*o.y,10*o.z),a=0;a<s;a++){var l=d(this.arrowGreenPrefab);m.rotationNodeFace(l,new h(0,0,1),o,!0);var c=new h(n.x+r.x*a,n.y+r.y*a,n.z+r.z*a);c.y+=.1,l.position=c,l.parent=this.node}}var u=t[e-2],C=t[e-1],p=h.subtract(new h,C,u);p.normalize(),this.finishPointNode.position=new h(C.x,C.y+.1,C.z),m.rotationNodeFace(this.finishPointNode,new h(0,0,-1),p,!0),this.finishPointNode.getComponent(S).setDelegate(this.onFinishPointTriggered,this)},r.onFinishPointTriggered=function(t){var e=this;console.log("车子停止的位置搞定了"),this.playParticle(t.particleMarks[0].worldPosition),this.playParticle(t.particleMarks[1].worldPosition),b.play("audio",E.COLOR_SMOKE);var i=this.busCtrl.getComponent(g);i.unregisterDriver(!0),i.rigidBody.isStatic=!0,L.postNotice(T.CONTROL_WIDGET_HIDE,{index:P.CAR_DRIVE}),L.postNotice(T.CONTROL_WIDGET_HIDE,{index:P.HEARTS}),this.cameraCtrl.stopLookAtTargetNode();var o=m.solveLookAtInfo(this.busCtrl.node,new h(.258,0,.965),15,7,-1),s=o.pos,n=o.rotation;m.transNode({node:this.cameraCtrl.node,pos:s,rotation:n,time:.5,finishCb:function(){e.busCtrl.openDoor((function(){e.busCtrl.startPassengerOut()}))}}),this.scheduleOnce((function(){L.postNotice(T.CONTROL_WIDGET_HIDE,{index:P.LEVEL_INDEX}),e.missionFinish()}),3)},e}(A)).prototype,"busCtrl",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(k.prototype,"finishPointNode",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(k.prototype,"arrowGreenPrefab",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(k.prototype,"walkEffect",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=k))||H));r._RF.pop()}}}));

System.register("chunks:///_virtual/MissionCtrlFlightCabin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioCtrl.ts","./AudioHelper.ts","./CameraLookAtCtrl.ts","./Config.ts","./LocalData.ts","./NotificationCenter.ts","./Utils.ts","./PlatformManager.ts","./AirplaneCtrl.ts","./MissionCtrlBase.ts"],(function(t){var e,i,n,o,r,a,s,l,p,c,h,C,u,d,_,f,I,N,A,E,v,L,H,T,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.AudioSource,l=t.Vec3,p=t.Prefab,c=t.instantiate,h=t.find,C=t.Collider,u=t.Quat,d=t.Tween},function(t){_=t.CLIP},function(t){f=t.AudioHelper},function(t){I=t.CameraLookAtCtrl},function(t){N=t.CONTROL_WIDGET_NAME},function(t){A=t.LocalData},function(t){E=t.NotificationCenter,v=t.NCKeys},function(t){L=t.Utils},function(t){H=t.PlatformManager},function(t){T=t.AirplaneCtrl},function(t){m=t.MissionCtrlBase}],execute:function(){var F,y,g,O,P,S,R;r._RF.push({},"31ecawWyZ5IA4j1whJsMNO+","MissionCtrlFlightCabin",void 0);var b=a.ccclass,w=a.property;t("MissionCtrlFlightCabin",(F=b("MissionCtrlFlightCabin"),y=w(s),g=w(s),F((S=e((P=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,n(e,"driverEffect",S,o(e)),n(e,"flyEffect",R,o(e)),e.airplaneStartPos=new l(115,0,265),e._acc=10,e._speed=0,e._speedMax=45,e._airplaneRotationX=0,e._airplaneRotationMax=15,e}i(e,t);var r=e.prototype;return r.start=function(){var t=this,e="prefab/3d/airplane/airplane"+A.curAirplaneIndex;L.loadResWithCorrection(e,p,(function(e,i){var n=c(i);n.parent=t.node,t.airplaneCtrl=n.getComponent(T),E.postNotice(v.MAP_LOADED_FINISH,t)}))},r.onDestroy=function(){E.removeObserver(v.FLIGHT_CABIN_ENGINE_START,this),E.removeObserver(v.FLIGHT_CABIN_WRENCH_PUSH,this),this.cameraCtrl.stopLookAtTargetNode()},r.missionStart=function(){var t=h("Main Camera");t.eulerAngles=new l(-18,0,0),this.cameraCtrl=t.getComponent(I),this.airplaneCtrl.node.position=this.airplaneStartPos,this.airplaneCtrl.node.eulerAngles=new l(0,180,0),this.schedule(this.updateForCameraPos),E.postNotice(v.CONTROL_WIDGET_SHOW,{index:N.FLIGHT_CABIN,hideTo:!1}),E.postNotice(v.CONTROL_WIDGET_SHOW,{index:N.LEVEL_INDEX,levelIndex:this._levelIndex}),E.postNotice(v.MAIN_PAGE_SHOW,null),E.addObserver(v.FLIGHT_CABIN_ENGINE_START,this.onEnginerStart,this),E.addObserver(v.FLIGHT_CABIN_WRENCH_PUSH,this.onWrenchPush,this)},r.updateForCameraPos=function(){var t=new l(this.airplaneCtrl.node.position);t.y+=1.5,t.z-=6.3,this.cameraCtrl.node.position=t},r.onEnginerStart=function(){this.schedule(this.updateForAirplanePos),this.driverEffect.play(),this.airplaneCtrl.getComponent(C).on("onCollisionEnter",this.onCollide,this)},r.onWrenchPush=function(t){this._airplaneRotationX=-this._airplaneRotationMax*t,this.airplaneCtrl.node.eulerAngles=new l(this._airplaneRotationX,180,0)},r.updateForAirplanePos=function(t){this._speed+=t*this._acc,this._speed>=this._speedMax&&(this._speed=this._speedMax),E.postNotice(v.FLIGHT_CABIN_SPEED,this._speed);var e=new l(0,0,1);(e=l.transformQuat(new l,e,this.airplaneCtrl.node.rotation)).normalize();var i=new l(this.airplaneCtrl.node.position);(i=l.scaleAndAdd(new l,i,e,this._speed*t)).y<0&&(i.y=0),this.airplaneCtrl.node.position=i,E.postNotice(v.FLIGHT_CABIN_ALTITUDE,i.y),this.airplaneCtrl.node.position.z<-50&&this.over()},r.onCollide=function(){this.unschedule(this.updateForAirplanePos),this.cameraCtrl.shake(.5),H.getInstance().vibrateShort("heavy"),E.removeObserver(v.FLIGHT_CABIN_WRENCH_PUSH,this),E.postNotice(v.FLIGHT_CABIN_WRENCH_CRASH,null),f.play("audio",_.CRASH),this.driverEffect.stop(),this.scheduleOnce((function(){E.postNotice(v.MISSION_FAIL,null)}),1)},r.over=function(){var t=this;this.driverEffect.stop(),this.unschedule(this.updateForAirplanePos),E.postNotice(v.CONTROL_WIDGET_HIDE,{index:N.FLIGHT_CABIN}),E.removeObserver(v.FLIGHT_CABIN_WRENCH_PUSH,this),this.flyEffect.play();var e=L.solveLookAtInfo(this.airplaneCtrl.node,new l(-.5,-.866),20,5,0),i=L.solveLookAtInfo(this.airplaneCtrl.node,new l(-.5,0,.866),30,10,0),n=new l,o=new u;new d(this.cameraCtrl.node).to(1.5,{},{onUpdate:function(r,a){l.lerp(n,e.pos,i.pos,a),u.slerp(o,e.rotation,i.rotation,a),t.cameraCtrl.node.position=n,t.cameraCtrl.node.rotation=o}}).call((function(){E.postNotice(v.CONTROL_WIDGET_HIDE,{index:N.LEVEL_INDEX}),t.missionFinish()})).start()},e}(m)).prototype,"driverEffect",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(P.prototype,"flyEffect",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=P))||O));r._RF.pop()}}}));

System.register("chunks:///_virtual/MissionCtrlLiftCar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./lift_car_config.ts","./AudioCtrl.ts","./AudioHelper.ts","./CameraLookAtCtrl.ts","./Config.ts","./DriveableCollideCtrl.ts","./DriveableCtrl.ts","./LocalData.ts","./NotificationCenter.ts","./Utils.ts","./FinishPointCtrl.ts","./LiftCarCtrl.ts","./LiftPassengersCtrl.ts","./MissionCtrlBase.ts"],(function(t){var i,e,r,o,n,a,s,l,h,C,d,f,c,p,u,N,R,_,O,P,E,v,g,L,m,b,A,T,I,w;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){n=t.cclegacy,a=t._decorator,s=t.Prefab,l=t.Node,h=t.AudioSource,C=t.Vec3,d=t.Quat,f=t.instantiate,c=t.RigidBody,p=t.find},function(t){u=t.lift_car_config},function(t){N=t.CLIP},function(t){R=t.AudioHelper},function(t){_=t.CameraLookAtCtrl},function(t){O=t.Config,P=t.CONTROL_WIDGET_NAME},function(t){E=t.DriveableCollideCtrl},function(t){v=t.DriveableCtrl},function(t){g=t.LocalData},function(t){L=t.NotificationCenter,m=t.NCKeys},function(t){b=t.Utils},function(t){A=t.FinishPointCtrl},function(t){T=t.LiftCarCtrl},function(t){I=t.LiftPassengersCtrl},function(t){w=t.MissionCtrlBase}],execute:function(){var F,y,D,S,x,W,H,z,G,k,B,M,K,U,V,Q,X,j,Z;n._RF.push({},"455b9aRP/ZCmK82Ryhc+v7m","MissionCtrlLiftCar",void 0);var q=a.ccclass,J=a.property;t("MissionCtrlLiftCar",(F=q("MissionCtrlLiftCar"),y=J(s),D=J(l),S=J(l),x=J(I),W=J(l),H=J(T),z=J(h),G=J(h),F((M=i((B=function(t){function i(){for(var i,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return i=t.call.apply(t,[this].concat(n))||this,r(i,"arrowGreenPrefab",M,o(i)),r(i,"pathFatherNode",K,o(i)),r(i,"finishPointNode",U,o(i)),r(i,"passengersCtrl",V,o(i)),r(i,"passengerRigidNode",Q,o(i)),r(i,"liftCarCtrl",X,o(i)),r(i,"driverEffect",j,o(i)),r(i,"machineEffect",Z,o(i)),i.airplanePos=new C(-5.183,0,-9.423),i.airplaneRotation=d.fromEuler(new d,0,0,0),i.liftCarPos=new C(-1.831,0,.035),i.liftCarRotation=d.fromEuler(new d,0,-90,0),i}e(i,t);var n=i.prototype;return n.start=function(){var t=this,i="prefab/3d/airplane/airplane"+g.curAirplaneIndex;b.loadResWithCorrection(i,s,(function(i,e){var r=f(e);r.parent=t.node,t.airplaneNode=r,L.postNotice(m.MAP_LOADED_FINISH,t)}))},n.onDestroy=function(){L.removeObserver(m.CONTROL_BLACK_CURTAIN_APPEAR,this),L.removeObserver(m.CONTROL_FORCE_PRESS,this),L.removeObserver(m.CONTROL_FORCE_RELEASE,this),this.cameraCtrl.stopLookAtTargetNode()},n.getConf=function(){var t=Math.floor(this._levelIndex/O.different_play_style);return t%=u.length,u[t]},n.missionStart=function(){var t=this;this.airplaneNode.scale=new C(2.5,2.5,2.5),this.airplaneNode.getComponent(c).isStatic=!0,this.createSlidePath();var i=C.transformQuat(new C,this.airplanePos,this.finishPointNode.rotation);i.add(this.finishPointNode.position),this.airplaneNode.position=i;var e=d.multiply(new d,this.finishPointNode.rotation,this.airplaneRotation);this.airplaneNode.rotation=e,this.passengersCtrl.upgradePosAndRotation(this.finishPointNode),this.passengersCtrl.startIdle();var r=C.transformQuat(new C,this.passengerRigidNode.position,this.finishPointNode.rotation);r.add(this.finishPointNode.position),this.passengerRigidNode.position=r;d.multiply(new d,this.finishPointNode.rotation,this.passengerRigidNode.rotation);this.passengerRigidNode.rotation=e;var o=p("Main Camera");this.cameraCtrl=o.getComponent(_),this.liftCarCtrl.setWeahter(this._levelIndex),this.liftCarCtrl.addComponent(E);var n=this.liftCarCtrl.addComponent(v);n.rigidBody=this.liftCarCtrl.getComponent(c),n.lookAtSensitivity=.0015,n.effect=this.driverEffect,n.registerDriver(),this.cameraCtrl.startLookAtTargetNode(this.liftCarCtrl.node,n,7,5,new C(0,0,1),-2),L.postNotice(m.MAIN_PAGE_SHOW,null),L.postNotice(m.CONTROL_WIDGET_SHOW,{index:P.LEVEL_INDEX,levelIndex:this._levelIndex}),L.postNotice(m.CONTROL_WIDGET_SHOW,{index:P.HEARTS}),L.postNotice(m.CONTROL_WIDGET_SHOW,{index:P.CAR_DRIVE}),this.scheduleOnce((function(){L.postNotice(m.NAVIGATION_ARROW_TARGET,t.finishPointNode)}),.5)},n.createSlidePath=function(){for(var t=this.getConf().slide_path,i=t.length,e=0;e<i-1;e++){var r=C.subtract(new C,t[e+1],t[e]),o=r.length()/10;r.normalize();for(var n=t[e],a=new C(10*r.x,10*r.y,10*r.z),s=0;s<o;s++){var l=f(this.arrowGreenPrefab);b.rotationNodeFace(l,new C(0,0,1),r,!0);var h=new C(n.x+a.x*s,n.y+a.y*s,n.z+a.z*s);h.y+=.1,l.position=h,l.parent=this.pathFatherNode}}var d=t[i-2],c=t[i-1],p=C.subtract(new C,c,d);p.normalize(),this.finishPointNode.position=new C(c.x,c.y+.1,c.z),b.rotationNodeFace(this.finishPointNode,new C(0,0,-1),p,!0),this.finishPointNode.getComponent(A).setDelegate(this.onFinishPointTriggered,this);var u=t[0],N=t[1];C.subtract(p,N,u),p.normalize(),this.liftCarCtrl.node.position=u,b.rotationNodeFace(this.liftCarCtrl.node,new C(0,0,1),p,!0)},n.onFinishPointTriggered=function(t){console.log("到达地点了"),R.play("audio",N.FINISH_POINT),L.postNotice(m.CONTROL_WIDGET_HIDE,{index:P.HEARTS}),L.postNotice(m.CONTROL_WIDGET_HIDE,{index:P.CAR_DRIVE});var i=this.liftCarCtrl.getComponent(v);i.unregisterDriver(!0),i.rigidBody.isStatic=!0,L.postNotice(m.CONTROL_WIDGET_SHOW,{index:P.BLACK_CURTAIN}),L.addObserver(m.CONTROL_BLACK_CURTAIN_APPEAR,this.onBlackCurtainAppear,this)},n.onBlackCurtainAppear=function(){var t=C.transformQuat(new C,this.liftCarPos,this.finishPointNode.rotation);t.add(this.finishPointNode.position),this.liftCarCtrl.node.position=t;var i=d.multiply(new d,this.finishPointNode.rotation,this.liftCarRotation);this.liftCarCtrl.node.rotation=i,this.finishPointNode.active=!1,this.pathFatherNode.active=!1,L.postNotice(m.CONTROL_WIDGET_HIDE,{index:P.BLACK_CURTAIN}),L.removeObserver(m.CONTROL_BLACK_CURTAIN_APPEAR,this),this.cameraCtrl.stopLookAtTargetNode();var e=new C(-.965,0,-.258),r=b.solveLookAtInfo(this.liftCarCtrl.node,e,14,7,0);this.cameraCtrl.node.position=r.pos,this.cameraCtrl.node.rotation=r.rotation;var o=new C(-.965,0,-.258),n=b.solveLookAtInfo(this.liftCarCtrl.node,o,10,4,0),a=n.pos,s=n.rotation;b.transNode({node:this.cameraCtrl.node,pos:a,rotation:s,time:1,finishCb:this.startForcePress.bind(this)})},n.startForcePress=function(){L.postNotice(m.CONTROL_WIDGET_SHOW,{index:P.FORCE_PRESS,tip:"抬升云梯"}),L.addObserver(m.CONTROL_FORCE_PRESS,this.onForcePress,this),L.addObserver(m.CONTROL_FORCE_RELEASE,this.onForeceRelease,this)},n.onForcePress=function(){this.schedule(this.updateForLiftCarPathFind),this.machineEffect.play()},n.onForeceRelease=function(){this.unschedule(this.updateForLiftCarPathFind),this.machineEffect.stop()},n.updateForLiftCarPathFind=function(t){var i=this;if(this.liftCarCtrl.upgradePathFind(t)){this.machineEffect.stop(),this.unschedule(this.updateForLiftCarPathFind),L.postNotice(m.CONTROL_WIDGET_HIDE,{index:P.FORCE_PRESS}),L.removeObserver(m.CONTROL_FORCE_PRESS,this),L.removeObserver(m.CONTROL_FORCE_RELEASE,this);var e=new C(.5,.5,.5);this.playParticle(this.liftCarCtrl.particleNodes[0].worldPosition,e),this.playParticle(this.liftCarCtrl.particleNodes[1].worldPosition,e),R.play("audio",N.COLOR_SMOKE);var r=new C(this.liftCarCtrl.pathFindCtrl0.node.worldPosition);r.y=.5,this.passengersCtrl.init([r,this.liftCarCtrl.mark0.worldPosition,this.liftCarCtrl.mark1.worldPosition]),this.passengersCtrl.startUpdatePassenegerPath(),this.scheduleOnce((function(){L.postNotice(m.CONTROL_WIDGET_HIDE,{index:P.LEVEL_INDEX}),i.missionFinish()}),2)}},i}(w)).prototype,"arrowGreenPrefab",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=i(B.prototype,"pathFatherNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=i(B.prototype,"finishPointNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=i(B.prototype,"passengersCtrl",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=i(B.prototype,"passengerRigidNode",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=i(B.prototype,"liftCarCtrl",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=i(B.prototype,"driverEffect",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=i(B.prototype,"machineEffect",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=B))||k));n._RF.pop()}}}));

System.register("chunks:///_virtual/MissionCtrlOiling.ts",["./rollupPluginModLoBabelHelpers.js","cc","./oil_car_config.ts","./AudioCtrl.ts","./AudioHelper.ts","./Config.ts","./DriveableCollideCtrl.ts","./LocalData.ts","./NotificationCenter.ts","./Utils.ts","./PlatformManager.ts","./FinishPointCtrl.ts","./MissionCtrlBase.ts","./OilCarCtrl.ts","./OilGunCtrl.ts"],(function(i){var o,e,t,r,n,a,s,l,d,h,c,u,p,C,E,O,_,f,S,N,R,m,g,P,v,D,G,I,b,L,w,T,y;return{setters:[function(i){o=i.applyDecoratedDescriptor,e=i.inheritsLoose,t=i.initializerDefineProperty,r=i.assertThisInitialized},function(i){n=i.cclegacy,a=i._decorator,s=i.Node,l=i.Prefab,d=i.AudioSource,h=i.Quat,c=i.Vec3,u=i.find,p=i.instantiate,C=i.RigidBody,E=i.Tween,O=i.MeshRenderer,_=i.Color},function(i){f=i.oil_car_config},function(i){S=i.CLIP},function(i){N=i.AudioHelper},function(i){R=i.CONTROL_WIDGET_NAME,m=i.MISSION_PROGRESS_ICON,g=i.Config},function(i){P=i.DriveableCollideCtrl},function(i){v=i.LocalData},function(i){D=i.NotificationCenter,G=i.NCKeys},function(i){I=i.Utils},function(i){b=i.PlatformManager},function(i){L=i.FinishPointCtrl},function(i){w=i.MissionCtrlBase},function(i){T=i.OilCarCtrl},function(i){y=i.OilGunCtrl}],execute:function(){var x,F,A,W,M,H,z,k,Y,U,X,V,B,Q,Z,K,j,q,J,$,ii;n._RF.push({},"780803dTZ5ON5WrRNHmDGZ7","MissionCtrlOiling",void 0);var oi=a.ccclass,ei=a.property;i("MissionCtrlOiling",(x=oi("MissionCtrlOiling"),F=ei(s),A=ei(l),W=ei(s),M=ei(T),H=ei(s),z=ei(s),k=ei(s),Y=ei(d),U=ei(d),x((B=o((V=function(i){function o(){for(var o,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(o=i.call.apply(i,[this].concat(n))||this).oilDoorStartRotation=h.fromEuler(new h,35,-90,0),o.oilDoorEndRotation=h.fromEuler(new h,-34,-260,-7),o.airplanePos=new c(-4.026,0,-2.5),o.airplaneRotation=h.fromEuler(new h,0,90,0),o.oilDoorMarkPos=new c(-1.56,.822,-1.9),o.oilGunEndPos=new c(-1.541,.848,-1.698),o.oilGunStarPos=new c(-1,1.2,-.298),o.oilGunSlideEdge={minX:-.6,maxX:.6,minY:-.6,maxY:.6},o.oilCarEndPos=new c(0,0,-1),o.oilCarEndRotation=h.fromEuler(new h,0,180,0),o.cameraSlidingPos=new c(-1.526,1.711,1.531),o.cameraSlidingRotation=h.fromEuler(new h,-26.22,0,0),o.cameraInterfacePos=new c(-1.526,1.758,-.33),o.cameraInterfaceRotation=h.fromEuler(new h,-39.32,0,0),o.cameraOilingPos=new c(-.794,4.142,6.008),o.cameraOilingRotation=h.fromEuler(new h,-26.219,4.17,-2.058),t(o,"pathFatherNode",B,r(o)),t(o,"arrowGreenPrefab",Q,r(o)),t(o,"finishPointNode",Z,r(o)),t(o,"oilCarCtrl",K,r(o)),t(o,"oilDoorMark",j,r(o)),t(o,"oilDoorSight",q,r(o)),t(o,"oilGunNode",J,r(o)),t(o,"carDriverEffect",$,r(o)),t(o,"oilInEffect",ii,r(o)),o._oilCarAcc=0,o._oilCarSpeed=0,o._oilCarSpeedMax=10,o._oilCarRad=0,o._oilCarGearsDir=1,o._oilProgress=0,o}e(o,i);var n=o.prototype;return n.onDestroy=function(){D.removeObserver(G.CONTROL_WHEEL_PRESS,this),D.removeObserver(G.CONTROL_WHEEL_RELEASE,this),D.removeObserver(G.CONTROL_WHEEL_ROTATION,this),D.removeObserver(G.CONTROL_GEARS_TURN,this),D.removeObserver(G.SLIDE_SCREEN_UI_DELAY,this),D.removeObserver(G.CONTROL_FORCE_PRESS,this),D.removeObserver(G.CONTROL_FORCE_RELEASE,this)},n.init=function(o){i.prototype.init.call(this,o),this.cameraNode=u("Main Camera");var e=Math.floor(o/g.different_play_style);e%=f.length;var t=f[e],r=t.slide_path,n=r[r.length-1],a=t.oil_gun_offset;this.createSlidePath(r),this.upgradePosInfo(n,a),this.createAirplane(n);var s=r[0],l=r[1],d=c.subtract(new c,l,s);d.normalize(),this.oilCarCtrl.node.position=s,I.rotationNodeFace(this.oilCarCtrl.node,new c(0,0,1),d,!0),this.oilCarCtrl.setWeahter(this._levelIndex)},n.createSlidePath=function(i){for(var o=i.length,e=0;e<o-1;e++){var t=c.subtract(new c,i[e+1],i[e]),r=t.length()/10;t.normalize();for(var n=i[e],a=new c(10*t.x,10*t.y,10*t.z),s=0;s<r;s++){var l=p(this.arrowGreenPrefab);I.rotationNodeFace(l,new c(0,0,1),t,!0);var d=new c(n.x+a.x*s,n.y+a.y*s,n.z+a.z*s);d.y+=.1,l.position=d,l.parent=this.pathFatherNode}}var h=i[o-2],u=i[o-1],C=c.subtract(new c,u,h);C.normalize(),this.finishPointNode.position=new c(u.x,u.y+.1,u.z),I.rotationNodeFace(this.finishPointNode,new c(0,0,-1),C,!0),this.finishPointNode.getComponent(L).setDelegate(this.onFinishPointTriggered,this)},n.upgradePosInfo=function(i,o){this.airplanePos.add(i),this.oilDoorMarkPos.add(i),this.oilGunEndPos.add(i),this.oilGunStarPos=new c(this.oilGunEndPos),this.oilGunStarPos.add(o),this.oilCarEndPos.add(i),this.oilGunSlideEdge.minX+=this.oilGunEndPos.x,this.oilGunSlideEdge.maxX+=this.oilGunEndPos.x,this.oilGunSlideEdge.minY+=this.oilGunEndPos.y,this.oilGunSlideEdge.maxY+=this.oilGunEndPos.y,this.cameraSlidingPos.add(i),this.cameraInterfacePos.add(i),this.cameraOilingPos.add(i)},n.createAirplane=function(i){var o=this,e="prefab/3d/airplane/airplane"+v.curAirplaneIndex;I.loadResWithCorrection(e,l,(function(i,e){var t=p(e);t.parent=o.node,o.airplaneNode=t,o.airplaneNode.position=o.airplanePos,o.airplaneNode.rotation=o.airplaneRotation,o.airplaneNode.getComponent(C).isStatic=!0,D.postNotice(G.MAP_LOADED_FINISH,o)}))},n.missionStart=function(){var i=this;D.postNotice(G.CONTROL_WIDGET_SHOW,{index:R.LEVEL_INDEX,levelIndex:this._levelIndex}),D.postNotice(G.MAIN_PAGE_SHOW,null),D.postNotice(G.CONTROL_WIDGET_SHOW,{index:R.CAR_DRIVE}),this.updateForCameraFollowOilCar(),this.schedule(this.updateForCameraFollowOilCar),this.schedule(this.updateForOilCarPos),D.addObserver(G.CONTROL_WHEEL_PRESS,this.onWheelPress,this),D.addObserver(G.CONTROL_WHEEL_RELEASE,this.onWheelRelease,this),D.addObserver(G.CONTROL_WHEEL_ROTATION,this.onWheelRotation,this),D.addObserver(G.CONTROL_GEARS_TURN,this.onGearsDir,this),this.scheduleOnce((function(){D.postNotice(G.NAVIGATION_ARROW_TARGET,i.finishPointNode)}),.5),this.oilCarCtrl.addComponent(P),D.postNotice(G.CONTROL_WIDGET_SHOW,{index:R.HEARTS})},n.onWheelPress=function(){this._oilCarAcc=5,this.carDriverEffect.play()},n.onWheelRelease=function(){this._oilCarAcc=-4},n.onWheelRotation=function(i){this._oilCarRad=i/100},n.onGearsDir=function(i){this._oilCarGearsDir=i,this._oilCarSpeed=0},n.updateForCameraFollowOilCar=function(){var i=new c(0,0,1);(i=c.rotateY(new c,i,c.ZERO,-this._oilCarRad/15)).normalize(),i=c.transformQuat(new c,i,this.oilCarCtrl.node.rotation);var o=new c(i),e=i.multiplyScalar(-6).add(this.oilCarCtrl.node.position),t=new c(0,1,0);t=c.transformQuat(new c,t,this.oilCarCtrl.node.rotation);var r=c.scaleAndAdd(new c,e,t,4),n=c.subtract(new c,this.oilCarCtrl.node.position,r);n.normalize(),n.multiplyScalar(-1);var a=h.fromViewUp(new h,n,t);this.cameraNode.rotation=a,o.multiplyScalar(-3),r.add(o),this.cameraNode.position=r},n.updateForOilCarPos=function(i){if(this._oilCarSpeed+=this._oilCarAcc*i,this._oilCarSpeed<0)return this._oilCarSpeed=0,this.carDriverEffect.stop(),void this.oilCarCtrl.rigidBody.setLinearVelocity(c.ZERO);this._oilCarSpeed>this._oilCarSpeedMax&&(this._oilCarSpeed=this._oilCarSpeedMax);var o=h.rotateY(new h,this.oilCarCtrl.node.rotation,this._oilCarRad*i);this.oilCarCtrl.node.rotation=o;var e=new c(0,0,this._oilCarSpeed*this._oilCarGearsDir);e=c.transformQuat(new c,e,o),this.oilCarCtrl.rigidBody.setLinearVelocity(e)},n.onFinishPointTriggered=function(i){console.log("车子行驶到终点站了"),N.play("audio",S.FINISH_POINT),b.getInstance().vibrateShort("medium"),D.postNotice(G.CONTROL_WIDGET_HIDE,{index:R.CAR_DRIVE}),D.postNotice(G.CONTROL_WIDGET_HIDE,{index:R.HEARTS}),this.unschedule(this.updateForCameraFollowOilCar),this.unschedule(this.updateForOilCarPos),D.removeObserver(G.CONTROL_WHEEL_PRESS,this),D.removeObserver(G.CONTROL_WHEEL_RELEASE,this),D.removeObserver(G.CONTROL_WHEEL_ROTATION,this),D.removeObserver(G.CONTROL_GEARS_TURN,this),this.carDriverEffect.stop(),this.oilCarCtrl.rigidBody.isStatic=!0,this.finishPointNode.destroy(),this.pathFatherNode.destroy(),I.transNode({node:this.oilCarCtrl.node,pos:this.oilCarEndPos,rotation:this.oilCarEndRotation,time:.5}),I.transNode({node:this.cameraNode,pos:this.cameraSlidingPos,rotation:this.cameraSlidingRotation,time:1,finishCb:this.oilGunAppear.bind(this)})},n.oilGunAppear=function(){var i=this;console.log("油管出现"),this.oilDoorMark.active=!0,this.oilDoorMark.position=this.oilDoorMarkPos,this.oilDoorSight.position=new c(0,0,this.oilDoorMarkPos.z);var o=u("body/oil_door",this.airplaneNode);I.transNode({node:o,pos:new c(o.position),rotation:this.oilDoorEndRotation,time:1}),u("fake_oil_gun",this.oilCarCtrl.node).active=!1,this.oilGunNode.active=!0,this.oilGunNode.getComponent(y).startFixSelf(this.oilCarCtrl.oilOutNode,this.oilGunStarPos);var e=new c(this.oilGunStarPos);e.x+=3,this.oilGunNode.position=e,new E(this.oilGunNode).delay(.5).to(.8,{position:this.oilGunStarPos},{easing:"backOut"}).call((function(){D.postNotice(G.CONTROL_WIDGET_SHOW,{index:R.SLIDE_SCREE}),D.addObserver(G.SLIDE_SCREEN_UI_DELAY,i.onSlideScreenUIDelay,i);var o=i.oilGunNode.position;i.oilDoorSight.active=!0;var e=i.oilDoorSight.getComponent(O);i.oilDoorSightMat=e.material,i.oilDoorSightMat.setProperty("mainColor",_.RED);var t=new c(i.oilDoorSight.position);t.x=o.x,t.y=o.y,i.oilDoorSight.position=t})).start()},n.onSlideScreenUIDelay=function(i){var o=this,e=this.oilGunNode.position;e.x+=i.x/600,e.y+=i.y/600,e.x<=this.oilGunSlideEdge.minX?e.x=this.oilGunSlideEdge.minX:e.x>=this.oilGunSlideEdge.maxX&&(e.x=this.oilGunSlideEdge.maxX),e.y<=this.oilGunSlideEdge.minY?e.y=this.oilGunSlideEdge.minY:e.y>=this.oilGunSlideEdge.maxY&&(e.y=this.oilGunSlideEdge.maxY),this.oilGunNode.position=e;var t=new c(this.oilDoorSight.position);(t.x=e.x,t.y=e.y,this.oilDoorSight.position=t,c.distance(t,this.oilDoorMark.position)<.1)&&(this.oilDoorSightMat.setProperty("mainColor",_.GREEN),D.postNotice(G.CONTROL_WIDGET_HIDE,{index:R.SLIDE_SCREE}),D.removeObserver(G.SLIDE_SCREEN_UI_DELAY,this),this.scheduleOnce((function(){o.oilDoorMark.active=!1,o.oilDoorSight.active=!1}),.2),I.transNode({node:this.cameraNode,pos:this.cameraInterfacePos,rotation:this.cameraInterfaceRotation,time:.5}),this.oilGunNode.getComponent(y).transSelfToOilInPosition(this.oilGunEndPos,this.startOiling.bind(this)))},n.startOiling=function(){var i=this;this.oilGunNode.getComponent(y).initOilPaths(),I.transNode({node:this.cameraNode,pos:this.cameraOilingPos,rotation:this.cameraInterfaceRotation,time:1,finishCb:function(){D.postNotice(G.CONTROL_WIDGET_SHOW,{index:R.FORCE_PRESS,tip:"开始加油"}),D.postNotice(G.CONTROL_WIDGET_SHOW,{index:R.MISSION_PROGRESS,icon:m.OIL}),D.addObserver(G.CONTROL_FORCE_PRESS,i.onForcePress,i),D.addObserver(G.CONTROL_FORCE_RELEASE,i.onForceReleas,i),i._oilProgress=0}})},n.onForcePress=function(){this.schedule(this.updateForOiling),this.oilInEffect.play()},n.onForceReleas=function(){this.unschedule(this.updateForOiling),this.oilInEffect.stop()},n.updateForOiling=function(i){var o=this;if(this._oilProgress+=i/6,D.postNotice(G.MISSION_PROGRESS_BAR,this._oilProgress),this.oilGunNode.getComponent(y).updateForOilPosition(i,!0),this._oilProgress>=1){console.log("加油完成啦"),this.unschedule(this.updateForOiling),this.oilInEffect.stop(),D.postNotice(G.CONTROL_WIDGET_HIDE,{index:R.FORCE_PRESS}),D.removeObserver(G.CONTROL_FORCE_PRESS,this),D.removeObserver(G.CONTROL_FORCE_RELEASE,this);var e=new c(.3,.3,.3),t=new c(this.oilGunNode.position);t.z+=.2,t.y=0,t.x-=.5;var r=p(this.particlePrefab);r.scale=e,r.position=t,r.parent=this.node,(t=new c(this.oilGunNode.position)).z+=.2,t.y=0,t.x+=.5,(r=p(this.particlePrefab)).scale=e,r.position=t,r.parent=this.node,N.play("audio",S.COLOR_SMOKE),this.scheduleOnce((function(){D.postNotice(G.CONTROL_WIDGET_HIDE,{index:R.LEVEL_INDEX}),D.postNotice(G.CONTROL_WIDGET_HIDE,{index:R.MISSION_PROGRESS}),o.missionFinish()}),3),this.schedule((function(){o.oilGunNode.getComponent(y).updateForOilPosition(i,!1)}))}},o}(w)).prototype,"pathFatherNode",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=o(V.prototype,"arrowGreenPrefab",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=o(V.prototype,"finishPointNode",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=o(V.prototype,"oilCarCtrl",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=o(V.prototype,"oilDoorMark",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=o(V.prototype,"oilDoorSight",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=o(V.prototype,"oilGunNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=o(V.prototype,"carDriverEffect",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ii=o(V.prototype,"oilInEffect",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=V))||X));n._RF.pop()}}}));

System.register("chunks:///_virtual/MissionCtrlOpenToppedCar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./open_topped_car_config.ts","./AudioCtrl.ts","./AudioHelper.ts","./CameraLookAtCtrl.ts","./Config.ts","./DriveableCtrl.ts","./NotificationCenter.ts","./Utils.ts","./FinishPointCtrl.ts","./MissionCtrlBase.ts","./OpenToppedCarCtrl.ts"],(function(e){var t,i,r,n,o,a,s,l,c,C,d,p,h,u,f,O,_,E,v,R,N,P,T,b,g,I,m,D;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,o=e.createForOfIteratorHelperLoose},function(e){a=e.cclegacy,s=e._decorator,l=e.Prefab,c=e.AudioSource,C=e.find,d=e.Vec3,p=e.Quat,h=e.RigidBody,u=e.BoxCollider,f=e.instantiate},function(e){O=e.open_topped_car_config},function(e){_=e.CLIP},function(e){E=e.AudioHelper},function(e){v=e.CameraLookAtCtrl},function(e){R=e.CONTROL_WIDGET_NAME,N=e.Config},function(e){P=e.DriveableCtrl},function(e){T=e.NotificationCenter,b=e.NCKeys},function(e){g=e.Utils},function(e){I=e.FinishPointCtrl},function(e){m=e.MissionCtrlBase},function(e){D=e.OpenToppedCarCtrl}],execute:function(){var L,w,y,F,A,S,x,W,H,G,M,k,z,V,B;a._RF.push({},"0c99bzlzhxJcIT7mkCBQwF4","MissionCtrlOpenToppedCar",void 0);var K=s.ccclass,Q=s.property;e("MissionCtrlOpenToppedCar",(L=K("MissionCtrlOpenToppedCar"),w=Q(D),y=Q(P),F=Q(I),A=Q(I),S=Q(l),x=Q(c),L((G=t((H=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"carCtrl",G,n(t)),r(t,"driveableCtrl",M,n(t)),r(t,"middlePointCtrl",k,n(t)),r(t,"finishPointCtrl",z,n(t)),r(t,"arrowGreenPrefab",V,n(t)),r(t,"walkEffect",B,n(t)),t}i(t,e);var a=t.prototype;return a.start=function(){this.scheduleOnce((function(){T.postNotice(b.MAP_LOADED_FINISH,null)}),.5)},a.onDestroy=function(){T.removeObserver(b.CONTROL_FORCE_PRESS,this),T.removeObserver(b.CONTROL_FORCE_RELEASE,this),this.cameraCtrl.stopLookAtTargetNode()},a.missionStart=function(){var e=C("Main Camera");this.cameraCtrl=e.getComponent(v),this.cameraCtrl.startLookAtTargetNode(this.driveableCtrl.node,this.driveableCtrl,11,5,new d(0,0,1),0),this.middlePointCtrl.setDelegate(this.onMiddlePoint,this),this.carCtrl.setWeahter(this._levelIndex),T.postNotice(b.MAIN_PAGE_SHOW,null),T.postNotice(b.CONTROL_WIDGET_SHOW,{index:R.LEVEL_INDEX,levelIndex:this._levelIndex}),T.postNotice(b.CONTROL_WIDGET_SHOW,{index:R.CAR_DRIVE}),T.postNotice(b.CONTROL_WIDGET_SHOW,{index:R.HEARTS}),this.driveableCtrl.registerDriver()},a.onMiddlePoint=function(){var e=this;this.middlePointCtrl.node.active=!1,E.play("audio",_.FINISH_POINT),this.driveableCtrl.unregisterDriver(!0),g.transNode({node:this.carCtrl.node,pos:new d(30,0,38.481),rotation:p.fromEuler(new p,0,90,0),time:.5}),this.cameraCtrl.stopLookAtTargetNode(),g.slerpCamera(this.cameraCtrl,this.carCtrl.node,11,5,new d(0,0,1),0,11,5,new d(-.707,0,.707),0,.5,(function(){T.postNotice(b.CONTROL_WIDGET_HIDE,{index:R.CAR_DRIVE}),T.postNotice(b.CONTROL_WIDGET_SHOW,{index:R.FORCE_PRESS,tip:"接送乘客"}),T.addObserver(b.CONTROL_FORCE_PRESS,e.onForcePress,e),T.addObserver(b.CONTROL_FORCE_RELEASE,e.onForceRelease,e)}));for(var t,i=o(this.carCtrl.passengers);!(t=i()).done;){var r,n,a=t.value;null==(r=a.getComponent(h))||r.destroy(),null==(n=a.getComponent(u))||n.destroy()}},a.onForcePress=function(){this.carCtrl.startWalk(),this.schedule(this.updateForPassengerPath),this.walkEffect.play()},a.onForceRelease=function(){this.carCtrl.startIdle(),this.unschedule(this.updateForPassengerPath),this.walkEffect.stop()},a.updateForPassengerPath=function(e){var t=this;this.carCtrl.updateForPassenegrPath(e)&&(console.log("完成"),this.walkEffect.stop(),this.unschedule(this.updateForPassengerPath),T.postNotice(b.CONTROL_WIDGET_HIDE,{index:R.FORCE_PRESS,tip:"接送乘客"}),T.removeObserver(b.CONTROL_FORCE_PRESS,this),T.removeObserver(b.CONTROL_FORCE_RELEASE,this),g.slerpCamera(this.cameraCtrl,this.carCtrl.node,11,5,new d(-.707,0,.707),0,11,5,new d(0,0,1),0,.5,(function(){t.cameraCtrl.startLookAtTargetNode(t.driveableCtrl.node,t.driveableCtrl,11,5,new d(0,0,1),0),t.createPath(),t.driveableCtrl.registerDriver(),T.postNotice(b.CONTROL_WIDGET_SHOW,{index:R.CAR_DRIVE}),t.scheduleOnce((function(){T.postNotice(b.NAVIGATION_ARROW_TARGET,t.finishPointCtrl.node)}),.5)})))},a.createPath=function(){for(var e=this.getConf().slide_path,t=e.length,i=0;i<t-1;i++){var r=d.subtract(new d,e[i+1],e[i]),n=r.length()/10;r.normalize();for(var o=e[i],a=new d(10*r.x,10*r.y,10*r.z),s=0;s<n;s++){var l=f(this.arrowGreenPrefab);g.rotationNodeFace(l,new d(0,0,1),r,!0);var c=new d(o.x+a.x*s,o.y+a.y*s,o.z+a.z*s);c.y+=.1,l.position=c,l.parent=this.node}}var C=e[t-2],p=e[t-1],h=d.subtract(new d,p,C);h.normalize(),this.finishPointCtrl.node.position=new d(p.x,p.y+.1,p.z),g.rotationNodeFace(this.finishPointCtrl.node,new d(0,0,-1),h,!0),this.finishPointCtrl.setDelegate(this.onFinishPointTriggered,this)},a.getConf=function(){var e=Math.floor(this._levelIndex/N.different_play_style);return e%=O.length,O[e]},a.onFinishPointTriggered=function(e){var t=this;this.playParticle(e.particleMarks[0].worldPosition),this.playParticle(e.particleMarks[1].worldPosition),E.play("audio",_.COLOR_SMOKE),this.driveableCtrl.unregisterDriver(!0),T.postNotice(b.CONTROL_WIDGET_HIDE,{index:R.CAR_DRIVE}),T.postNotice(b.CONTROL_WIDGET_HIDE,{index:R.HEARTS}),this.scheduleOnce((function(){T.postNotice(b.CONTROL_WIDGET_HIDE,{index:R.LEVEL_INDEX}),t.missionFinish()}),.5)},t}(m)).prototype,"carCtrl",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(H.prototype,"driveableCtrl",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(H.prototype,"middlePointCtrl",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(H.prototype,"finishPointCtrl",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(H.prototype,"arrowGreenPrefab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(H.prototype,"walkEffect",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=H))||W));a._RF.pop()}}}));

System.register("chunks:///_virtual/MissionCtrlOutCabin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CameraLookAtCtrl.ts","./Config.ts","./NotificationCenter.ts","./MissionCtrlFlightCabin.ts"],(function(t){var i,e,n,o,r,s,a,l,h,c,C;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,o=t.find,r=t.Vec3,s=t.Quat},function(t){a=t.CameraLookAtCtrl},function(t){l=t.CONTROL_WIDGET_NAME},function(t){h=t.NotificationCenter,c=t.NCKeys},function(t){C=t.MissionCtrlFlightCabin}],execute:function(){var u;e._RF.push({},"90244ij/O1HioOhVaFW4ovf","MissionCtrlOutCabin",void 0);var p=n.ccclass;n.property,t("MissionCtrlOutCabin",p("MissionCtrlOutCabin")(u=function(t){function e(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this).airplaneStartPos=new r(55,0,265),i.cameraInitPos=new r(85,7,245),i}i(e,t);var n=e.prototype;return n.missionStart=function(){var t=o("Main Camera");t.eulerAngles=new r(-18,0,0),this.cameraCtrl=t.getComponent(a),t.position=this.cameraInitPos,this.airplaneCtrl.setWeahter(this._levelIndex),this.airplaneCtrl.node.position=this.airplaneStartPos,this.airplaneCtrl.node.eulerAngles=new r(0,180,0),this.schedule(this.updateForCameraPos),h.postNotice(c.CONTROL_WIDGET_SHOW,{index:l.FLIGHT_CABIN,hideTop:!0}),h.postNotice(c.CONTROL_WIDGET_SHOW,{index:l.LEVEL_INDEX,levelIndex:this._levelIndex}),h.postNotice(c.MAIN_PAGE_SHOW,null),h.addObserver(c.FLIGHT_CABIN_ENGINE_START,this.onEnginerStart,this),h.addObserver(c.FLIGHT_CABIN_WRENCH_PUSH,this.onWrenchPush,this)},n.updateForCameraPos=function(){var t=r.subtract(new r,this.cameraCtrl.node.position,this.airplaneCtrl.node.position),i=new r(this.airplaneCtrl.node.position);i.y-=.3*t.length();var e=r.subtract(new r,i,this.cameraCtrl.node.position);e.normalize(),e.multiplyScalar(-1);var n=s.fromViewUp(new s,e,new r(0,1,0));this.cameraCtrl.node.rotation=n,this.airplaneCtrl.node.position.z<185&&(this.followOffset=t,this.unschedule(this.updateForCameraPos),this.schedule(this.updateForCameraFollow))},n.updateForCameraFollow=function(){var t=new r(this.followOffset);t.add(this.airplaneCtrl.node.position),this.cameraCtrl.node.position=t},n.over=function(){this.unschedule(this.updateForAirplanePos),this.unschedule(this.updateForCameraFollow),h.postNotice(c.CONTROL_WIDGET_HIDE,{index:l.FLIGHT_CABIN}),h.postNotice(c.CONTROL_WIDGET_HIDE,{index:l.LEVEL_INDEX}),h.removeObserver(c.FLIGHT_CABIN_WRENCH_PUSH,this),this.missionFinish()},e}(C))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/MissionCtrlOutfire.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fire_car_config.ts","./weather_config.ts","./AudioCtrl.ts","./AudioHelper.ts","./CameraLookAtCtrl.ts","./Config.ts","./DriveableCollideCtrl.ts","./DriveableCtrl.ts","./LocalData.ts","./NotificationCenter.ts","./Utils.ts","./AirplaneCtrl.ts","./AirplaneFireNodeCtrl.ts","./FinishPointCtrl.ts","./MissionCtrlBase.ts","./WaterGunCtrl.ts"],(function(t){var e,i,r,n,o,a,s,l,u,c,f,d,h,p,C,N,w,_,E,m,O,g,P,I,G,b,R,v,A,y,S,D,T,L,x;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,s=t.Node,l=t.AudioSource,u=t.AnimationClip,c=t.Prefab,f=t.Vec3,d=t.Quat,h=t.find,p=t.instantiate,C=t.Tween,N=t.Animation},function(t){w=t.fire_car_config},function(t){_=t.weather_config},function(t){E=t.CLIP},function(t){m=t.AudioHelper},function(t){O=t.CameraLookAtCtrl},function(t){g=t.Config,P=t.CONTROL_WIDGET_NAME,I=t.MISSION_PROGRESS_ICON},function(t){G=t.DriveableCollideCtrl},function(t){b=t.DriveableCtrl},function(t){R=t.LocalData},function(t){v=t.NotificationCenter,A=t.NCKeys},function(t){y=t.Utils},function(t){S=t.AirplaneCtrl},function(t){D=t.AirplaneFireNodeCtrl},function(t){T=t.FinishPointCtrl},function(t){L=t.MissionCtrlBase},function(t){x=t.WaterGunCtrl}],execute:function(){var z,F,W,H,M,k,B,U,Y,Z,K,V,X,j,Q,q,J,$,tt,et,it,rt,nt,ot,at;o._RF.push({},"b9f35OppexH4Ix+9MoxOZkC","MissionCtrlOutfire",void 0);var st=a.ccclass,lt=a.property;t("MissionCtrlOutfire",(z=st("MissionCtrlOutfire"),F=lt(s),W=lt(s),H=lt(x),M=lt(l),k=lt(u),B=lt(c),U=lt(s),Y=lt(s),Z=lt(c),K=lt(l),V=lt(l),z((Q=e((j=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,r(e,"fireCarNode",Q,n(e)),r(e,"waterGunNod",q,n(e)),r(e,"waterGunCtrl",J,n(e)),r(e,"waterGunEffect",$,n(e)),r(e,"airplaneLandImpact",tt,n(e)),r(e,"arrowGreenPrefab",et,n(e)),r(e,"finishPointNode",it,n(e)),r(e,"pathFatherNode",rt,n(e)),r(e,"firePrefab",nt,n(e)),r(e,"flyEffect",ot,n(e)),r(e,"carDriverEffect",at,n(e)),e.finishPointPos=new f(-3.5,.1,6.2),e.finishPointRotation=d.fromEuler(new d,0,-90,0),e.fireCarPos=new f(-3.5,0,5.5),e.forCarRotation=d.fromEuler(new d,0,90,0),e.waterGunPos=new f(-3.1,1.071,3.811),e.waterGunRotation=d.fromEuler(new d,0,0,0),e.cameraPos=new f(-5.391,3.176,4.049),e.cameraRotation=d.fromEuler(new d,-30.169,-86.202,0),e.waterGunEdge={minY:-.8,maxY:.8,minZ:-1,maxZ:1},e}i(e,t);var o=e.prototype;return o.init=function(e){t.prototype.init.call(this,e)},o.getConf=function(){var t=Math.floor(this._levelIndex/g.different_play_style);return t%=w.length,w[t]},o.start=function(){var t=this,e=h("Main Camera");this.cameraCtrl=e.getComponent(O);var i="prefab/3d/airplane/airplane"+R.curAirplaneIndex;y.loadResWithCorrection(i,c,(function(e,i){var r=p(i);r.parent=t.node,t.airplaneCtrl=r.getComponent(S),t.airplaneCtrl.rigidBody.isStatic=!0;var n=p(t.firePrefab);n.parent=r,t.fireCtrl=n.getComponent(D),v.postNotice(A.MAP_LOADED_FINISH,t)}))},o.onDestroy=function(){v.removeObserver(A.CONTROL_BLACK_CURTAIN_APPEAR,this),v.removeObserver(A.SLIDE_SCREEN_UI_DELAY,this),this.cameraCtrl.stopLookAtTargetNode()},o.missionStart=function(){var e=this;t.prototype.missionStart.call(this);var i=this.getConf(),r=new f(i.slide_path[i.slide_path.length-1]),n=new f(r),o=new f(r);o.z-=80,n.z-=160,n.y+=40,this.flyEffect.play(),this.airplaneCtrl.node.position=n,new C(this.airplaneCtrl.node).to(2,{position:o}).call((function(){var t=e.airplaneCtrl.addComponent(N);t.defaultClip=e.airplaneLandImpact,t.play(),e.fireCtrl.playFireAction(),m.play("audio",E.CRASH),e.cameraCtrl.shake()})).to(6,{position:r},{easing:"cubicOut"}).start();var a=new f(0,0,1),s=new f(.866,0,-.5),l=new f(.866,0,.5),u=new f(0,0,0);new C(this.cameraCtrl.node).to(.3,{},{onUpdate:function(t,i){e.cameraCtrl.lookAtNodeOnce(e.airplaneCtrl.node,15,7,a,0)}}).to(2,{},{onUpdate:function(t,i){var r=15+1*i,n=7+-2*i;f.lerp(u,a,s,i),u.normalize(),e.cameraCtrl.lookAtNodeOnce(e.airplaneCtrl.node,r,n,u,0)}}).to(.5,{},{onUpdate:function(t,i){e.cameraCtrl.lookAtNodeOnce(e.airplaneCtrl.node,16,5,s,0)}}).to(1,{},{onUpdate:function(t,i){var r=16+4*i,n=5+5*i;f.lerp(u,s,l,i),u.normalize(),e.cameraCtrl.lookAtNodeOnce(e.airplaneCtrl.node,r,n,u,0)}}).call((function(){v.postNotice(A.CONTROL_WIDGET_SHOW,{index:P.BLACK_CURTAIN}),v.addObserver(A.CONTROL_BLACK_CURTAIN_APPEAR,e.onBlackCurtainAppear,e)})).start(),this.finishPointPos.add(r),this.fireCarPos.add(r),this.waterGunPos.add(r),this.cameraPos.add(r),this.waterGunEdge.minY+=this.waterGunPos.y,this.waterGunEdge.maxY+=this.waterGunPos.y,this.waterGunEdge.minZ+=this.waterGunPos.z,this.waterGunEdge.maxZ+=this.waterGunPos.z,console.log("this.firCarPos",this.fireCarPos)},o.onBlackCurtainAppear=function(){var t=this;v.removeObserver(A.CONTROL_BLACK_CURTAIN_APPEAR,this);var e=this.getConf();this.createSlidePath(e),this.initFireCarDir(e);var i=this._levelIndex%_.length;"night"==_[i]&&(this.fireCarNode.getChildByName("light").active=!0);this.fireCarNode.addComponent(G);var r=this.fireCarNode.getComponent(b);r.registerDriver(),this.scheduleOnce((function(){v.postNotice(A.NAVIGATION_ARROW_TARGET,t.finishPointNode)}),.5),this.cameraCtrl.startLookAtTargetNode(this.fireCarNode,r,4,2.5,new f(0,0,1),-1),v.postNotice(A.CONTROL_WIDGET_SHOW,{index:P.CAR_DRIVE}),v.postNotice(A.CONTROL_WIDGET_SHOW,{index:P.LEVEL_INDEX,levelIndex:this._levelIndex}),v.postNotice(A.CONTROL_WIDGET_SHOW,{index:P.HEARTS}),v.postNotice(A.MAIN_PAGE_SHOW,null),v.postNotice(A.CONTROL_WIDGET_HIDE,{index:P.BLACK_CURTAIN})},o.createSlidePath=function(t){for(var e=t.slide_path,i=e.length,r=0;r<i-1;r++){var n=f.subtract(new f,e[r+1],e[r]),o=n.length()/10;n.normalize();for(var a=e[r],s=new f(10*n.x,10*n.y,10*n.z),l=0;l<o;l++){var u=p(this.arrowGreenPrefab);y.rotationNodeFace(u,new f(0,0,1),n,!0);var c=new f(a.x+s.x*l,a.y+s.y*l,a.z+s.z*l);c.y+=.1,u.position=c,u.parent=this.pathFatherNode}}this.finishPointNode.position=this.finishPointPos,this.finishPointNode.rotation=this.finishPointRotation,this.finishPointNode.getComponent(T).setDelegate(this.onFinishPointTriggered,this)},o.initFireCarDir=function(t){var e=t.slide_path,i=e[0],r=e[1],n=f.subtract(new f,r,i);n.normalize(),this.fireCarNode.position=i,y.rotationNodeFace(this.fireCarNode,new f(0,0,1),n,!0)},o.onFinishPointTriggered=function(){console.log("撞到了"),this.pathFatherNode.destroy(),this.finishPointNode.active=!1,m.play("audio",E.FINISH_POINT),v.postNotice(A.CONTROL_WIDGET_HIDE,{index:P.HEARTS}),v.postNotice(A.CONTROL_WIDGET_HIDE,{index:P.CAR_DRIVE});var t=this.fireCarNode.getComponent(b);t.unregisterDriver(!0),t.rigidBody.isStatic=!0,y.transNode({node:this.fireCarNode,pos:this.fireCarPos,rotation:this.forCarRotation,time:.5}),this.cameraCtrl.stopLookAtTargetNode(),y.transNode({node:this.cameraCtrl.node,pos:this.cameraPos,rotation:this.cameraRotation,time:.5});var e=new f(this.waterGunPos);e.x-=2,this.waterGunNod.position=e,this.waterGunNod.rotation=this.waterGunRotation,new C(this.waterGunNod).delay(.5).to(1,{position:this.waterGunPos},{easing:"backOut"}).call(this.startOutfire.bind(this)).start()},o.startOutfire=function(){var t=h("handNode",this.fireCarNode);this.waterGunCtrl.startFixSelf(t),v.postNotice(A.CONTROL_WIDGET_SHOW,{index:P.SLIDE_SCREE,tip:"灭火"}),v.postNotice(A.CONTROL_WIDGET_SHOW,{index:P.MISSION_PROGRESS,icon:I.FIRE}),v.addObserver(A.SLIDE_SCREEN_UI_DELAY,this.onSlideScreen,this)},o.onSlideScreen=function(t){var e=this.waterGunNod.position;e.z+=t.x/500,e.y+=t.y/500,e.z<this.waterGunEdge.minZ?e.z=this.waterGunEdge.minZ:e.z>this.waterGunEdge.maxZ&&(e.z=this.waterGunEdge.maxZ),e.y<this.waterGunEdge.minY?e.y=this.waterGunEdge.minY:e.y>this.waterGunEdge.maxY&&(e.y=this.waterGunEdge.maxY),this.waterGunNod.position=e,this.waterGunCtrl.playWater()&&(this.schedule(this.updateForOutfireProgress),this.waterGunEffect.play())},o.updateForOutfireProgress=function(t){var e=this.fireCtrl.node.worldPosition,i=this.waterGunCtrl.node.position,r=f.subtract(new f,e,i);if(r.y<=.1){var n=.8-.7*this.fireCtrl.outfireProgress;Math.abs(r.z)<=n&&(this.fireCtrl.outfireProgress+=t/5,v.postNotice(A.MISSION_PROGRESS_BAR,this.fireCtrl.outfireProgress),this.fireCtrl.outfireProgress>=1&&(v.postNotice(A.CONTROL_WIDGET_HIDE,{index:P.SLIDE_SCREE}),v.postNotice(A.CONTROL_WIDGET_HIDE,{index:P.MISSION_PROGRESS}),v.postNotice(A.CONTROL_WIDGET_HIDE,{index:P.LEVEL_INDEX,levelIndex:this._levelIndex}),this.missionFinish(),this.unschedule(this.updateForOutfireProgress),this.waterGunEffect.stop()))}},e}(L)).prototype,"fireCarNode",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=e(j.prototype,"waterGunNod",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=e(j.prototype,"waterGunCtrl",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=e(j.prototype,"waterGunEffect",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=e(j.prototype,"airplaneLandImpact",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=e(j.prototype,"arrowGreenPrefab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=e(j.prototype,"finishPointNode",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt=e(j.prototype,"pathFatherNode",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=e(j.prototype,"firePrefab",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot=e(j.prototype,"flyEffect",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),at=e(j.prototype,"carDriverEffect",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=j))||X));o._RF.pop()}}}));

System.register("chunks:///_virtual/MissionCtrlPushCarMan.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioCtrl.ts","./AudioHelper.ts","./AutoPathFindCtrl.ts","./CameraLookAtCtrl.ts","./Config.ts","./NotificationCenter.ts","./Utils.ts","./MissionCtrlBase.ts"],(function(t){var i,e,n,a,o,s,r,l,u,h,c,p,d,f,C,b,E,O,_,F,g,m;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,r=t.SkeletalAnimation,l=t.Node,u=t.AudioSource,h=t.Vec3,c=t.Quat,p=t.find,d=t.Tween},function(t){f=t.CLIP},function(t){C=t.AudioHelper},function(t){b=t.AutoPathFindCtrl},function(t){E=t.CameraLookAtCtrl},function(t){O=t.CONTROL_WIDGET_NAME},function(t){_=t.NotificationCenter,F=t.NCKeys},function(t){g=t.Utils},function(t){m=t.MissionCtrlBase}],execute:function(){var A,I,N,w,R,L,P,S,T,M,y,v,H,D,k,W,G,x,z;o._RF.push({},"58d7aaqlx1JmIc/Mye3Ccqr","MissionCtrlPushCarMan",void 0);var B=s.ccclass,V=s.property,q=function(t){return t[t.NONE=-1]="NONE",t[t.FIRST_HALF=0]="FIRST_HALF",t[t.WAIT_BAG=1]="WAIT_BAG",t[t.SECOND_HALF=2]="SECOND_HALF",t[t.FINISH=3]="FINISH",t}(q||{});t("MissionCtrlPushCarMan",(A=B("MissionCtrlPushCarMan"),I=V(b),N=V(r),w=V(l),R=V(l),L=V([l]),P=V(l),S=V(u),T=V(u),A((v=i((y=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return i=t.call.apply(t,[this].concat(o))||this,n(i,"pushCarManPathFind",v,a(i)),n(i,"manAni",H,a(i)),n(i,"bag2",D,a(i)),n(i,"bag1",k,a(i)),n(i,"particleMarks",W,a(i)),n(i,"moveCar",G,a(i)),n(i,"walkEffect",x,a(i)),n(i,"bagEffect",z,a(i)),i.manInfo={start:new h(60.544,0,38.509),middle:new h(58.194,0,38.509),end:new h(31.088,0,38.509)},i.bag2Info={start:{pos:new h(57.573,.625,37.253),rot:c.fromEuler(new c,0,180,0)},end:{pos:new h(57.109,.405,38.608),rot:c.fromEuler(new c,-86.576,180,0)}},i.bag1Info={start:{pos:new h(56.775,.529,37.169),rot:c.fromEuler(new c,0,-180.449,-90)},end:{pos:new h(57.084,.668,38.527),rot:c.fromEuler(new c,-90,-270.449,-1.839)}},i.state=q.NONE,i}e(i,t);var o=i.prototype;return o.start=function(){this.scheduleOnce((function(){_.postNotice(F.MAP_LOADED_FINISH,null)}),.5)},o.onDestroy=function(){_.removeObserver(F.CONTROL_FORCE_PRESS,this),_.removeObserver(F.CONTROL_FORCE_RELEASE,this),this.cameraCtrl.stopLookAtTargetNode()},o.missionStart=function(){this.pushCarManPathFind.init([{position:this.manInfo.start,scale:null,rotation:null,speed:1},{position:this.manInfo.middle,scale:null,rotation:null,speed:1.5}]),this.manAni.play("idle"),this.bag1.position=this.bag1Info.start.pos,this.bag1.rotation=this.bag1Info.start.rot,this.bag2.position=this.bag2Info.start.pos,this.bag2.rotation=this.bag2Info.start.rot;var t=p("Main Camera");this.cameraCtrl=t.getComponent(E),this.cameraCtrl.startLookAtTargetNode(this.manAni.node,null,5,2.5,new h(0,0,1),2),this.state=q.FIRST_HALF,_.postNotice(F.MAIN_PAGE_SHOW,null),_.postNotice(F.CONTROL_WIDGET_SHOW,{index:O.LEVEL_INDEX,levelIndex:this._levelIndex}),_.postNotice(F.CONTROL_WIDGET_SHOW,{index:O.HEARTS}),_.postNotice(F.CONTROL_WIDGET_SHOW,{index:O.FORCE_PRESS,tip:"前进"}),_.addObserver(F.CONTROL_FORCE_PRESS,this.onForcePress,this),_.addObserver(F.CONTROL_FORCE_RELEASE,this.onForceRlease,this)},o.onForcePress=function(){this.state!=q.FIRST_HALF&&this.state!=q.SECOND_HALF||(this.schedule(this.updateForManPos),this.manAni.play("walk"),this.walkEffect.play())},o.onForceRlease=function(){this.state!=q.FIRST_HALF&&this.state!=q.SECOND_HALF||(this.unschedule(this.updateForManPos),this.manAni.play("idle"),this.walkEffect.stop())},o.updateForManPos=function(t){this.state==q.FIRST_HALF?(this.pushCarManPathFind.updatePath(t),this.pushCarManPathFind.isFinished&&(this.unschedule(this.updateForManPos),this.manAni.play("idle"),this.state=q.WAIT_BAG,this.startGetBag(),this.walkEffect.stop())):this.state==q.SECOND_HALF&&(this.pushCarManPathFind.updatePath(t),this.pushCarManPathFind.isFinished&&(this.unschedule(this.updateForManPos),this.manAni.play("idle"),this.state=q.FINISH,this.walkEffect.stop(),this.over()))},o.startGetBag=function(){var t=this;g.transNode({node:this.bag2,pos:this.bag2Info.end.pos,rotation:this.bag2Info.end.rot,time:.5,delay:.3,finishCb:function(){t.bagEffect.play();var i=new h(t.bag2.worldPosition),e=new c(t.bag2.worldRotation);t.bag2.parent=t.manAni.node,t.bag2.worldPosition=i,t.bag2.worldRotation=e}}),g.transNode({node:this.bag1,pos:this.bag1Info.end.pos,rotation:this.bag1Info.end.rot,time:.5,delay:.8,finishCb:function(){t.bagEffect.play();var i=new h(t.bag1.worldPosition),e=new c(t.bag1.worldRotation);t.bag1.parent=t.manAni.node,t.bag1.worldPosition=i,t.bag1.worldRotation=e,t.pushCarManPathFind.init([{position:t.manInfo.middle,scale:null,rotation:null,speed:1.5},{position:t.manInfo.end,scale:null,rotation:null,speed:1.5}]),t.state=q.SECOND_HALF,new d(t.moveCar).to(5,{position:new h(52.77,.606,28.725)}).start()}})},o.over=function(){var t=this;console.log("游戏结束了");var i=new h(.4,.4,.4);this.playParticle(this.particleMarks[0].worldPosition,i),this.playParticle(this.particleMarks[1].worldPosition,i),_.removeObserver(F.CONTROL_FORCE_PRESS,this),_.removeObserver(F.CONTROL_FORCE_RELEASE,this),C.play("audio",f.COLOR_SMOKE),this.scheduleOnce((function(){_.postNotice(F.CONTROL_WIDGET_HIDE,{index:O.FORCE_PRESS}),_.postNotice(F.CONTROL_WIDGET_HIDE,{index:O.HEARTS}),_.postNotice(F.CONTROL_WIDGET_HIDE,{index:O.LEVEL_INDEX}),t.missionFinish()}),1)},i}(m)).prototype,"pushCarManPathFind",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=i(y.prototype,"manAni",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=i(y.prototype,"bag2",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=i(y.prototype,"bag1",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=i(y.prototype,"particleMarks",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=i(y.prototype,"moveCar",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=i(y.prototype,"walkEffect",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=i(y.prototype,"bagEffect",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=y))||M));o._RF.pop()}}}));

System.register("chunks:///_virtual/MissionCtrlRockerFly.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CameraLookAtCtrl.ts","./Config.ts","./NotificationCenter.ts","./Utils.ts","./MissionCtrlFlightCabin.ts"],(function(t){var e,i,n,r,s,a,o,c,l,h,f,C;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator,r=t.find,s=t.Vec3,a=t.Quat},function(t){o=t.CameraLookAtCtrl},function(t){c=t.CONTROL_WIDGET_NAME},function(t){l=t.NotificationCenter,h=t.NCKeys},function(t){f=t.Utils},function(t){C=t.MissionCtrlFlightCabin}],execute:function(){var p;i._RF.push({},"de015feQEJJgLsU+DkCn/HK","MissionCtrlRockerFly",void 0);var _=n.ccclass;n.property,t("MissionCtrlRockerFly",_("MissionCtrlRockerFly")(p=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this).airplaneStartPos=new s(55,0,265),e.cameraInitPos=new s(40,2,250),e.cameraInitInfo={hDistance:18,vDistance:2,front:new s(-.707,0,-.707),hOffset:0},e.cameraStartInfo={hDistance:30,vDistance:10,front:new s(-.258,0,.966),hOffset:0},e}e(i,t);var n=i.prototype;return n.onDestroy=function(){l.removeObserver(h.CONTROL_FORCE_FIRST_PRESS,this),l.removeObserver(h.FLIGHT_CABIN_WRENCH_PUSH,this),this.cameraCtrl.stopLookAtTargetNode()},n.missionStart=function(){var t=r("Main Camera");t.eulerAngles=new s(-18,0,0),this.cameraCtrl=t.getComponent(o),t.position=this.cameraInitPos,this.airplaneCtrl.setWeahter(this._levelIndex),this.airplaneCtrl.node.position=this.airplaneStartPos,this.airplaneCtrl.node.eulerAngles=new s(0,180,0),this.schedule(this.updateForCameraPos),this.cameraCtrl.startLookAtTargetNode(this.airplaneCtrl.node,null,this.cameraInitInfo.hDistance,this.cameraInitInfo.vDistance,this.cameraInitInfo.front,this.cameraInitInfo.hOffset),l.postNotice(h.CONTROL_WIDGET_SHOW,{index:c.FORCE_PRESS,tip:"启动飞机"}),l.postNotice(h.CONTROL_WIDGET_SHOW,{index:c.LEVEL_INDEX,levelIndex:this._levelIndex}),l.postNotice(h.MAIN_PAGE_SHOW,null),l.addObserver(h.CONTROL_FORCE_FIRST_PRESS,this.onForceFirstPress,this)},n.onForceFirstPress=function(){this.onEnginerStart(),l.postNotice(h.CONTROL_WIDGET_HIDE,{index:c.FORCE_PRESS}),l.postNotice(h.CONTROL_WIDGET_SHOW,{index:c.ROCKER_FLY}),l.removeObserver(h.CONTROL_FORCE_FIRST_PRESS,this),l.addObserver(h.FLIGHT_CABIN_WRENCH_PUSH,this.onWrenchPush,this)},n.onWrenchPush=function(t){this._airplaneRotationX=-this._airplaneRotationMax*t,r("body",this.airplaneCtrl.node).eulerAngles=new s(this._airplaneRotationX,0,0)},n.updateForAirplanePos=function(t){this._speed+=t*this._acc,this._speed>=this._speedMax&&(this._speed=this._speedMax),l.postNotice(h.FLIGHT_CABIN_SPEED,this._speed);var e=new s(0,0,1);(e=s.transformQuat(new s,e,a.fromEuler(new a,this._airplaneRotationX,180,0))).normalize();var i=new s(this.airplaneCtrl.node.position);(i=s.scaleAndAdd(new s,i,e,this._speed*t)).y<0&&(i.y=0),this.airplaneCtrl.node.position=i,l.postNotice(h.FLIGHT_CABIN_ALTITUDE,i.y),this.airplaneCtrl.node.position.z<-50&&this.over()},n.updateForCameraPos=function(){var t=this;this.airplaneCtrl.node.position.y>=8&&(this.unschedule(this.updateForCameraPos),f.slerpCamera(this.cameraCtrl,this.airplaneCtrl.node,this.cameraInitInfo.hDistance,this.cameraInitInfo.vDistance,this.cameraInitInfo.front,this.cameraInitInfo.hOffset,this.cameraStartInfo.hDistance,this.cameraStartInfo.vDistance,this.cameraStartInfo.front,this.cameraStartInfo.hOffset,.5,(function(){t.cameraCtrl.startLookAtTargetNode(t.airplaneCtrl.node,null,t.cameraStartInfo.hDistance,t.cameraStartInfo.vDistance,t.cameraStartInfo.front,t.cameraStartInfo.hOffset)})))},n.updateForCameraFollow=function(){var t=new s(this.followOffset);t.add(this.airplaneCtrl.node.position),this.cameraCtrl.node.position=t},n.over=function(){this.unschedule(this.updateForAirplanePos),l.postNotice(h.CONTROL_WIDGET_HIDE,{index:c.ROCKER_FLY}),l.postNotice(h.CONTROL_WIDGET_HIDE,{index:c.LEVEL_INDEX}),l.removeObserver(h.FLIGHT_CABIN_WRENCH_PUSH,this),this.missionFinish()},i}(C))||p);i._RF.pop()}}}));

System.register("chunks:///_virtual/MissionCtrlSecurityCheck.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./NotificationCenter.ts","./MissionCtrlBase.ts","./SecurityCheckPassengerCtrl.ts"],(function(e){var t,i,n,a,r,o,s,l,c,f,u,h,p,g,y,d,C,b,E;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,s=e.Node,l=e.MeshRenderer,c=e.AudioSource,f=e.Vec3,u=e.Quat,h=e.Vec4,p=e.find,g=e.Tween},function(e){y=e.CONTROL_WIDGET_NAME},function(e){d=e.NotificationCenter,C=e.NCKeys},function(e){b=e.MissionCtrlBase},function(e){E=e.SecurityCheckPassengerCtrl}],execute:function(){var m,w,N,v,I,_,O,S,M,R,k,T,D,L,z,H,x,A,P,B,W;r._RF.push({},"3962cWk2DpBIqNCkVTM9qOq","MissionCtrlSecurityCheck",void 0);var G=o.ccclass,V=o.property;e("MissionCtrlSecurityCheck",(m=G("MissionCtrlSecurityCheck"),w=V([s]),N=V([E]),v=V(s),I=V(l),_=V(c),O=V(c),S=V(c),M=V(c),R=V(c),m((D=t((T=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,n(t,"bags",D,a(t)),n(t,"passenegers",L,a(t)),n(t,"xRayNode",z,a(t)),t.cameraInfo={pos:new f(21.125,1.789,35.179),rot:u.fromEuler(new u,-10.845,-90,0)},n(t,"lineMeshRenderer",H,a(t)),t.lineOffset=new h(1,1,0,0),n(t,"safeEffect",x,a(t)),n(t,"dangeEffect",A,a(t)),n(t,"noEffect",P,a(t)),n(t,"yesEffect",B,a(t)),n(t,"machineEffect",W,a(t)),t}i(t,e);var r=t.prototype;return r.start=function(){this.transportLineMat=this.lineMeshRenderer.material,this.scheduleOnce((function(){d.postNotice(C.MAP_LOADED_FINISH,null)}),.5)},r.onDestroy=function(){d.removeObserver(C.SECURITY_CHECK_CHOICE,this)},r.missionStart=function(){d.postNotice(C.MAIN_PAGE_SHOW,null),d.addObserver(C.SECURITY_CHECK_CHOICE,this.onSecurityCheckChoice,this),d.postNotice(C.CONTROL_WIDGET_SHOW,{index:y.LEVEL_INDEX,levelIndex:this._levelIndex});var e=p("Main Camera");e.position=this.cameraInfo.pos,e.rotation=this.cameraInfo.rot,this.checkRemaining()},r.checkRemaining=function(){var e=this;if(0==this.bags.length)d.postNotice(C.CONTROL_WIDGET_HIDE,{index:y.LEVEL_INDEX}),this.missionFinish();else{for(var t=0;t<this.bags.length;t++){var i=new f(0,0,-2*t-.5);new g(this.bags[t]).to(1,{position:i}).start()}for(var n=function(){var t=e.passenegers[a],i=new f(25+2*a,0,36.5);t.ani.play("walk"),t.ani.getState("walk").setTime(Math.random()),new g(t.node).to(1,{position:i}).call((function(){t.ani.play("idle"),t.ani.getState("idle").setTime(Math.random())})).start()},a=0;a<this.passenegers.length;a++)n();this.machineEffect.play(),new g(this.node).to(1,{},{onUpdate:function(){e.lineOffset.z-=.0025,e.transportLineMat.setProperty("tilingOffset",e.lineOffset)}}).call((function(){e.machineEffect.stop(),e.xRayNode.active=!0,e.bagShowInside(e.bags[0]),e.bags.length%2==0?e.dangeEffect.play():e.safeEffect.play(),d.postNotice(C.CONTROL_WIDGET_SHOW,{index:y.SECURITY_CHECK})})).start()}},r.bagShowInside=function(e){e.getChildByName("in").active=!0,e.getChildByName("out").active=!1},r.bagShowOutside=function(e){e.getChildByName("in").active=!1,e.getChildByName("out").active=!0},r.onSecurityCheckChoice=function(e){var t=this;d.postNotice(C.MAIN_PAGE_HIDE,null);var i=this.passenegers.shift(),n=this.bags.shift();e?(i.ani.play("happy"),this.yesEffect.play()):(i.replacePrisoneMat(),i.ani.play("sad"),this.noEffect.play()),this.scheduleOnce((function(){t.xRayNode.active=!1,t.bagShowOutside(n);var e=new g(n);e.to(.15,{position:new f(0,0,1)}).to(.5,{position:new f(3,0,1)}).start(),i.ani.play("walk"),i.node.eulerAngles=new f(0,0,0),(e=new g(i.node)).by(.8,{position:new f(0,0,2)}).start(),t.checkRemaining()}),2)},t}(b)).prototype,"bags",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=t(T.prototype,"passenegers",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=t(T.prototype,"xRayNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(T.prototype,"lineMeshRenderer",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(T.prototype,"safeEffect",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(T.prototype,"dangeEffect",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(T.prototype,"noEffect",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(T.prototype,"yesEffect",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(T.prototype,"machineEffect",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=T))||k));r._RF.pop()}}}));

System.register("chunks:///_virtual/MissionCtrlTransportBag.ts",["./rollupPluginModLoBabelHelpers.js","cc","./bag_car_config.ts","./AudioCtrl.ts","./AudioHelper.ts","./Config.ts","./DriveableCollideCtrl.ts","./LocalData.ts","./NotificationCenter.ts","./Utils.ts","./AirplaneCtrl.ts","./BagCarCtrl.ts","./FinishPointCtrl.ts","./MissionCtrlBase.ts","./TransportCarCtrl.ts"],(function(r){var a,t,e,o,i,n,s,l,C,c,p,h,d,g,f,u,b,_,O,N,E,v,R,m,w,T,I,S,D;return{setters:[function(r){a=r.applyDecoratedDescriptor,t=r.inheritsLoose,e=r.initializerDefineProperty,o=r.assertThisInitialized},function(r){i=r.cclegacy,n=r._decorator,s=r.Node,l=r.Prefab,C=r.AudioSource,c=r.Vec3,p=r.Quat,h=r.find,d=r.instantiate,g=r.Tween},function(r){f=r.bag_car_config},function(r){u=r.CLIP},function(r){b=r.AudioHelper},function(r){_=r.Config,O=r.CONTROL_WIDGET_NAME},function(r){N=r.DriveableCollideCtrl},function(r){E=r.LocalData},function(r){v=r.NotificationCenter,R=r.NCKeys},function(r){m=r.Utils},function(r){w=r.AirplaneCtrl},function(r){T=r.BagCarCtrl},function(r){I=r.FinishPointCtrl},function(r){S=r.MissionCtrlBase},function(r){D=r.TransportCarCtrl}],execute:function(){var A,L,P,y,F,B,W,x,G,H,M,z,V;i._RF.push({},"8ee15v91btEFLYetC/g7yVh","MissionCtrlTransportBag",void 0);var U=n.ccclass,Q=n.property;r("MissionCtrlTransportBag",(A=U("MissionCtrlTransportBag"),L=Q(D),P=Q(s),y=Q(l),F=Q(C),B=Q(C),A((G=a((x=function(r){function a(){for(var a,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return(a=r.call.apply(r,[this].concat(i))||this).cameraInitInfo={pos:new c(44.804,7.884,193.221),rotation:p.fromEuler(new p,-29.391,148.369,-4.893)},a.cameraForceInfo={pos:new c(34.636,5.528,198.552),rotation:p.fromEuler(new p,-33.694,209.716,0)},a.airplaneInfo={pos:new c(31,0,214),rotation:p.fromEuler(new p,0,-90,0),scale:new c(4.317,4.317,4.317)},a.transportCarInfo={pos:new c(38.5,0,208.8),rotation:p.fromEuler(new p,0,0,0)},a.bagCarInfo={pos:new c(40.2,0,204.5),rotation:p.fromEuler(new p,0,90,0),followDistance:10,followHeight:6},e(a,"transportCarCtrl",G,o(a)),a.bagCarCarriageMoving=!1,a.bagInCarriage=0,a.bagCarriageNum=2,a.forcePressing=!1,a.eachBagInCarriage=20,a.curBagInCarriage=0,a._bagCarAcc=0,a._bagCarSpeed=0,a._bagCarSpeedMax=10,a._bagCarRad=0,a._bagCarGearsDir=1,e(a,"finishPointNode",H,o(a)),e(a,"arrowGreenPrefab",M,o(a)),e(a,"transportEffect",z,o(a)),e(a,"carDriverEffect",V,o(a)),a}t(a,r);var i=a.prototype;return i.init=function(a){var t=this;r.prototype.init.call(this,a),this.cameraNode=h("Main Camera");var e="prefab/3d/airplane/airplane"+E.curAirplaneIndex;m.loadResWithCorrection(e,l,(function(r,a){var e=d(a);e.parent=t.node,e.scale=new c(3,3,3),e.eulerAngles=new c(0,-90,0),t.airplaneNode=e,h("bag_pile",t.node).parent=t.airplaneNode,t.airplaneNode.getComponent(w).rigidBody.isStatic=!0,t._loadBagCar()}))},i._loadBagCar=function(){var r=this,a=Math.floor(this._levelIndex/_.different_play_style);a%=f.length;var t=f[a];this.bagCarriageNum=t.carriage_num;var e="prefab/3d/bagCar/bag_car"+this.bagCarriageNum;m.loadResWithCorrection(e,l,(function(a,t){var e=d(t);e.parent=r.node,r.bagCarNode=e,r.bagCarCtrl=e.getComponent(T),r.bagCarCtrl.setWeahter(r._levelIndex),v.postNotice(R.MAP_LOADED_FINISH,null)}))},i.onDestroy=function(){v.removeObserver(R.CONTROL_FORCE_PRESS,this),v.removeObserver(R.CONTROL_FORCE_RELEASE,this),v.removeObserver(R.TRANSPORT_CAR_BAG_DROPED,this),v.removeObserver(R.CONTROL_WHEEL_PRESS,this),v.removeObserver(R.CONTROL_WHEEL_RELEASE,this),v.removeObserver(R.CONTROL_WHEEL_ROTATION,this),v.removeObserver(R.CONTROL_GEARS_TURN,this)},i.missionStart=function(){var a=this;r.prototype.missionStart.call(this),this.cameraNode.position=this.cameraInitInfo.pos,this.cameraNode.rotation=this.cameraInitInfo.rotation,this.airplaneNode.position=this.airplaneInfo.pos,this.airplaneNode.rotation=this.airplaneInfo.rotation,this.airplaneNode.scale=this.airplaneInfo.scale;var t=new c(this.transportCarInfo.pos);t.z-=10,this.transportCarCtrl.node.position=t,this.transportCarCtrl.node.rotation=this.transportCarInfo.rotation;var e=new g(this.transportCarCtrl.node);e.to(.5,{position:this.transportCarInfo.pos},{easing:"sineOut"}).start();var o=h("body/beg_door",this.airplaneNode);(e=new g(o)).to(.7,{eulerAngles:new c(-130,-90,0)}).call((function(){a.transportEffect.play(),a.transportCarCtrl.prepearTransport((function(){a.startForce(),a.transportEffect.stop()}))})).start(),this.carDriverEffect.play();var i=new c(this.bagCarInfo.pos);i.x-=20,this.bagCarCtrl.setStatic(),this.bagCarNode.position=i,this.bagCarNode.rotation=this.bagCarInfo.rotation,(e=new g(this.bagCarNode)).delay(.1).to(1,{position:this.bagCarInfo.pos},{easing:"sineOut"}).call((function(){a.carDriverEffect.stop(),a.transCameraToForce()})).start()},i.transCameraToForce=function(){var r=this,a=new p;new g(this.cameraNode).to(.5,{position:this.cameraForceInfo.pos},{onUpdate:function(t,e){p.slerp(a,r.cameraInitInfo.rotation,r.cameraForceInfo.rotation,e),r.cameraNode.rotation=a}}).start()},i.startForce=function(){v.postNotice(R.CONTROL_WIDGET_SHOW,{index:O.LEVEL_INDEX,levelIndex:this._levelIndex}),v.postNotice(R.MAIN_PAGE_SHOW,null),v.postNotice(R.CONTROL_WIDGET_SHOW,{index:O.FORCE_PRESS,tip:"接收行李"}),v.addObserver(R.CONTROL_FORCE_PRESS,this.onForcePress,this),v.addObserver(R.CONTROL_FORCE_RELEASE,this.onForceRelease,this),v.addObserver(R.TRANSPORT_CAR_BAG_DROPED,this.onTransportCarBagDroped,this)},i.onForcePress=function(){this.transportEffect.play(),0==this.bagCarCarriageMoving&&this.transportCarCtrl.startTransport(),this.forcePressing=!0},i.onForceRelease=function(){this.transportEffect.stop(),this.transportCarCtrl.stopTransport(),this.forcePressing=!1},i.onTransportCarBagDroped=function(){var r=this;if(this.curBagInCarriage++,this.curBagInCarriage>=this.eachBagInCarriage){this.curBagInCarriage=0,this.bagCarriageNum--,this.transportCarCtrl.stopTransport();var a=this.transportCarCtrl.dropedBagsNode;if(this.bagCarCtrl.tryHoldBag(a,this.bagCarriageNum),this.bagCarriageNum>0){this.bagCarCarriageMoving=!0;var t=new c(this.bagCarNode.position);t.x+=2.6,new g(this.bagCarNode).to(1,{position:t}).call((function(){r.bagCarCarriageMoving=!1,r.forcePressing&&r.transportCarCtrl.startTransport()})).start()}else v.removeObserver(R.CONTROL_FORCE_PRESS,this),v.removeObserver(R.CONTROL_FORCE_RELEASE,this),v.removeObserver(R.TRANSPORT_CAR_BAG_DROPED,this),v.postNotice(R.CONTROL_WIDGET_HIDE,{index:O.FORCE_PRESS}),this.transCameraToDriver()}},i.transCameraToDriver=function(){var r=this;this.transportEffect.stop();var a=new c(this.bagCarNode.position);a.x+=2;var t=this.cameraNode.position,e=this.cameraNode.rotation,o=new c,i=new p;new g(this.bagCarNode).to(1,{position:a},{onUpdate:function(a,n){var s=r.bagCarInfo.followDistance,l=r.bagCarInfo.followHeight,C=new c(0,0,1);C.normalize();var h=(C=c.transformQuat(new c,C,r.bagCarNode.rotation)).multiplyScalar(-s).add(r.bagCarNode.position),d=new c(0,1,0);d=c.transformQuat(new c,d,r.bagCarNode.rotation);var g=c.scaleAndAdd(new c,h,d,l),f=c.subtract(new c,r.bagCarNode.position,g);f.normalize(),f.multiplyScalar(-1);var u=p.fromViewUp(new p,f,d);c.lerp(o,t,g,n),p.slerp(i,e,u,n),r.cameraNode.position=o,r.cameraNode.rotation=i}}).call((function(){r.bagCarCtrl.setDynamic(),r.bagCarCtrl.addComponent(N),r.createSlidePath(),v.postNotice(R.CONTROL_WIDGET_SHOW,{index:O.CAR_DRIVE}),r.schedule(r.updateForCameraFollowBagCar),r.schedule(r.updateForBagCarPos),v.addObserver(R.CONTROL_WHEEL_PRESS,r.onWheelPress,r),v.addObserver(R.CONTROL_WHEEL_RELEASE,r.onWheelRelease,r),v.addObserver(R.CONTROL_WHEEL_ROTATION,r.onWheelRotation,r),v.addObserver(R.CONTROL_GEARS_TURN,r.onGearsDir,r),r.scheduleOnce((function(){v.postNotice(R.NAVIGATION_ARROW_TARGET,r.finishPointNode)}),.5),v.postNotice(R.CONTROL_WIDGET_SHOW,{index:O.HEARTS})})).start()},i.createSlidePath=function(){var r=Math.floor(this._levelIndex/_.different_play_style);r%=f.length;for(var a=f[r].slide_path,t=a.length,e=0;e<t-1;e++){var o=c.subtract(new c,a[e+1],a[e]),i=o.length()/10;o.normalize();for(var n=a[e],s=new c(10*o.x,10*o.y,10*o.z),l=0;l<i;l++){var C=d(this.arrowGreenPrefab);m.rotationNodeFace(C,new c(0,0,1),o,!0);var p=new c(n.x+s.x*l,n.y+s.y*l,n.z+s.z*l);p.y+=.1,C.position=p,C.parent=this.node}}var h=a[t-2],g=a[t-1],u=c.subtract(new c,g,h);u.normalize(),this.finishPointNode.position=new c(g.x,g.y+.1,g.z),m.rotationNodeFace(this.finishPointNode,new c(0,0,-1),u,!0),this.finishPointNode.getComponent(I).setDelegate(this.onFinishPointTriggered,this)},i.onFinishPointTriggered=function(r){var a=this;console.log("游戏完成了"),v.postNotice(R.CONTROL_WIDGET_HIDE,{index:O.CAR_DRIVE}),v.postNotice(R.CONTROL_WIDGET_HIDE,{index:O.HEARTS}),this.playParticle(r.particleMarks[0].worldPosition),this.playParticle(r.particleMarks[1].worldPosition),b.play("audio",u.COLOR_SMOKE),this._bagCarAcc=-4,this._bagCarRad=0,this.scheduleOnce((function(){v.postNotice(R.CONTROL_WIDGET_HIDE,{index:O.LEVEL_INDEX}),a.missionFinish()}),1)},i.onWheelPress=function(){this._bagCarAcc=5,this.carDriverEffect.play()},i.onWheelRelease=function(){this._bagCarAcc=-4},i.onWheelRotation=function(r){this._bagCarRad=r/100},i.onGearsDir=function(r){this._bagCarGearsDir=r,this._bagCarSpeed=0},i.updateForCameraFollowBagCar=function(r){var a=this.bagCarInfo.followDistance,t=this.bagCarInfo.followHeight,e=new c(0,0,1);(e=c.rotateY(new c,e,c.ZERO,-this._bagCarRad/5)).normalize();var o=(e=c.transformQuat(new c,e,this.bagCarCtrl.node.rotation)).multiplyScalar(-a).add(this.bagCarCtrl.node.position),i=new c(0,1,0);i=c.transformQuat(new c,i,this.bagCarCtrl.node.rotation);var n=c.scaleAndAdd(new c,o,i,t);this.cameraNode.position=n;var s=c.subtract(new c,this.bagCarCtrl.node.position,n);s.normalize(),s.multiplyScalar(-1);var l=p.fromViewUp(new p,s,i);this.cameraNode.rotation=l},i.updateForBagCarPos=function(r){if(this._bagCarSpeed+=this._bagCarAcc*r,this._bagCarSpeed<0)return this._bagCarSpeed=0,this.carDriverEffect.stop(),void this.bagCarCtrl.rigidBody.setLinearVelocity(c.ZERO);this._bagCarSpeed>this._bagCarSpeedMax&&(this._bagCarSpeed=this._bagCarSpeedMax);var a=p.rotateY(new p,this.bagCarCtrl.node.rotation,this._bagCarRad*r);this.bagCarCtrl.node.rotation=a;var t=new c(0,0,this._bagCarSpeed*this._bagCarGearsDir);t=c.transformQuat(new c,t,a),this.bagCarCtrl.rigidBody.setLinearVelocity(t)},a}(S)).prototype,"transportCarCtrl",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=a(x.prototype,"finishPointNode",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=a(x.prototype,"arrowGreenPrefab",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=a(x.prototype,"transportEffect",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=a(x.prototype,"carDriverEffect",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=x))||W));i._RF.pop()}}}));

System.register("chunks:///_virtual/MissonCtrlAirplaneSlide.ts",["./rollupPluginModLoBabelHelpers.js","cc","./airplane_slide_config.ts","./AudioCtrl.ts","./AudioHelper.ts","./Config.ts","./LocalData.ts","./NotificationCenter.ts","./Utils.ts","./AirplaneCtrl.ts","./FinishPointCtrl.ts","./MissionCtrlBase.ts"],(function(e){var i,t,n,a,r,o,l,s,p,c,d,u,h,f,_,O,A,w,v,C,N,S,E,R,m,b,y;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.createForOfIteratorHelperLoose},function(e){o=e.cclegacy,l=e._decorator,s=e.Prefab,p=e.Node,c=e.AudioSource,d=e.Vec3,u=e.Quat,h=e.find,f=e.instantiate,_=e.Tween},function(e){O=e.airplane_slide_config},function(e){A=e.CLIP},function(e){w=e.AudioHelper},function(e){v=e.Config,C=e.CONTROL_WIDGET_NAME},function(e){N=e.LocalData},function(e){S=e.NotificationCenter,E=e.NCKeys},function(e){R=e.Utils},function(e){m=e.AirplaneCtrl},function(e){b=e.FinishPointCtrl},function(e){y=e.MissionCtrlBase}],execute:function(){var L,P,I,T,g,D,W,M,x,z,F;o._RF.push({},"a71f8ScVYZMxISvqwJdSBym","MissonCtrlAirplaneSlide",void 0);var G=l.ccclass,H=l.property;e("MissonCtrlAirplaneSlide",(L=G("MissonCtrlAirplaneSlide"),P=H(s),I=H(p),T=H(s),g=H(c),L((M=i((W=function(e){function i(){for(var i,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return i=e.call.apply(e,[this].concat(r))||this,n(i,"arrowGreenPrefab",M,a(i)),n(i,"finishPointNode",x,a(i)),n(i,"airplaneObstPrefab",z,a(i)),n(i,"slideAudioSource",F,a(i)),i.airplaneSpeed=5,i.cameraInitPos=new d(18,7.2,0),i.cameraInitRotation=u.fromEuler(new u,-13,90,0),i._airplaneAcc=0,i._airplaneSpeed=0,i._airplaneSpeedMax=10,i._airplaneRad=0,i._airplaneGearsDir=1,i}t(i,e);var o=i.prototype;return o.onDestroy=function(){S.removeObserver(E.CONTROL_WHEEL_PRESS,this),S.removeObserver(E.CONTROL_WHEEL_RELEASE,this),S.removeObserver(E.CONTROL_WHEEL_ROTATION,this),S.removeObserver(E.CONTROL_GEARS_TURN,this)},o.init=function(i){e.prototype.init.call(this,i);var t=Math.floor(i/v.different_play_style);t%=O.length;var n=O[t];this.cameraNode=h("Main Camera"),this.createSlidePath(n),this.createAirplaneObst(n),this.createAirplane(n)},o.createSlidePath=function(e){for(var i=e.slide_path,t=i.length,n=0;n<t-1;n++){var a=d.subtract(new d,i[n+1],i[n]),r=a.length()/10;a.normalize();for(var o=i[n],l=new d(10*a.x,10*a.y,10*a.z),s=0;s<r;s++){var p=f(this.arrowGreenPrefab);R.rotationNodeFace(p,new d(0,0,1),a,!0);var c=new d(o.x+l.x*s,o.y+l.y*s,o.z+l.z*s);c.y+=.1,p.position=c,p.parent=this.node}}var u=i[t-2],h=i[t-1],_=d.subtract(new d,h,u);_.normalize(),this.finishPointNode.position=new d(h.x,h.y+.1,h.z),R.rotationNodeFace(this.finishPointNode,new d(0,0,-1),_,!0),this.finishPointNode.getComponent(b).setDelegate(this.onFinishPointTriggered,this)},o.createAirplane=function(e){var i=this,t="prefab/3d/airplane/airplane"+N.curAirplaneIndex;R.loadResWithCorrection(t,s,(function(e,t){var n=f(t);n.parent=i.node,i.airplaneCtrl=n.getComponent(m),i.airplaneCtrl.setWeahter(i._levelIndex),S.postNotice(E.MAP_LOADED_FINISH,i)}))},o.createAirplaneObst=function(e){for(var i,t=[new d(0,180,0),new d(0,0,0),new d(0,-90,0),new d(0,90,0)],n=r(e.obst);!(i=n()).done;){var a=i.value,o=f(this.airplaneObstPrefab);o.position=new d(a.x,a.y,a.z),o.eulerAngles=t[a.w],o.parent=this.node}},o.missionStart=function(){var i=this;e.prototype.missionStart.call(this);var t=Math.floor(this._levelIndex/v.different_play_style);t%=O.length;var n=O[t].slide_path,a=n[0],r=n[1],o=d.subtract(new d,r,a);o.normalize(),this.airplaneCtrl.node.position=d.scaleAndAdd(new d,a,o,-10),R.rotationNodeFace(this.airplaneCtrl.node,new d(0,0,1),o,!0),this.slideAudioSource.play(),new _(this.airplaneCtrl.node).to(3,{position:new d(a)},{onUpdate:function(e,t){var n=18+-1.5*t,a=d.lerp(new d,new d(-.5,0,-.866),new d(0,0,1),t);a.normalize();var r=(a=d.transformQuat(new d,a,i.airplaneCtrl.node.rotation)).multiplyScalar(-n).add(i.airplaneCtrl.node.position),o=new d(0,1,0);o=d.transformQuat(new d,o,i.airplaneCtrl.node.rotation);var l=d.scaleAndAdd(new d,r,o,6.8);i.cameraNode.position=l;var s=d.subtract(new d,i.airplaneCtrl.node.position,l);s.normalize(),s.multiplyScalar(-1);var p=u.fromViewUp(new u,s,o);i.cameraNode.rotation=p},easing:"cubicOut"}).call((function(){S.postNotice(E.CONTROL_WIDGET_SHOW,{index:C.LEVEL_INDEX,levelIndex:i._levelIndex}),S.postNotice(E.MAIN_PAGE_SHOW,null),S.postNotice(E.CONTROL_WIDGET_SHOW,{index:C.AIRPLANE_DRIVE}),i.schedule(i.updateForCameraFollowAirplane),i.schedule(i.updateForAirplanePos),S.addObserver(E.CONTROL_WHEEL_PRESS,i.onWheelPress,i),S.addObserver(E.CONTROL_WHEEL_RELEASE,i.onWheelRelease,i),S.addObserver(E.CONTROL_WHEEL_ROTATION,i.onWheelRotation,i),S.addObserver(E.CONTROL_GEARS_TURN,i.onGearsDir,i),i.scheduleOnce((function(){S.postNotice(E.NAVIGATION_ARROW_TARGET,i.finishPointNode)}),.5),i.slideAudioSource.stop()})).start()},o.updateForCameraFollowAirplane=function(){var e=new d(0,0,1);(e=d.rotateY(new d,e,d.ZERO,-this._airplaneRad/15)).normalize();var i=(e=d.transformQuat(new d,e,this.airplaneCtrl.node.rotation)).multiplyScalar(-16.5).add(this.airplaneCtrl.node.position),t=new d(0,1,0);t=d.transformQuat(new d,t,this.airplaneCtrl.node.rotation);var n=d.scaleAndAdd(new d,i,t,6.8);this.cameraNode.position=n;var a=d.subtract(new d,this.airplaneCtrl.node.position,n);a.normalize(),a.multiplyScalar(-1);var r=u.fromViewUp(new u,a,t);this.cameraNode.rotation=r},o.onFinishPointTriggered=function(e){var i=this;console.log("游戏完成了"),S.postNotice(E.CONTROL_WIDGET_HIDE,{index:C.AIRPLANE_DRIVE}),this.playParticle(e.particleMarks[0].worldPosition),this.playParticle(e.particleMarks[1].worldPosition),w.play("audio",A.COLOR_SMOKE),this._airplaneAcc=-4,this._airplaneRad=0,this.scheduleOnce((function(){S.postNotice(E.CONTROL_WIDGET_HIDE,{index:C.LEVEL_INDEX}),i.missionFinish()}),1)},o.updateForAirplanePos=function(e){if(this._airplaneSpeed+=this._airplaneAcc*e,this._airplaneSpeed<0)return this._airplaneSpeed=0,this.airplaneCtrl.rigidBody.setLinearVelocity(d.ZERO),void this.slideAudioSource.stop();this._airplaneSpeed>this._airplaneSpeedMax&&(this._airplaneSpeed=this._airplaneSpeedMax);var i=u.rotateY(new u,this.airplaneCtrl.node.rotation,this._airplaneRad*e);this.airplaneCtrl.node.rotation=i;var t=new d(0,0,this._airplaneSpeed*this._airplaneGearsDir);t=d.transformQuat(new d,t,i),this.airplaneCtrl.rigidBody.setLinearVelocity(t)},o.onWheelPress=function(){this._airplaneAcc=5,this.slideAudioSource.play()},o.onWheelRelease=function(){this._airplaneAcc=-4},o.onWheelRotation=function(e){this._airplaneRad=e/100},o.onGearsDir=function(e){this._airplaneGearsDir=e,this._airplaneSpeed=0},i}(y)).prototype,"arrowGreenPrefab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=i(W.prototype,"finishPointNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=i(W.prototype,"airplaneObstPrefab",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=i(W.prototype,"slideAudioSource",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=W))||D));o._RF.pop()}}}));

System.register("chunks:///_virtual/MissonProgressCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NotificationCenter.ts","./ControlWidgetBase.ts"],(function(e){var r,i,t,n,o,s,a,c,l,u,p,h,b,f,g;return{setters:[function(e){r=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,a=e.ProgressBar,c=e.Sprite,l=e.SpriteFrame,u=e.view,p=e.Vec3,h=e.Tween},function(e){b=e.NotificationCenter,f=e.NCKeys},function(e){g=e.ControlWidgetBase}],execute:function(){var d,v,y,P,M,S,m,w,C;o._RF.push({},"809d8Y0ke9Dd4D8d3omIqXU","MissonProgressCtrl",void 0);var I=s.ccclass,B=s.property;e("MissonProgressCtrl",(d=I("MissonProgressCtrl"),v=B(a),y=B(c),P=B([l]),d((m=r((S=function(e){function r(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o))||this,t(r,"bar",m,n(r)),t(r,"icon",w,n(r)),t(r,"frames",C,n(r)),r}i(r,e);var o=r.prototype;return o.playInAction=function(e){this.node.active=!0;var r=e.icon;this.icon.spriteFrame=this.frames[r],this.bar.progress=0;var i=u.getVisibleSize();this.bar.node.position=new p(0,i.height/2+50,0),new h(this.bar.node).to(1,{position:new p(0,i.height/2-200,0)},{easing:"backOut"}).start()},o.onEnable=function(){b.addObserver(f.MISSION_PROGRESS_BAR,this.onMissionProgressBar,this)},o.onDisable=function(){b.removeObserver(f.MISSION_PROGRESS_BAR,this)},o.onMissionProgressBar=function(e){this.bar.progress=e;var r=1.5*Math.PI+10*e*Math.PI,i=.05*Math.sin(r)+1.05;this.bar.node.scale=new p(i,i,i)},r}(g)).prototype,"bar",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=r(S.prototype,"icon",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=r(S.prototype,"frames",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=S))||M));o._RF.pop()}}}));

System.register("chunks:///_virtual/moreGameInnerNodeCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,o,r,i,a,l,c,s,u,p,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,l=e.Prefab,c=e.Node,s=e.CCFloat,u=e.UITransform,p=e.Vec3,f=e.Component}],execute:function(){var h,m,d,y,b,v,g,C,P;i._RF.push({},"0ac3aAywF1Bm5YPeA+Jl2sP","moreGameInnerNodeCtrl",void 0);var w=a.ccclass,F=a.property;e("MoreGameInnerNodeCtrl",(h=w("MoreGameInnerNodeCtrl"),m=F(l),d=F(c),y=F(s),h((g=t((v=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,o(t,"itemPrefab",g,r(t)),o(t,"content",C,r(t)),o(t,"itemScale",P,r(t)),t}n(t,e);var i=t.prototype;return i.onLoad=function(){this.node.active=!1},i.onDestroy=function(){},i.updateForPos=function(e){var t,n,o=null==(t=this.content.getComponent(u))?void 0:t.height,r=null==(n=this.content.parent)||null==(n=n.getComponent(u))?void 0:n.height;if(o<=r)this.unschedule(this.updateForPos);else{var i=new p(this.content.position);i.y+=.5,i.y>o-r/5&&(i.y=r/2),this.content.position=i}},t}(f)).prototype,"itemPrefab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(v.prototype,"content",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(v.prototype,"itemScale",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),b=v))||b));i._RF.pop()}}}));

System.register("chunks:///_virtual/MoreGameLayerCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUILayerCtrl.ts","./Utils.ts","./PlatformJudge.ts","./PlatformManager.ts","./MutualPushItemCtrl.ts"],(function(t){var e,r,n,i,o,a,l,s,c,u,p,f,h,m,y,d,g,P;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,l=t.Prefab,s=t.Node,c=t.CCFloat,u=t.Vec3,p=t.instantiate,f=t.macro,h=t.UITransform},function(t){m=t.BaseUILayerCtrl},function(t){y=t.Utils},function(t){d=t.PlatformJudge},function(t){g=t.PlatformManager},function(t){P=t.MutualPushItemCtrl}],execute:function(){var b,v,C,I,H,M,F,L,w;o._RF.push({},"41bdcExNUFI6I4EIldzHxH9","MoreGameLayerCtrl",void 0);var z=a.ccclass,E=a.property;t("MoreGameLayerCtrl",(b=z("MoreGameLayerCtrl"),v=E(l),C=E(s),I=E(c),b((F=e((M=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"itemPrefab",F,i(e)),n(e,"content",L,i(e)),n(e,"itemScale",w,i(e)),e}r(e,t);var o=e.prototype;return o.start=function(){if((d.isOppo||d.isVivo)&&g.getInstance().hideBanner({}),HtsHelper.moreArray.length>0){for(var t=y.shuffle(HtsHelper.moreArray),e=HtsHelper.getHtsIds().moreBid,r=new u(this.itemScale,this.itemScale,this.itemScale),n=0;n<t.length;n++){var i,o=p(this.itemPrefab);o.scale=r,null==(i=o.getComponent(P))||i.init(t[n],e),o.parent=this.content}this.schedule(this.updateForPos,0,f.REPEAT_FOREVER,2)}},o.onDestroy=function(){},o.updateForPos=function(t){var e,r,n=null==(e=this.content.getComponent(h))?void 0:e.height,i=null==(r=this.content.parent)||null==(r=r.getComponent(h))?void 0:r.height;if(n<=i)this.unschedule(this.updateForPos);else{var o=new u(this.content.position);o.y+=.5,o.y>n-i/5&&(o.y=i/2),this.content.position=o}},e}(m)).prototype,"itemPrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(M.prototype,"content",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(M.prototype,"itemScale",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),H=M))||H));o._RF.pop()}}}));

System.register("chunks:///_virtual/MutualPushItemCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioCtrl.ts","./AudioHelper.ts","./Utils.ts","./PlatformJudge.ts"],(function(e){var t,r,i,n,a,l,o,s,u,c,f,m,h,p,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,o=e.Sprite,s=e.Label,u=e.SpriteFrame,c=e.assert,f=e.Component},function(e){m=e.CLIP},function(e){h=e.AudioHelper},function(e){p=e.Utils},function(e){b=e.PlatformJudge}],execute:function(){var d,g,I,k,v,y,C,S,L,F,w,M,P,x,T;a._RF.push({},"b482dH9f2NMMaZve+RJMsy6","MutualPushItemCtrl",void 0);var z=l.ccclass,H=l.property;e("MutualPushItemCtrl",(d=z("MutualPushItemCtrl"),g=H(o),I=H(s),k=H(o),v=H(u),y=H(u),C=H(s),d((F=t((L=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,i(t,"icon",F,n(t)),i(t,"nameLabel",w,n(t)),i(t,"markSprite",M,n(t)),i(t,"redFrame",P,n(t)),i(t,"orangeFrame",x,n(t)),i(t,"markLabel",T,n(t)),t.bid="",t.currentInfo=null,t.totalInfo=[],t.currentIndex=0,t.cancelCb=null,t.sureCb=null,t}r(t,e);var a=t.prototype;return a.start=function(){},a.init=function(e,t){c(null!=t,"bid不能为空呀"),this.bid=t,this.totalInfo=e,this.currentInfo=e[0],this.refreshSelf(this.currentInfo),e.length>1?this.schedule(this.turnInfo,3):this.unschedule(this.turnInfo)},a.refreshSelf=function(e){p.loadAdIcon(this.icon,e.iconUrl,null),e.txt.length<=5?this.nameLabel.string=e.txt:this.nameLabel.string=e.txt.slice(0,4)+"...","热门"==e.mark?(this.markSprite.spriteFrame=this.redFrame,this.markSprite.node.active=!0,this.markLabel.string=e.mark):"NEW"==e.mark?(this.markSprite.spriteFrame=this.orangeFrame,this.markSprite.node.active=!0,this.markLabel.string=e.mark):null!=e.mark&&""!=e.mark?(this.markSprite.spriteFrame=this.redFrame,this.markSprite.node.active=!0,this.markLabel.string=e.mark):this.markSprite.node.active=!1},a.turnInfo=function(){this.currentIndex++,this.currentInfo=this.totalInfo[this.currentIndex%this.totalInfo.length],this.refreshSelf(this.currentInfo)},a.onSelfClick=function(){var e=this;h.play("audio",m.CLICK_NORMAL_BUTTON);var t=HtsHelper.getHtsIds().gid;b.isWX?window.wx.navigateToMiniProgram({appId:this.currentInfo.jumpKey,path:"?"+this.currentInfo.query,success:function(){console.log("navTo 成功",t,e.bid,e.currentInfo.mid)},fail:function(r){console.log("navTo 失败",t,e.bid,e.currentInfo.mid),e.cancelCb&&e.cancelCb()}}):b.isOppo&&window.qg.navigateToMiniGame({pkgName:this.currentInfo.jumpKey,path:"?"+this.currentInfo.query,extraData:{},success:function(){console.log("navTo 成功",t,e.bid,e.currentInfo.mid)},fail:function(r){console.log("navTo 失败",t,e.bid,e.currentInfo.mid),e.cancelCb&&e.cancelCb()}})},t}(f)).prototype,"icon",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(L.prototype,"nameLabel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(L.prototype,"markSprite",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(L.prototype,"redFrame",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(L.prototype,"orangeFrame",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(L.prototype,"markLabel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=L))||S));a._RF.pop()}}}));

System.register("chunks:///_virtual/NativeBannerCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioCtrl.ts","./AudioHelper.ts","./Utils.ts","./PlatformJudge.ts","./PlatformManager.ts","./PlatformNotify.ts","./NativeNodeCtrl.ts","./RemoteConfig.ts","./Config.ts"],(function(t){var i,e,n,o,a,r,s,l,c,p,d,f,u,v,h,g,b,N,m,C;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Sprite,l=t.Label,c=t.Vec3,p=t.isValid,d=t.Component},function(t){f=t.CLIP},function(t){u=t.AudioHelper},function(t){v=t.Utils},function(t){h=t.PlatformJudge},function(t){g=t.PlatformManager},function(t){b=t.PlatformNotify},function(t){N=t.NativeNodeCtrl},function(t){m=t.RemoteConfig},function(t){C=t.Config}],execute:function(){var I,A,O,_,S,y,L,D,B,H,E;a._RF.push({},"6ad54NZhE5IoIGuCjZCI3Y8","NativeBannerCtrl",void 0);var w=r.ccclass,T=r.property;t("NativeBannerCtrl",(I=w("NativeBannerCtrl"),A=T(s),O=T(s),_=T(l),S=T(l),I((D=i((L=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return i=t.call.apply(t,[this].concat(a))||this,n(i,"iconSprite",D,o(i)),n(i,"imageSprite",B,o(i)),n(i,"appNameLabel",H,o(i)),n(i,"appDescLabel",E,o(i)),i.data=null,i}e(i,t);var a=i.prototype;return a.start=function(){},a.init=function(t,i){var e=this;if(void 0===i&&(i=!1),(h.isOppo||h.isHW)&&N.instance)return console.log("检测到当前有插屏，所以banner不出现了"),void(this.node.active=!1);if(this.data=t,h.isOppo||h.isVivo||h.isHW){var n=this.data.info.imgUrlList[0];v.loadAdIcon(this.imageSprite,n,(function(t,i){console.log("native Banner imageUrl",t,i);var n=120/i;e.imageSprite.node.scale=new c(n,n,n)})),i||this.data.native.reportAdShow({adId:this.data.info.adId.toString()}),this.appNameLabel.string=this.data.info.title,this.appDescLabel.string=this.data.info.desc||this.data.info.clickBtnTxt,h.isHW&&(b.removeObserver(b.ON_SHOW,this),b.addObserver(b.ON_SHOW,this.onGameShow,this))}},a.onGameShow=function(){var t=this;0!=this.node.active&&h.isHW&&(this.node.active=!1,g.getInstance().getNativeAdInfo({asyncCb:function(i){p(t.node)&&(i?(console.log("nativeBannerCtrl onGameShow"),t.node.active=!0,t.init(i)):console.log("没有拉取到新的数据"))},pos:"banner"}))},a.onCloseButtonClick=function(){u.play("audio",f.CLICK_BACK_BUTTON),this.node.active=!1,b.postNotice(b.NATIVE_BANNER_CLOSE_BY_USER,null),g.getInstance().tryLoadNativeAdInfo({pos:"banner"})},a.onSelfClick=function(){var t=this;if(this.data&&(u.play("audio",f.CLICK_NORMAL_BUTTON),h.isOppo||h.isVivo||h.isHW))if(this.data.native.reportAdClick({adId:this.data.info.adId.toString()}),h.isOppo||h.isVivo){var i=g.getInstance().getNativeAdInfo({pos:"banner"});i?this.init(i):(b.removeObserver(b.NATIVE_AD_LOADED,this),b.addObserver(b.NATIVE_AD_LOADED,(function(){var i=g.getInstance().getNativeAdInfo({pos:"banner"});i&&t.init(i)}),this),g.getInstance().tryLoadNativeAdInfo({}))}else h.isHW&&(this.node.active=!1)},a.onDestroy=function(){b.removeObserver(b.NATIVE_AD_LOADED,this),b.removeObserver(b.ON_SHOW,this)},a.onMoveInNodeRect=function(){(h.isOppo||h.isVivo)&&m.p5!=C.ov_version_number&&100*Math.random()<m.p1&&this.onSelfClick()},i}(d)).prototype,"iconSprite",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=i(L.prototype,"imageSprite",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=i(L.prototype,"appNameLabel",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=i(L.prototype,"appDescLabel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=L))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/NativeBannerSiblingIndexCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var e,i,t,o,r,l;return{setters:[function(n){e=n.inheritsLoose},function(n){i=n.cclegacy,t=n._decorator,o=n.find,r=n.Node,l=n.Component}],execute:function(){var s;i._RF.push({},"fcb64FjYGBHO7eu+GWa4t8b","NativeBannerSiblingIndexCtrl",void 0);var a=t.ccclass;t.property,n("NativeBannerSiblingIndexCtrl",a("NativeBannerSiblingIndexCtrl")(s=function(n){function i(){return n.apply(this,arguments)||this}e(i,n);var t=i.prototype;return t.onEnable=function(){var n=o("Canvas");n.on(r.EventType.CHILD_ADDED,this.fixedSiblingIndex,this),n.on(r.EventType.CHILD_REMOVED,this.fixedSiblingIndex,this),this.fixedSiblingIndex()},t.fixedSiblingIndex=function(){var n=o("Canvas").children.length;this.node.setSiblingIndex(n-1),console.log("fixedSiblingIndex 触发了")},t.onDisable=function(){var n=o("Canvas");n.off(r.EventType.CHILD_ADDED,this.fixedSiblingIndex,this),n.off(r.EventType.CHILD_REMOVED,this.fixedSiblingIndex,this)},i}(l))||s);i._RF.pop()}}}));

System.register("chunks:///_virtual/NativeNodeCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioCtrl.ts","./AudioHelper.ts","./Utils.ts","./PlatformJudge.ts","./PlatformManager.ts","./PlatformNotify.ts","./RemoteConfig.ts","./Config.ts"],(function(e){var t,i,o,n,a,s,r,l,c,d,u,f,p,h,v,g,S,N,m,O,C,b,I,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,r=e.Node,l=e.Sprite,c=e.Label,d=e.CCFloat,u=e.isValid,f=e.view,p=e.UITransform,h=e.Vec3,v=e.Widget,g=e.Component},function(e){S=e.CLIP},function(e){N=e.AudioHelper},function(e){m=e.Utils},function(e){O=e.PlatformJudge},function(e){C=e.PlatformManager},function(e){b=e.PlatformNotify},function(e){I=e.RemoteConfig},function(e){y=e.Config}],execute:function(){var D,A,_,k,w,L,H,T,V,W,z,M,P,B,E,R;a._RF.push({},"5ded5voDw9Lw6Cqxtlxg7CC","NativeNodeCtrl",void 0);var U=s.ccclass,x=s.property;e("NativeNodeCtrl",(D=U("NativeNodeCtrl"),A=x(r),_=x(l),k=x(c),w=x(r),L=x(d),H=x(r),D(((R=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,o(t,"market",W,n(t)),o(t,"image",z,n(t)),o(t,"desLabel",M,n(t)),o(t,"closeNode",P,n(t)),o(t,"heightSpaceOccupied",B,n(t)),t.data=null,o(t,"lookNodeOutSelf",E,n(t)),t}i(t,e),t.getCrossSceneData=function(){return dayjs().unix()-this.crossSceneDataTimeStamp>=I.p8?(t.crossSceneData=null,null):t.crossSceneData},t.setCrossSceneData=function(e){t.crossSceneData=e,e&&(t.crossSceneDataTimeStamp=dayjs().unix())};var a=t.prototype;return a.onLoad=function(){var e=this;if(C.getInstance().hideBanner({}),t.instance=this,this.market.active=!1,this.closeNode.active=!1,O.isOppo||O.isVivo||O.isMZ){var i=t.getCrossSceneData(),o=!0;i||(i=C.getInstance().getNativeAdInfo({pos:"interstitial"}),t.setCrossSceneData(i),o=!1),i?this.refresh(i,o):(this.node.active=!1,b.addObserver(b.NATIVE_AD_LOADED,(function(){if(b.removeObserver(b.NATIVE_AD_LOADED,e),u(e.node)){var i=C.getInstance().getNativeAdInfo({pos:"interstitial"});i&&(t.setCrossSceneData(i),e.refresh(i,!1))}}),this),C.getInstance().tryLoadNativeAdInfo({pos:"interstitial"}),console.log("因为native不够了，现在再拉取一次"))}else O.isHW&&(this.node.active=!1,C.getInstance().getNativeAdInfo({asyncCb:function(t){u(e.node)&&(t?(e.node.active=!0,e.refresh(t),b.removeObserver(b.ON_SHOW,e),b.addObserver(b.ON_SHOW,e.onGameShow,e)):console.log("NativeNodeCtrl native拉取不到数据"))},pos:"interstitial"}))},a.onDestroy=function(){b.removeObserver(b.NATIVE_AD_LOADED,this),b.removeObserver(b.ON_SHOW,this),C.getInstance().tryLoadNativeAdInfo({pos:"interstitial"}),t.instance=null},a.onGameShow=function(){var e=this;0!=this.node.active&&O.isHW&&(this.node.active=!1,C.getInstance().getNativeAdInfo({asyncCb:function(t){u(e.node)&&(t?(console.log("nativeNodeCtrl onGameShow"),e.node.active=!0,e.refresh(t),b.removeObserver(b.ON_SHOW,e),b.addObserver(b.ON_SHOW,e.onGameShow,e)):console.log("native拉取不到数据"))},pos:"banner"}))},a.refresh=function(e,t){var i=this;if(void 0===t&&(t=!1),this.data=e,this.node.active=!0,O.isOppo||O.isVivo||O.isHW||O.isMZ){var o=this.data.info.imgUrlList[0];m.loadAdIcon(this.image,o,(function(e,t){var o,n,a=f.getVisibleSize().width,s=t/e*a,r=i.node.getComponent(p);if(r.width=a,r.height=s,i.heightSpaceOccupied>0){var l=f.getVisibleSize().height/2-i.heightSpaceOccupied;if(l<s){var c=l/s;i.node.scale=new h(c,c,c)}i.node.position=new h(0,-(i.heightSpaceOccupied+s/2*i.node.scale.y),0)}i.market.active=!0,i.closeNode.active=!0,null==(o=i.market.getComponent(v))||o.updateAlignment(),null==(n=i.closeNode.getComponent(v))||n.updateAlignment()})),t||this.data.native.reportAdShow({adId:this.data.info.adId.toString()}),this.desLabel.string=this.data.info.title||this.data.info.desc,this.closeNode.active=O.isHW||O.isOppo||O.isVivo,console.log("原生广告展示成功了",this.data.info.adId)}},a.onSelfButtonClick=function(){if(N.play("audio",S.CLICK_NORMAL_BUTTON),t.setCrossSceneData(null),this.data.native.reportAdClick({adId:this.data.info.adId.toString()}),O.isOppo||O.isVivo||O.isMZ){var e=C.getInstance().getNativeAdInfo({pos:"interstitial"});e?this.refresh(e):C.getInstance().tryLoadNativeAdInfo({pos:"interstitial"})}else O.isHW&&this.node.destroy()},a.onCloseButtonClick=function(){N.play("audio",S.CLICK_BACK_BUTTON),t.setCrossSceneData(null),this.node.destroy(),this.lookNodeOutSelf&&this.lookNodeOutSelf.destroy()},a.onMoveInNodeRect=function(){(O.isOppo||O.isVivo)&&I.p5!=y.ov_version_number&&100*Math.random()<I.p3&&this.onSelfButtonClick()},a.onEnable=function(){this.lookNodeOutSelf&&(this.lookNodeOutSelf.active=!0,m.nodeScaleRepeatForever(this.lookNodeOutSelf,.8,1.1,.95))},a.onDisable=function(){this.lookNodeOutSelf&&(this.lookNodeOutSelf.active=!1)},t}(g)).instance=null,R.crossSceneData=null,R.crossSceneDataTimeStamp=0,W=t((V=R).prototype,"market",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(V.prototype,"image",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(V.prototype,"desLabel",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(V.prototype,"closeNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(V.prototype,"heightSpaceOccupied",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=t(V.prototype,"lookNodeOutSelf",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=V))||T));a._RF.pop()}}}));

System.register("chunks:///_virtual/NodeDelayShow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlatformJudge.ts","./RemoteConfig.ts","./Config.ts"],(function(e){var o,t,i,n,r,a,c,s,l,u,p;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,c=e.Node,s=e.Component},function(e){l=e.PlatformJudge},function(e){u=e.RemoteConfig},function(e){p=e.Config}],execute:function(){var d,f,g,h,y;r._RF.push({},"16ed6Bo4d9EsowNbuwnostZ","NodeDelayShow",void 0);var v=a.ccclass,N=a.property;e("NodeDelayShow",(d=v("NodeDelayShow"),f=N(c),d((y=o((h=function(e){function o(){for(var o,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return o=e.call.apply(e,[this].concat(r))||this,i(o,"targetNode",y,n(o)),o}return t(o,e),o.prototype.doAction=function(){var e=this;(l.isOppo||l.isVivo)&&u.p5!=p.ov_version_number&&u.p2>0&&(this.targetNode.active=!1,this.scheduleOnce((function(){e.targetNode.active=!0}),u.p2))},o}(s)).prototype,"targetNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=h))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/NotificationCenter.ts",["cc"],(function(_){var E,R;return{setters:[function(_){E=_.cclegacy,R=_.assert}],execute:function(){E._RF.push({},"9a95fwRFERHY43ZgIHxqoyb","NotificationCenter",void 0);var O=_("NCKeys",{EVENT_HIDE:"EVENT_HIDE",EVENT_SHOW:"EVENT_SHOW",BASEUILAYER_SHOW:"BASEUILAYER_SHOW",BASEUILAYER_HIDE:"BASEUILAYER_HIDE",GUDIE_MARK:"GUDIE_MARK",LOCAL_DATA_CUR_AIRPLANE_INDEX:"LOCAL_DATA_CUR_AIRPLANE_INDEX",LOCAL_DATA_CASH:"LOCAL_DATA_CASH",CUM_VIDEO_COUNT:"CUM_VIDEO_COUNT",SUCESS_PARTICLE:"SUCESS_PARTICLE",MISSION_FINISH:"MISSION_FINISH",MISSION_RESET:"MISSION_RESET",MISSION_FAIL:"MISSION_FAIL",MISSION_FLY:"MISSION_FLY",CONTROL_WIDGET_SHOW:"CONTROL_WIDGET_SHOW",CONTROL_WIDGET_HIDE:"CONTROL_WIDGET_HIDE",MAIN_PAGE_SHOW:"MAIN_PAGE_SHOW",MAIN_PAGE_HIDE:"MAIN_PAGE_HIDE",MAP_LOADED_FINISH:"MAP_LOADED_FINISH",CONTROL_WHEEL_PRESS:"CONTROL_WHEEL_PRESS",CONTROL_WHEEL_RELEASE:"CONTROL_WHEEL_RELEASE",CONTROL_WHEEL_ROTATION:"CONTROL_WHEEL_ROTATION",CONTROL_GEARS_TURN:"CONTROL_GEARS_TURN",NAVIGATION_ARROW_TARGET:"NAVIGATION_ARROW_TARGET",CONTROL_LEFT_ROCKER_START:"CONTROL_LEFT_ROCKER_START",CONTROL_LEFT_ROCKER_ROTATE:"CONTROL_LEFT_ROCKER_ROTATE",CONTROL_LEFT_ROCKER_STOP:"CONTROL_LEFT_ROCKER_STOP",CONTROL_LEFT_ROCKER_FINGER_SHOW:"CONTROL_LEFT_ROCKER_FINGER_SHOW",CONTROL_RIGHT_ROCKER_START:"CONTROL_RIGHT_ROCKER_START",CONTROL_RIGHT_ROCKER_ROTATE:"CONTROL_RIGHT_ROCKER_ROTATE",CONTROL_RIGHT_ROCKER_STOP:"CONTROL_RIGHT_ROCKER_STOP",CONTROL_FORCE_FIRST_PRESS:"CONTROL_FORCE_FIRST_PRESS",CONTROL_FORCE_PRESS:"CONTROL_FORCE_PRESS",CONTROL_FORCE_RELEASE:"CONTROL_FORCE_RELEASE",CONTROL_BLACK_CURTAIN_APPEAR:"CONTROL_BLACK_CURTAIN_APPEAR",SLIDE_SCREEN_UI_DELAY:"SLIDE_SCREEN_UI_DELAY",MISSION_PROGRESS_BAR:"MISSION_PROGRESS_BAR",MISSION_HEART_NUM:"MISSION_HEART_NUM",MISSION_LABEL_STRING:"MISSION_LABEL_STRING",TRANSPORT_CAR_BAG_DROPED:"TRANSPORT_CAR_BAG_DROPED",FLY_PAGE_SHOW:"FLY_PAGE_SHOW",FLIGHT_CABIN_ENGINE_START:"FLIGHT_CABIN_ENGINE_START",FLIGHT_CABIN_WRENCH_PUSH:"FLIGHT_CABIN_WRENCH_PUSH",FLIGHT_CABIN_WRENCH_CRASH:"FLIGHT_CABIN_WRENCH_CRASH",FLIGHT_CABIN_ALTITUDE:"FLIGHT_CABIN_ALTITUDE",FLIGHT_CABIN_SPEED:"FLIGHT_CABIN_SPEED",SECURITY_CHECK_CHOICE:"SECURITY_CHECK_CHOICE",MAIN_PAGE_RED_POINT:"MAIN_PAGE_RED_POINT",GO_SHOP_SCENE:"GO_SHOP_SCENE",SHOP_ITEM_BE_CLICK:"SHOP_ITEM_BE_CLICK",SHOP_ITEM_BE_UNLOCK:"SHOP_ITEM_BE_UNLOCK",MAIN_PAGE_BACK_ARROW_CLICK:"MAIN_PAGE_BACK_ARROW_CLICK",GLOBAL_TOUCH_START:"GLOBAL_TOUCH_START",GLOBAL_TOUCH_MOVE:"GLOBAL_TOUCH_MOVE",GLOBAL_TOUCH_END:"GLOBAL_TOUCH_END",NATIVE_BANNER_SHOW_AND_REFRESH_TIME:"NATIVE_BANNER_SHOW_AND_REFRESH_TIME",NATIVE_BANNER_HIDE_AND_REFRESH_TIME:"NATIVE_BANNER_HIDE_AND_REFRESH_TIME",NATIVE_BANNER_START_TICK:"NATIVE_BANNER_START_TICK",NATIVE_BANNER_STOP_TICK:"NATIVE_BANNER_STOP_TICK"}),T=_("NotificationCenter",{_observers:{},addObserver:function(_,E,O){R(null!=_,"key  cant be null"),R(null!=E,"fun  cant be null"),R(null!=O,"target  cant be null"),null==this._observers[_]&&(this._observers[_]=[]),this._observers[_].push({fun:E,target:O})},removeObserver:function(_,E){null==E&&R(!1,"target must not be null"),null!=this._observers[_]&&(this._observers[_]=this._observers[_].filter((function(_){return _.target!=E})))},postNotice:function(_,E){null!=this._observers[_]&&this._observers[_].forEach((function(_){_.fun.call(_.target,E)}))}});window.NotificationCenter=T,window.NCKeys=O,E._RF.pop()}}}));

System.register("chunks:///_virtual/oil_car_config.ts",["cc"],(function(e){var n,w;return{setters:[function(e){n=e.cclegacy,w=e.Vec3}],execute:function(){n._RF.push({},"692fdLvclJIY5rD1KWug5JA","oil_car_config",void 0);e("oil_car_config",[{slide_path:[new w(65,0,135),new w(115,0,135),new w(115,0,75)],oil_gun_offset:new w(.6,.6,1.4)},{slide_path:[new w(55,0,135),new w(55,0,75),new w(115,0,75),new w(115,0,35)],oil_gun_offset:new w(-.5,.5,1.4)},{slide_path:[new w(55,0,175),new w(55,0,195),new w(175,0,195),new w(175,0,135)],oil_gun_offset:new w(.5,-.5,1.4)},{slide_path:[new w(55,0,275),new w(55,0,245),new w(115,0,245),new w(115,0,215)],oil_gun_offset:new w(-.5,-.5,1.4)},{slide_path:[new w(115,0,275),new w(115,0,245),new w(55,0,245),new w(55,0,225)],oil_gun_offset:new w(.3,-.5,1.4)}]);n._RF.pop()}}}));

System.register("chunks:///_virtual/OilCarCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./weather_config.ts"],(function(e){var t,i,r,o,l,n,a,c,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){l=e.cclegacy,n=e._decorator,a=e.RigidBody,c=e.Node,u=e.Component},function(e){p=e.weather_config}],execute:function(){var s,f,d,g,h,y,b,C,v;l._RF.push({},"104f4OrtWpMKqvl/C+kY3fx","OilCarCtrl",void 0);var O=n.ccclass,w=n.property;e("OilCarCtrl",(s=O("OilCarCtrl"),f=w(a),d=w(c),g=w(c),s((b=t((y=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),n=0;n<i;n++)l[n]=arguments[n];return t=e.call.apply(e,[this].concat(l))||this,r(t,"rigidBody",b,o(t)),r(t,"oilOutNode",C,o(t)),r(t,"lightNode",v,o(t)),t}i(t,e);var l=t.prototype;return l.start=function(){},l.setWeahter=function(e){e%=p.length,"night"==p[e]&&(this.lightNode.active=!0)},t}(u)).prototype,"rigidBody",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(y.prototype,"oilOutNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(y.prototype,"lightNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=y))||h));l._RF.pop()}}}));

System.register("chunks:///_virtual/OilGunCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AutoPathFindCtrl.ts","./Utils.ts"],(function(i){var t,e,o,n,l,r,a,s,u,c,p,h,d,f,P,w;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,o=i.initializerDefineProperty,n=i.assertThisInitialized,l=i.createForOfIteratorHelperLoose},function(i){r=i.cclegacy,a=i._decorator,s=i.Node,u=i.Prefab,c=i.Vec3,p=i.Tween,h=i.AudioSource,d=i.instantiate,f=i.Component},function(i){P=i.AutoPathFindCtrl},function(i){w=i.Utils}],execute:function(){var b,v,y,N,O,g,C,z,m,j,F,_,A;r._RF.push({},"39f91KVlc9GKpeskq2sCywL","OilGunCtrl",void 0);var I=a.ccclass,S=a.property;i("OilGunCtrl",(b=I("OilGunCtrl"),v=S(s),y=S(s),N=S(s),O=S(s),g=S(u),b((m=t((z=function(i){function t(){for(var t,e=arguments.length,l=new Array(e),r=0;r<e;r++)l[r]=arguments[r];return t=i.call.apply(i,[this].concat(l))||this,o(t,"frontPipleNode",m,n(t)),o(t,"joinNode",j,n(t)),o(t,"joinPipleNode",F,n(t)),o(t,"gunInterface",_,n(t)),o(t,"oilPrefab",A,n(t)),t.oilPaths=[],t.oilCtrlArray=[],t._createOilTick=.5,t._createOilInterval=.25,t}e(t,i);var r=t.prototype;return r.startFixSelf=function(i,t){this.oilCarOutNode=i,this.fixPos=t,this.schedule(this.updateFroFixSelf)},r.updateFroFixSelf=function(i){var t=this.oilCarOutNode.worldPosition,e=this.joinNode.worldPosition,o=c.subtract(new c,t,e);o.z=0,this.joinPipleNode.scale=new c(1,1,o.length()),o.normalize(),w.rotationNodeFace(this.joinNode,new c(1,0,0),o,!0);var n=this.fixPos.z-this.node.position.z;n>0&&(this.joinNode.position=new c(0,0,n),this.frontPipleNode.scale=new c(.9,.9,n-.1))},r.transSelfToOilInPosition=function(i,t){var e=this;new p(this.node).to(.5,{position:i}).call((function(){var i;null==(i=e.getComponent(h))||i.play(),new p(e.gunInterface).to(1,{eulerAngles:new c(0,180,260)}).call(t).start()})).start()},r.initOilPaths=function(){var i=new c(this.joinNode.position);i.z+=.25;var t=c.transformQuat(new c,new c(1,0,0),this.joinNode.rotation);t.normalize(),t.multiplyScalar(this.joinPipleNode.scale.z),t.add(i),this.oilPaths.push({position:t,rotation:null,scale:new c(.05,.05,.05)}),this.oilPaths.push({position:i,rotation:null,scale:new c(.137,.137,.137),speed:2}),this.oilPaths.push({position:new c(0,0,.4),rotation:null,scale:null,speed:2}),this.oilPaths.push({position:c.ZERO,rotation:null,scale:c.ZERO,speed:2})},r.updateForOilPosition=function(i,t){if(this._createOilTick+=i,this._createOilTick>=this._createOilInterval&&t){this._createOilTick=0;var e=d(this.oilPrefab);e.parent=this.node;var o=e.getComponent(P);o.init(this.oilPaths),this.oilCtrlArray.push(o)}for(var n,r=l(this.oilCtrlArray);!(n=r()).done;){n.value.updatePath(i)}},t}(f)).prototype,"frontPipleNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(z.prototype,"joinNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(z.prototype,"joinPipleNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(z.prototype,"gunInterface",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(z.prototype,"oilPrefab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=z))||C));r._RF.pop()}}}));

System.register("chunks:///_virtual/open_topped_car_config.ts",["cc"],(function(e){var n,w;return{setters:[function(e){n=e.cclegacy,w=e.Vec3}],execute:function(){n._RF.push({},"ed6c77CJTpMop7+Tq7McnCD","open_topped_car_config",void 0);e("open_topped_car_config",[{slide_path:[new w(30,0,38.481),new w(55,0,38.481),new w(55,0,75),new w(175,0,75)]},{slide_path:[new w(30,0,38.481),new w(55,0,38.481),new w(55,0,135),new w(115,0,135)]},{slide_path:[new w(30,0,38.481),new w(55,0,38.481),new w(175,0,38.481),new w(175,0,135)]},{slide_path:[new w(30,0,38.481),new w(55,0,38.481),new w(115,0,38.481),new w(115,0,195)]},{slide_path:[new w(30,0,38.481),new w(55,0,38.481),new w(175,0,38.481),new w(175,0,135)]}]);n._RF.pop()}}}));

System.register("chunks:///_virtual/OpenToppedCarCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./weather_config.ts","./OpenToppedCarPassengerCtrl.ts"],(function(e){var r,t,n,o,i,s,a,p,l,u,c,d,f;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,i=e.createForOfIteratorHelperLoose},function(e){s=e.cclegacy,a=e._decorator,p=e.Node,l=e.Vec3,u=e.Quat,c=e.Component},function(e){d=e.weather_config},function(e){f=e.OpenToppedCarPassengerCtrl}],execute:function(){var h,g,v,w,C,y,F;s._RF.push({},"14a7dNTCPtEXaE+9MLLvR2F","OpenToppedCarCtrl",void 0);var m=a.ccclass,P=a.property;e("OpenToppedCarCtrl",(h=m("OpenToppedCarCtrl"),g=P([f]),v=P(p),h((y=r((C=function(e){function r(){for(var r,t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i))||this,n(r,"passengers",y,o(r)),n(r,"lightNode",F,o(r)),r.passengersSitInfo=[{pos:new l(-.398,.342,.478),rot:u.fromEuler(new u,0,0,0)},{pos:new l(.298,.479,-1.604),rot:u.fromEuler(new u,0,180,0)},{pos:new l(-.514,.342,-.943),rot:u.fromEuler(new u,0,0,0)},{pos:new l(.457,.342,-.943),rot:u.fromEuler(new u,0,0,0)},{pos:new l(-.301,.479,-1.604),rot:u.fromEuler(new u,0,180,0)}],r}t(r,e);var s=r.prototype;return s.start=function(){},s.startWalk=function(){for(var e,r=i(this.passengers);!(e=r()).done;){var t=e.value;!t.isFinished&&t.startWalk()}},s.startIdle=function(){for(var e,r=i(this.passengers);!(e=r()).done;){var t=e.value;!t.isFinished&&t.startIdle()}},s.updateForPassenegrPath=function(e){for(var r,t=!0,n=i(this.passengers);!(r=n()).done;){var o=r.value;if(0==o.isFinished&&(o.updatePath(e),o.isFinished)){var s=this.passengersSitInfo[o.index];o.node.position=s.pos,o.node.rotation=s.rot,o.node.parent=this.node,o.node.active=!0,o.startSit()}t=t&&o.isFinished}return t},s.setWeahter=function(e){e%=d.length,"night"==d[e]&&(this.lightNode.active=!0)},r}(c)).prototype,"passengers",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=r(C.prototype,"lightNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=C))||w));s._RF.pop()}}}));

System.register("chunks:///_virtual/OpenToppedCarPassengerCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BusPassengerCtrl.ts"],(function(e){var t,i,n,r,s,a,l,o,p,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){s=e.cclegacy,a=e._decorator,l=e.Vec3,o=e.CCInteger,p=e.CCString},function(e){c=e.BusPassengerCtrl}],execute:function(){var u,h,C,f,g,w,d;s._RF.push({},"41506Yyis5FrqEDhpzeIGB1","OpenToppedCarPassengerCtrl",void 0);var y=a.ccclass,v=a.property,P=[[new l(30.774,0,45.023),new l(31.243,0,39.831)],[new l(28.848,0,45),new l(27.291,0,40.373),new l(27.291,0,37.872)],[new l(30.824,0,44.002),new l(29.661,0,39.77)],[new l(29.841,0,43.794),new l(33.248,0,39.865),new l(33.248,0,36.631),new l(29.572,0,36.913)],[new l(29.087,0,43.903),new l(28.018,0,39.838)]];e("OpenToppedCarPassengerCtrl",(u=y("OpenToppedCarPassengerCtrl"),h=v(o),C=v(p),u((w=t((g=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return t=e.call.apply(e,[this].concat(s))||this,n(t,"index",w,r(t)),n(t,"sitClip",d,r(t)),t}i(t,e);var s=t.prototype;return s.startSit=function(){this.curClip!=this.sitClip&&(this.ani.play(this.sitClip),this.ani.getState(this.sitClip).setTime(3*Math.random()),this.curClip=this.sitClip)},s.start=function(){this.startIdle();for(var e=[],t=P[this.index],i=0;i<t.length;i++)e.push({position:t[i],scale:null,rotation:null,speed:1.5});this.init(e)},t}(c)).prototype,"index",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=t(g.prototype,"sitClip",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=g))||f));s._RF.pop()}}}));

System.register("chunks:///_virtual/PlatformConfig.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"d0678oodrRPw4S3PIF46KHp","PlatformConfig",void 0);e("PlatformConfig",{dev:{},wx:{videoId:"",bottomBannerId:"",interstitialId:"",customAd:"",shareTitle:"多种玩法精彩不断。快来经营你的小小飞机场吧",shareImage:"https://airports-3d-1258495086.file.myqcloud.com/share.png",tracks:{}},qq:{videoId:"",bottomBannerId:"",ruinsBannerId:"",interstitialId:"",gridId:"",gameBannerId:"",gameIconId:"",customAd:""},tt:{videoId:"",bannerId:"",shareId:"",shareTitle:"",shareImage:""},oppo:{videoId:"",bannerId:"",nativeIds:{interstitial:"",banner:""}},vivo:{videoId:"",bannerId:"",nativeIds:{interstitial0:"",banner0:""}},mz:{videoId:"",bannerId:"",nativeId:"",interstitialId:""},hw:{videoId:"",nativeIds:{banner:""}},bd:{appSid:"",videoId:"",bannerId:"",shareTitle:"",shareImageUrl:""}});t._RF.pop()}}}));

System.register("chunks:///_virtual/PlatformJudge.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var e,t;return{setters:[function(n){e=n.createClass},function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"15568dSFdJIGYCmW7jiRUWT","PlatformJudge",void 0);var i=n("PlatformJudge",function(){function n(){}return n.getPlatformName=function(){return n.isWX?"wx":n.isOppo?"oppo":n.isVivo?"vivo":n.isMZ?"mz":n.isQQ?"qq":n.isTT?"tt":n.isHW?"hw":n.isBD?"bd":"dev"},e(n,null,[{key:"isOppo",get:function(){return window.qg&&window.qg.setLoadingProgress&&!window.hbs&&"undefined"==typeof mz_jsb}},{key:"isVivo",get:function(){return window.qg&&!window.qg.setLoadingProgress&&!window.hbs&&"undefined"==typeof mz_jsb}},{key:"isMZ",get:function(){return"undefined"!=typeof mz_jsb}},{key:"isQQ",get:function(){return window.qq}},{key:"isWX",get:function(){return window.wx&&!window.qq&&!window.tt}},{key:"isWXDev",get:function(){return!!n.isWX&&"devtools"==window.wx.getSystemInfoSync().brand}},{key:"isTT",get:function(){return window.tt}},{key:"isHW",get:function(){return window.hbs}},{key:"isBD",get:function(){return window.swan}},{key:"isStrict",get:function(){return!!n.isTT}}]),n}());globalThis.PlatformJudge=i,t._RF.pop()}}}));

System.register("chunks:///_virtual/PlatformManager.ts",["cc","./AdapterBase.ts","./AdapterBD.ts","./AdapterHW.ts","./AdapterMZ.ts","./AdApterOppo.ts","./AdapterQQ.ts","./AdapterTT.ts","./AdapterVivo.ts","./AdapterWX.ts","./PlatformJudge.ts","./RemoteConfig.ts"],(function(t){var e,r,n,i,a,o,c,s,d,u,h,A,p;return{setters:[function(t){e=t.cclegacy,r=t._decorator},function(t){n=t.AdapterBase},function(t){i=t.AdapterBD},function(t){a=t.AdapterHW},function(t){o=t.AdapterMZ},function(t){c=t.AdApterOppo},function(t){s=t.AdapterQQ},function(t){d=t.AdapterTT},function(t){u=t.AdapterVivo},function(t){h=t.AdapterWX},function(t){A=t.PlatformJudge},function(t){p=t.RemoteConfig}],execute:function(){e._RF.push({},"12d26VasGRGhrR0eyU/BNr9","PlatformManager",void 0);r.ccclass,r.property;var f=t("PlatformManager",function(){function t(){this._curAdapter=null,this._onRemoteInitFinishCallArray=[],this._nearestVibrateTimestampMillisecond=0,A.isWX?this._curAdapter=new h:A.isOppo?this._curAdapter=new c:A.isVivo?this._curAdapter=new u:A.isMZ?this._curAdapter=new o:A.isQQ?this._curAdapter=new s:A.isHW?this._curAdapter=new a:A.isTT?this._curAdapter=new d:A.isBD?this._curAdapter=new i:this._curAdapter=new n,console.log("PlatformJudge",A.getPlatformName())}t.getInstance=function(){return null==t._instance&&(t._instance=new t),t._instance};var e=t.prototype;return e.addRemoteInitFinishListener=function(t){if(p.inited)return t();this._onRemoteInitFinishCallArray.push(t)},e.showVideo=function(t,e){this._curAdapter.showVideo(t,e)},e.showBanner=function(t){this._curAdapter.showBanner(t)},e.hideBanner=function(t){this._curAdapter.hideBanner(t)},e.inViewBanner=function(){this._curAdapter.inViewBanner()},e.outViewBanner=function(){this._curAdapter.outViewBanner()},e.showInterstitialAd=function(t){this._curAdapter.showInterstitialAd(t)},e.showGridAd=function(){this._curAdapter.showGridAd()},e.showGameBanner=function(t){this._curAdapter.showGameBanner(t)},e.hideGameBanner=function(t){this._curAdapter.hideGameBanner(t)},e.showGameIcon=function(t){this._curAdapter.showGameIcon(t)},e.hideGameIcon=function(t){this._curAdapter.hideGameIcon(t)},e.share=function(t,e){this._curAdapter.share(t,e)},e.showGameClub=function(t){this._curAdapter.showGameClub(t)},e.showCustomAd=function(t){this._curAdapter.showCustomAd(t)},e.hideCustomAd=function(t){this._curAdapter.hideCustomAd(t)},e.hadShareAbility=function(){return this._curAdapter.hadShareAbility()},e.hadCollectAbility=function(){return this._curAdapter.hadCollectAbility()},e.hadNativeAdInfo=function(){return this._curAdapter.hadNativeAdInfo()},e.tryShortcutIndesktop=function(t){this._curAdapter.tryShortcutIndesktop(t)},e.getNativeAdInfo=function(t){return this._curAdapter.getNativeAdInfo(t)},e.tryLoadNativeAdInfo=function(t){this._curAdapter.tryLoadNativeAdInfo(t)},e.trackEvent=function(t,e){this._curAdapter.trackEvent(t,e)},e.hadRecordAbility=function(){return this._curAdapter.hadRecordAbility()},e.startRecord=function(){this._curAdapter.startRecord()},e.endRecord=function(){this._curAdapter.endRecord()},e.isRecording=function(){return this._curAdapter.isRecording()},e.shareRecordVideo=function(t){this._curAdapter.shareRecordVideo(t)},e.needPrivacyAgreement=function(){return this._curAdapter.needPrivacyAgreement()},e.vibrateShort=function(t){var e=(new Date).getTime();e-this._nearestVibrateTimestampMillisecond>100&&(this._nearestVibrateTimestampMillisecond=e,this._curAdapter.vibrateShort(t))},e.exitGame=function(){this._curAdapter.exitGame()},e.triggerGC=function(){this._curAdapter.triggerGC()},e.getSid=function(){return this._curAdapter.getSid()},t}());f._instance=null,globalThis.PlatformManager=f,e._RF.pop()}}}));

System.register("chunks:///_virtual/PlatformNotify.ts",["cc"],(function(t){var e,r;return{setters:[function(t){e=t.cclegacy,r=t.assert}],execute:function(){e._RF.push({},"185378bGldIPYnOOYrHaxNu","PlatformNotify",void 0);t("PlatformNotify",{BANNER_SHOW_HEIGHT:"BANNER_SHOW_HEIGHT",NATIVE_AD_LOADED:"NATIVE_AD_LOADED",NATIVE_BANNER_CLOSE_BY_USER:"NATIVE_BANNER_CLOSE_BY_USER",DEFAULT_BANNER_CLOSE_BY_USER:"DEFAULT_BANNER_CLOSE_BY_USER",BGM_SWITCH:"BGM_SWITCH",RECORDING_STATE:"RECORDING_STATE",ON_SHOW:"ON_SHOW",ON_HIED:"ON_HIDE",_observers:{},addObserver:function(t,e,_){r(null!=t,"key  cant be null"),r(null!=e,"fun  cant be null"),r(null!=_,"target  cant be null"),null==this._observers[t]&&(this._observers[t]=[]),this._observers[t].push({fun:e,target:_})},removeObserver:function(t,e){null==e&&r(!1,"target must not be null"),null!=this._observers[t]&&(this._observers[t]=this._observers[t].filter((function(t){return t.target!=e})))},postNotice:function(t,e){null!=this._observers[t]&&this._observers[t].forEach((function(t){t.fun.call(t.target,e)}))}});e._RF.pop()}}}));

System.register("chunks:///_virtual/PlayPagePushNodeCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MutualPushItemCtrl.ts"],(function(e){var t,r,n,l,i,o,a,s,u,c,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,a=e.Tween,s=e.Vec3,u=e.log,c=e.Component},function(e){p=e.MutualPushItemCtrl}],execute:function(){var g,h,y,P,d;i._RF.push({},"037b7Gk2CtKC4Fc8I7gvO66","PlayPagePushNodeCtrl",void 0);var C=o.ccclass,f=o.property;e("PlayPagePushNodeCtrl",(g=C("PlayPagePushNodeCtrl"),h=f(p),g((d=t((P=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,n(t,"itemCtrl",d,l(t)),t}r(t,e);var i=t.prototype;return i.start=function(){new a(this.itemCtrl.node).to(.1,{eulerAngles:new s(0,0,25)}).to(.1,{eulerAngles:new s(0,0,-25)}).to(.1,{eulerAngles:new s(0,0,25)}).to(.1,{eulerAngles:new s(0,0,-25)}).to(.1,{eulerAngles:new s(0,0,0)}).delay(2).union().repeatForever().start()},i.onEnable=function(){u("playPageIcon show"),HtsHelper.iconArray.length>0?(this.itemCtrl.node.active=!0,this.itemCtrl.init(HtsHelper.iconArray,HtsHelper.getHtsIds().iconBid)):this.itemCtrl.node.active=!1},t}(c)).prototype,"itemCtrl",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=P))||y));i._RF.pop()}}}));

System.register("chunks:///_virtual/PrivacyDetailLayerCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioHelper.ts","./PlatformManager.ts","./AudioCtrl.ts","./BaseUILayerCtrl.ts"],(function(n){var t,e,i,r,o,P,a,c,l,A,p;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,r=n.assertThisInitialized},function(n){o=n.cclegacy,P=n._decorator,a=n.Label},function(n){c=n.AudioHelper},function(n){l=n.PlatformManager},function(n){A=n.CLIP},function(n){p=n.BaseUILayerCtrl}],execute:function(){var s,I,u,d,h,D,C;o._RF.push({},"dc70eJYxtxBxJ6gMQ/AFNLl","PrivacyDetailLayerCtrl",void 0);var g=P.ccclass,y=P.property,M=["欢迎您选择由成都景辰互娱科技有限公司（以下简称“我们”）提供的游戏或应用APP（以下统称“APP”）。建议您完整地阅读本隐私政策，以帮助您了解维护自己隐私权的方式。如您对本隐私政策有任何疑问，您可以通过平台公布的联系方式与我们联系。我们重视未成年人的个人信息保护，如您为未成年人，建议您请您的监护人仔细阅读本隐私政策,并在征得您的监护人 同意的前提下使用我们的服务或向我们提供信息。本隐私政策主要从以下几个方面帮您详细了解我们或我们合作的第三方如何收集、使用、存储、传输、共享与保护个人信息；帮您了解查询、访问、删除、更正、撤回授权个人信息的方式。\n \n  一、如何收集和使用您的个人信息\n  二、如何使用cookie或同类技术\n  三、如何共享、转让、披露您的个人信息\n  四、如何存储您的个人信息\n  五、如何保护您的个人信息\n  六、如何管理您的个人信息\n  七、未成年人使用条款\n  八、隐私政策的修订和通知\n  九、如何联系我们","一、如何收集和使用您的个人信息\n \n  1.1.您主动提供的信息\n   \n  （1）您在接受或使用我们所提供的服务时主动向我们提供的信息，包括：\n  ①您在注册成为我们的用户时所提供的个人信息；\n  ②您在获取我们特定服务或功能时所上传、发布或提供的信息；\n  ③您参与我们所举办的线上、线下活动时所提交的信息；\n  ④您向我们客服或其他官方渠道所提供的信息。\n  我们在您接受或使用我们服务时所获取的信息，包括：\n  ①日志信息：当您获得我们服务时，我们可能会自动收集相关信息并存储为服务日志信息。\n  ②位置信息：当您获得我们服务或接受服务中的特定功能时，我们可能会收集您所使用设备的地理位置信息。\n  ③其他信息：我们为更好地向您提供服务，提升我们的服务质量，我们可能需要收集经您同意的您的其他相关信息。\n  （3）其他方向我们提供或分享的您的信息。\n  \n  ①其他用户在获得我们服务时所提供的您的信息或可能包含的与您有关的信息。","②第三方合作伙伴向我们所共享的您在获得第三方合作伙伴服务时所产生、提供或分享的信息。在此种情况下，请您仔细阅读第三方合作伙伴服务的用户协议或隐私政策，我们将同时遵守本政策及第三方合作伙伴的隐私政策，以对您的用户信息达到“最小化利用最大化保护”的目的。\n \n  1.2. 我们或我们合作的第三方平台收集和使用的信息及获取的权限\n   \n  为了给您提供更好的产品或服务，我们在APP内接入了第三方服务（包括但不限于实名认证、数据分析、第三方支付、投放广告等），当您使用我们的产品或服务时，为了确保您能正常使用APP和优化用户体验，我们和我们合作的第三方平台可能在APP安装和使用过程中通过调用设备权限收集部分设备相关信息和个人信息（包含：设备信息，读写外置存储器，位置信息）。\n   \n  1）设备标识信息（例如硬件型号、操作系统版本、设备设置、IMEI、必要的软件列表等）\n   \n  为保障您正常使用我们的产品或服务，实现APP数据的统计和分析以及提升设备账号的安全性，我们合作的第三方平台会在获得您同意的情况下收集您的设备ID、设备名称、设备类型和版本、系统版本、IP地","址、MAC地址、IMEI、应用ID、网络连接状态、软件列表、接入网络的方式和类型等信息。拒绝授权我们合作的第三方平台获取您的上述信息，可能会导致您无法正常使用我们的APP或在使用我们APP的过程中受到相应限制。\n \n  如您使用OPPO、VIVO、华为、小米、魅族等品牌手机，我们的APP可能会接入上述手机厂商联运所需的SDK，需要收集手机唯一标识信息（例如IMEI），并可能会收集您的手机型号、系统类型、系统版本、设备屏幕尺寸等参数用于实现产品功能，具体情况请参见SDK运营方的隐私政策或相关声明。\n   \n  2）存储权限\n   \n  为保障您能充分使用APP的各项功能和保存玩家的数据，我们和我们合作的第三方平台会在获得您同意的情况下获取您移动设备的存储权限。拒绝授权我们或我们合作的第三方平台获取您移动设备的存储权限，可能会导致您无法正常使用我们的APP或在使用我们APP的过程中受到相应限制。\n   \n  3）地理位置信息","为了丰富APP体验，实现内容多样性，我们合作的第三方平台在获得您同意的情况下会收集您的地理位置信息。拒绝提供地理位置信息仅会使您无法使用与位置信息相关的功能，但不影响您正常使用我们APP的其他功能。您也可以随时取消授权我们合作的第三方平台获取您的地理位置信息。\n \n  4）实名身份信息\n   \n  为符合相关法律法规政策及相关主管部门的要求，我们的游戏用户需进行实名认证以继续使用我们的游戏。我们合作的第三方平台会在获得您同意的情况下要求您填写您的实名身份信息，该信息属于敏感信息，拒绝提供实名身份信息可能会导致您无法登陆我们的游戏或在使用我们的游戏过程中受到相应限制。若您希望了解第三方服务提供商收集个人信息的具体规则，请参阅您选择的第三方付款服务提供商的隐私政策。\n   \n  5）支付信息\n   \n  您可能会通过付款的方式获取我们APP相关的虚拟产品，包括游戏币、游戏道具、游戏装备等。上述付款服务由第三方提供，该第三方可能会收集您的充值记录、消费记录等交易信息。我们不会获取与您付款相关的支付账号、密码等信息。在您成功付款后，我们仅会从该第三方付款服务提供商处获取您已完成付款的信息，进而向您提供相应虚拟产品。","若您希望了解第三方服务提供商收集个人信息的具体规则，请参阅您选择的第三方付款服务提供商的隐私政策。\n \n \n  6)第三方平台SDK主要获取的权限以及对应的用途如下：\n   ①第三方SDK：友盟+统计\n  用途：App数据分析\n  收集的信息：1.设备标识信息（例如硬件型号、操作系统版本、设备设置、IMEI、MAC地址、AndroidID、必要的软件列表等）\n  2.获取网络信息状态，访问网络连接，可能产生GPRS流量\n  适用范围：所有渠道包\n  隐私说明：https://www.umeng.com/page/policy\n  ②第三方SDK：奇虎360加固保插件\n  用途：代码加固混淆，防止被破解泄露\n  收集的信息：1.设备标识信息（例如硬件型号、操作系统版本、设备设置、IMEI、MAC地址、AndroidID、必要的软件列表等）\n  2.获取网络信息状态，访问网络连接，可能产生GPRS流量\n  适用范围：所有渠道包\n  隐私说明：https://jiagu.360.cn/#/global/help/295\n  ③第三方SDK：穿山甲广告SDK\n  用途：在APP中投放广告与数据分析\n  收集的信息：1.允许程序写入外部存储","2.获取粗略位置\n  3.获取精确位置\n  4.设备标识信息（例如硬件型号、操作系统版本、设备设置、IMEI、MAC地址、AndroidID、必要的软件列表等）\n  适用范围：TAPTAP、好游快报、360等渠道包等\n  隐私说明：https://www.pangle.cn/privacy\n  ④第三方SDK：优量汇广告SDK\n  用途：在APP中投放广告与数据分析\n  收集的信息：1.允许程序写入外部存储\n  2.获取粗略位置\n  3.获取精确位置\n  4.设备标识信息（例如硬件型号、操作系统版本、设备设置、IMEI、MAC地址、AndroidID、必要的软件列表等）\n  适用范围：TAPTAP、360、好游快报等渠道包\n  隐私说明：https://www.tencent.com/zh-cn/privacy-policy.html\n  ⑤第三方SDK：OPPO应用市场联运SDK（内含支付宝,OPPO安全支付,易联支付,现在支付聚合平台）和广告SDK\n  用途：1.联运市场必须接入；2.在App中投放广告与数据分析\n  收集的信息：1.设备标识信息（例如硬件型号、操作系统版本、设备设置、IMEI、MAC地址、AndroidID、必要的软件列表等）\n  2.允许程序写入外部存储\n  3.允许程序读取外部存储","4.获取粗略位置\n  5.获取精确位置\n  适用范围：OPPO渠道包\n  隐私说明：https://privacy.oppo.com/cn/overview/\n  ⑥第三方SDK：VIVO应用市场联运和广告SDK（其可能集成头条sdk，和快手广告sdk）\n  用途：1.联运市场必须接入；2.在App中投放广告与数据分析\n  收集的信息：1.设备标识信息（例如硬件型号、操作系统版本、设备设置、IMEI、MAC地址、AndroidID、必要的软件列表等）\n  2.允许程序写入外部存储\n  3.允许程序读取外部存储\n  4.获取粗略位置\n  5.获取精确位置\n  适用范围：VIVO渠道包\n  隐私说明：https://www.vivo.com.cn/about-vivo/privacy-policy\n  ⑦第三方SDK：华为应用市场联运和广告SDK\n  用途：1.联运市场必须接入；2.在App中投放广告与数据分析\n  收集的信息：1.设备标识信息（例如硬件型号、操作系统版本、设备设置、IMEI、MAC地址、AndroidID、必要的软件列表等）\n  2.允许程序写入外部存储\n  3.允许程序读取外部存储\n  4.获取粗略位置","5.获取精确位置\n  适用范围：华为渠道包\n  隐私说明：https://www.huawei.com/cn/privacy-policy\n  ⑧第三方SDK：小米应用市场联运和广告SDK\n  用途：1.联运市场必须接入；2.在App中投放广告与数据分析\n  收集的信息：1.设备标识信息（例如硬件型号、操作系统版本、设备设置、IMEI、MAC地址、AndroidID、必要的软件列表等）\n  2.允许程序写入外部存储\n  3.允许程序在手机屏幕关闭后后台进程仍然运行\n  4.获取粗略位置，获取精确位置\n  5.挂载、反挂载外部文件系统\n  6.读写系统设置，允许读写系统设置项\n  适用范围：小米渠道包\n  隐私说明：https://privacy.mi.com/all/zh_CN/\n  \n  1.3.收集和使用信息的例外和特殊情况\n   \n  1.3.1例外情况\n   \n  根据相关法律法规及国家标准，以下情形中，我们或我们合作的第三方平台可能会收集、使用您的相关个人信息而无需征求您的授权同意：","1）与国家安全、国防安全等国家利益直接相关的；与公共安全、公共卫生、公共知情等重大公共利益直接相关的；\n \n  2）与犯罪侦查、起诉、审判和判决执行等直接相关的；\n   \n  3）出于维护您或其他个人的生命、财产、声誉等重大合法权益但又很难得到本人同意的；\n   \n  4）所收集的个人信息是您自行向社会公众公开的；\n   \n  5）从合法公开披露的信息中收集个人信息的，如合法的新闻报道、政府信息公开等渠道；\n   \n  6）根据您要求签订和履行合同所必需的；\n   \n  7）用于维护所提供的产品或服务的安全稳定运行所必需的，例如发现、处置产品或服务的故障；\n   \n  8）出于公共利益开展统计或学术研究所必要，且其对外提供学术研究或描述的结果时，对结果中所包含的个人信息进行去标识化处理的；\n   \n  9）法律法规规定的其他情形。","1.3.2特殊情况\n \n  请您理解，我们及我们合作的第三方平台向您提供的功能和服务是不断更新和发展的，如果我们提供的某一功能或服务需要获取新的权限而未在前述说明中，我们会在APP中通过弹窗的方式另行提示您选择是否授权，并在APP的隐私政策中进行更新与说明；如果第三方平台提供的某一功能或服务需要获取您新的权限，第三方平台可能会在其发布的隐私政策中进行更新与说明，如您想要了解第三方平台获取您权限的最新情况，您可以查询第三方平台最新的隐私政策。\n   \n   \n   \n  二、如何使用cookie或同类技术\n   \n  2.1. Cookie或同类技术是互联网中普遍使用的技术。当您体验、登录、使用我们的APP时，我们或我们合作的第三方平台可能会使用相关技术向您的设备发送一个或多个 Cookie或匿名标识符，以收集和存储您访问、使用本APP时的信息，用于分析您使用我们APP的偏好情况，","从而优化用户体验。我们承诺，不会将 Cookie用于本隐私政策所述目的之外的任何其他用途。\n \n  2.2. 我们在使用Cookie或同类技术时会严格遵守移动互联网应用安全相关法律法规的规定，并提供有效的安全措施以保护您的个人信息。如您想要详细了解我们合作的第三方平台如何使用Cookie或同类技术，您可以查阅第三方平台的隐私政策。\n   \n   \n   \n  三、如何共享、转让、披露您的个人信息\n   \n  我们将严格遵守相关法律法规，对您的个人信息予以保密，不会将您的个人信息出售给第三方。我们仅会在以下情况下，处于合法、正当、必要、特定、明确的目的，且采取符合业界标准的安全防护措施的前提下共享、转让、披露您的个人数据。用于共享、转让、披露的个人信息是去标识化处理后的信息，且共享第三方无法重新识别此类信息的自然人主体。\n   \n  3.1  共享\n   \n  1）  事先获得您明确的同意或授权；","2）  根据适用的法律法规规定，或基于司法或行政主管部门的强制性要求进行提供；\n \n  3）  在法律法规允许的范围内，为维护您或其他用户或其他个人的生命、财产等合法权益或是社会公共利益而有必要提供；\n   \n  4）  应您的监护人的合法要求而提供您的信息；\n   \n  5）  根据与您签署的相关协议（包括服务协议）或其他的法律文件约定而提供；\n   \n  6）  可能会基于您的相应授权将您的个人信息与关联方共享。但只会共享必要的个人信息，且受本隐私政策所述目的之约束。关联方如要改变个人信息的处理目的，将适时向您征得明示同意。\n   \n   \n   \n  3.2  转让\n   \n  1）  事先获得您明确的同意或授权；","2）  根据适用的法律法规、法律程序的要求、强制性的行政或司法要求而必须进行提供；\n \n  3）  根据与您签署的相关协议（包括服务协议）或其他的法律文件约定而提供；\n   \n  4）  在涉及收购、兼并、破产清算、重组等变更时，如涉及到个人信息转让，会要求新的持有您个人信息的公司或组织继续履行本隐私政策项下的责任和义务。如变更后的主体需变更个人信息使用目的，我们会要求其事先获得您的明示同意。\n   \n   \n   \n  3.3  公开披露\n   \n  1）  根据您的需求，在您明确同意的披露方式下披露您所指定的个人信息；\n   \n  2）  根据法律、法规的要求、行政或司法机关的强制性要求，我们可能会公开披露您的个人信息。当收到上述披露请求时，我们会依法要求请求方出具相关法律文件，如传票或调查函等。我们会慎重审查每一披","露请求，以确保该等披露请求符合相关法律规定。在法律法规许可的前提下，我们会对包含披露信息的文件进行加密保护。\n \n \n \n  四、如何存储您的个人信息\n   \n  4.1.   我们仅在本隐私政策所述目的所必需期间和法律法规要求的最短时限内储存您的个人信息。如我们终止服务或运营，我们及我们合作的第三方平台将及时停止继续收集您个人信息的活动，同时会遵守相关法律法规要求提前向您通知，并在终止服务或运营后对您的个人信息进行删除或匿名化处理，但法律法规或监管部门另有规定的除外。\n   \n  4.2.   我们在中华人民共和国境内运营中收集和产生的个人信息，储存在中华人民共和国境内，以下情形除外：\n   \n  1） 法律法规有明确规定；\n   \n  2） 获得您的授权同意；\n   \n  3） 目前我们不会将上述信息传输至境外，如果我们向境外传输，我们将会遵循相关国家规定或者征求您的同意。","4） 针对以上情形，我们会确保依据本隐私政策及国家法律法规要求对您的个人信息提供足够的保护。\n \n \n \n  五、如何保护您的个人信息\n   \n  5.1. 我们将采用严格的安全制度以及行业通行的安全技术和程序来确保您的个人信息不被丢失、泄露、毁损或滥用。\n   \n  5.2. 我们的服务采取同行业要求水平的加密技术、匿名化处理等合理手段对您的个人信息进行加密保存，并通过隔离技术进行隔离。我们还会采用严格的数据访问权限控制和多重身份认证技术保护个人信息，避免数据被违规使用。\n   \n  5.3. 我们通过建立数据安全管理规范、采用严格的数据访问权限控制等方式加强员工的安全意识以及对于保护信息重要性的认识。\n   \n  5.4. 我们仅允许有必要知晓这些信息的人员访问个人信息数据，并为此设置了严格的访问权限控制和监控机制。我们同时要求可能接触到您的","个人信息的所有人员履行相应的保密义务。如果未能履行这些义务，可能会被追究法律责任或被中止与我们的合作关系。\n \n  5.5. 我们将采取一切合理可行的措施，确保不收集与我们的APP服务无关的个人信息。\n   \n  5.6. 互联网环境并非百分之百安全，我们会尽力保护您个人信息的安全性。当您的个人信息出现泄露、损毁或丢失等安全事件时，我们将按照法律法规的要求，及时向您告知：安全事件的基本情况和可能的影响、我们已采取或将要采取的处置措施、您可自主防范和降低风险的建议、对您的补救措施等。我们同时将及时将事件相关情况以邮件、信函、电话、推送通知等方式告知您，难以逐一告知信息主体时，我们会采取合理、有效的方式发布公告。同时，我们还将按照监管部门要求，主动上报信息安全事件的处置情况。\n   \n  5.7. 您通过付款的方式获取我们APP相关的虚拟产品时，将通过第三方付款服务商进行交易。届时您不可避免的要向交易对方或潜在的交易对方披露自己的信息，如联络方式、银行账户或者邮箱等。请您妥善保护自己的信息，仅在必要的情形下向他人提供。","5.8. 如果我们监测到您将我们的APP及服务以及相关信息用于欺诈或非法目的，我们将会采取相应措施，包括但不限于中止或终止您使用我们的APP或服务。\n \n \n \n  六、如何管理您的个人信息\n   \n  6.1. 访问、更新和删除个人信息\n   \n  我们非常重视您对个人信息管理的权利。您可根据我们APP内的指引，在APP内或在APP中接入的第三方服务中访问、更新和删除您的个人信息。在访问、更新和删除前述信息时，我们可能会要求您进行身份验证，以保障信息安全。\n   \n  6.2. 注销账号\n   \n  如您想要注销APP账号，您可以按照我们APP中的指引提交账号注销申请，或者通过我们在本隐私政策第九条中所列明的联系方式联系我们，我们将详细的向您告知如何注销APP账号。","6.3. 除法律法规另有规定，当您更新、删除您的个人信息或申请注销帐号时，我们可能不会立即从备份系统中更新或删除相应的信息，但会在备份更新时更新或删除这些信息。\n \n \n \n  七、未成年人使用条款\n   \n  7.1.   若您是未满18周岁的未成年人，在使用我们的APP及相关服务前，应在您的父母或其他监护人监护、指导下共同阅读并同意本隐私政策。\n   \n  7.2.   我们根据国家相关法律法规的规定保护未成年人的个人信息，只会在法律允许、父母或其他监护人明确同意或保护未成年人所必要的情况下收集、使用、储存、共享、转让或披露未成年人的个人信息；如果我们发现在未事先获得可证实的父母同意的情况下收集了未成年人的个人信息，则会设法尽快删除相关信息。\n   \n  7.3.   若您是未成年人的监护人，当您对您所监护的未成年人的个人信息有相关疑问时，请通过公司本隐私政策公示的联系方式与我们联系。","八、《隐私政策》变更\n \n  8.1.   我们的隐私政策会根据运营情况及国家法律、政策进行调整，更新后将需要您在启动游戏时重新仔细阅读并选择是否同意。\n  隐私政策发布日期：2021年9月26日\n   \n   \n  九、如何联系我们\n   \n  9.1.   我们非常尊重每一位用户的隐私，并竭力保护用户的个人信息，如果您对本隐私政策有任何疑问、意见或建议，欢迎在工作日时间9:00-18:00联系我们，我们会尽快做出回复。\n                                                                                   \n  客服邮箱：beijingtianshu@126.com\n  "];n("PrivacyDetailLayerCtrl",(s=g("PrivacyDetailLayerCtrl"),I=y(a),u=y(a),s((D=t((h=function(n){function t(){for(var t,e=arguments.length,o=new Array(e),P=0;P<e;P++)o[P]=arguments[P];return t=n.call.apply(n,[this].concat(o))||this,i(t,"msgLabel",D,r(t)),i(t,"indexLabel",C,r(t)),t._curIndex=0,t}e(t,n);var o=t.prototype;return o.start=function(){this.onIndexChanged(0)},o.onLeftButtonClick=function(){c.play("audio",A.CLICK_NORMAL_BUTTON),l.getInstance().vibrateShort("light"),this.onIndexChanged(-1)},o.onRightButtonClick=function(){c.play("audio",A.CLICK_NORMAL_BUTTON),l.getInstance().vibrateShort("light"),this.onIndexChanged(1)},o.onIndexChanged=function(n){this._curIndex+=n,this._curIndex<0?this._curIndex=M.length-1:this._curIndex>=M.length&&(this._curIndex=0),this.msgLabel.string=M[this._curIndex],this.indexLabel.string="第"+(this._curIndex+1)+"/"+M.length+"页"},t}(p)).prototype,"msgLabel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(h.prototype,"indexLabel",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=h))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/PrivacyLayerCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUILayerCtrl.ts","./AudioHelper.ts","./AudioCtrl.ts","./PlatformManager.ts","./LocalData.ts","./Utils.ts"],(function(t){var e,i,a,r,n,o,c,l,s,u,p,y,f,C,v,d,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,a=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){n=t.cclegacy,o=t._decorator,c=t.Node,l=t.Prefab,s=t.log,u=t.find,p=t.instantiate},function(t){y=t.BaseUILayerCtrl},function(t){f=t.AudioHelper},function(t){C=t.CLIP},function(t){v=t.PlatformManager},function(t){d=t.LocalData},function(t){L=t.Utils}],execute:function(){var g,h,N,b,I,A,B,_,P;n._RF.push({},"b01a5aFzMlCjY4Kq4nWBlCi","PrivacyLayerCtrl",void 0);var O=o.ccclass,T=o.property;t("PrivacyLayerCtrl",(g=O("PrivacyLayerCtrl"),h=T(c),N=T(c),b=T(c),g((B=e((A=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n))||this,a(e,"closeNode",B,r(e)),a(e,"rejectNode",_,r(e)),a(e,"acceptNode",P,r(e)),e}i(e,t);var n=e.prototype;return n.start=function(){},n.setFirstIn=function(){this.closeNode.active=!1,this.rejectNode.active=!0,this.acceptNode.active=!0},n.onCloseButtonClick=function(){f.play("audio",C.CLICK_NORMAL_BUTTON),v.getInstance().vibrateShort("light"),this.playOutAction()},n.onAcceptButtonClick=function(){f.play("audio",C.CLICK_NORMAL_BUTTON),v.getInstance().vibrateShort("light"),d.acceptPrivacy=!0,d.save(),this.playOutAction()},n.onRejectButtonClick=function(){f.play("audio",C.CLICK_NORMAL_BUTTON),v.getInstance().vibrateShort("light"),L.popAlert({msg:"拒绝隐私政策将无法进行游戏，确定退出游戏吗？",sureCb:function(){v.getInstance().exitGame()}})},n.onLinkButtonClick=function(){f.play("audio",C.CLICK_NORMAL_BUTTON),v.getInstance().vibrateShort("light"),L.loadResWithCorrection("pages/privacyLayer/privacyDetailLayer",l,(function(t,e){if(t)return s(t);u("Canvas/privacyDetailLayer")||(p(e).parent=u("Canvas"))}))},e}(y)).prototype,"closeNode",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(A.prototype,"rejectNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(A.prototype,"acceptNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=A))||I));n._RF.pop()}}}));

System.register("chunks:///_virtual/ProgressBarTickCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var e,t,i,s,u,n,a,l,o;return{setters:[function(r){e=r.applyDecoratedDescriptor,t=r.inheritsLoose,i=r.initializerDefineProperty,s=r.assertThisInitialized},function(r){u=r.cclegacy,n=r._decorator,a=r.ProgressBar,l=r.error,o=r.Component}],execute:function(){var c,h,p,b,m;u._RF.push({},"13654yVfs9EpYJ26ox12U8g","ProgressBarTickCtrl",void 0);var N=n.ccclass,f=n.property;r("ProgressBarTickCtrl",(c=N("ProgressBarTickCtrl"),h=f(a),c((m=e((b=function(r){function e(){for(var e,t=arguments.length,u=new Array(t),n=0;n<t;n++)u[n]=arguments[n];return e=r.call.apply(r,[this].concat(u))||this,i(e,"progressBar",m,s(e)),e.curNumber=null,e.intervalPerUpdate=null,e.finalNumber=null,e}t(e,r);var u=e.prototype;return u.tickProgress=function(r,e,t){if(void 0===t&&(t=1),"number"!=typeof e)return l("finalNumber 必须是数字哦");null===(r=null===r?this.curNumber:r)||r==e?(this.curNumber=e,this.finalNumber=e,this.progressBar.progress=e):(this.curNumber=r,this.finalNumber=e,this.intervalPerUpdate=(e-r)/(33*t),this.unschedule(this.updateForNumber),this.schedule(this.updateForNumber,.03),this.progressBar.progress=this.curNumber)},u.updateForNumber=function(r){this.curNumber+=this.intervalPerUpdate,(this.intervalPerUpdate>0&&this.curNumber>this.finalNumber||this.intervalPerUpdate<0&&this.curNumber<this.finalNumber)&&(this.curNumber=this.finalNumber,this.unschedule(this.updateForNumber)),this.progressBar.progress=this.curNumber},u.stop=function(){this.unschedule(this.updateForNumber),this.curNumber=null,this.finalNumber=null},e}(o)).prototype,"progressBar",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=b))||p));u._RF.pop()}}}));

System.register("chunks:///_virtual/RemoteConfig.ts",["cc","./Base64.ts","./Config.ts","./PlatformJudge.ts"],(function(e){var o,t,n,s,i;return{setters:[function(e){o=e.cclegacy,t=e.sys},function(e){n=e.Base64},function(e){s=e.Config},function(e){i=e.PlatformJudge}],execute:function(){o._RF.push({},"fe8ebn7njtIaYC8X+Snejc8","RemoteConfig",void 0);e("RemoteConfig",{init:function(e){var o=this;if(this.inited)return e();var t=new XMLHttpRequest;t.onloadend=function(){if(200==t.status){console.log("得到服务器配置表",t.responseText);var n={};try{n=JSON.parse(t.responseText)}catch(e){console.log("得到的http返回值不是Json,尝试读取本地存档"),o.load()}console.log("json ",n),0==n.errcode?(o.mix(n.content),o.save()):(console.log("返回的errcode 不是0,尝试读取本地存档",n),o.load())}else console.log("得到的http statue 不是200,使用本地配置的原始数据，尝试读取本地存档"),o.load();o.inited=!0,e()},t.open("POST","https://weiliyouxi.com/index/game/setting",!0),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var n="gid=4&p="+i.getPlatformName()+"&v="+s.version;console.log("queryString",n),t.send(n)},mix:function(e){for(var o in e){var t=e[o];if("string"==typeof t&&(t=n.decode(t)),console.log("key val selfVal",o,t,this[o]),void 0===this[o])this[o]=t;else{var s=typeof this[o];if("string"==s)this[o]=t;else if("number"==s)this[o]=Number(t);else if("boolean"==s)this[o]="0"!=t;else if("object"==s)try{this[o]=JSON.parse(t)}catch(e){console.log("obj key value is not json",o,t)}}}console.log("融合完毕，本地配置为",this)},save:function(){var e=JSON.stringify(this);t.localStorage.setItem("remote_config",e),console.log("获取到的配置保存到本地了")},load:function(){var e=t.localStorage.getItem("remote_config");if(e){var o=JSON.parse(e);return Object.assign(this,o),console.log("从本地读取了配置"),!0}return!1},inited:!1,cumVideoTotal:3,cumVideoReward:100,freeRefreshTime:300,shareCash:100,bannerTakeTurnInterval:30,p1:60,p2:40,p3:50,p4:5,p5:122,p8:30,p9:30});o._RF.pop()}}}));

System.register("chunks:///_virtual/ResultPageCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioCtrl.ts","./AudioHelper.ts","./BaseUILayerCtrl.ts","./LabelTickCtrl.ts","./LocalData.ts","./NotificationCenter.ts","./ProgressBarTickCtrl.ts","./Utils.ts","./PlatformManager.ts","./cashWidgetCtrl.ts","./NodeDelayShow.ts","./PlatformJudge.ts"],(function(e){var t,i,a,n,r,l,o,s,c,u,d,p,g,h,f,N,b,y,C,m,w,B,P,v,I,k;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized,r=e.createClass},function(e){l=e.cclegacy,o=e._decorator,s=e.Node,c=e.Prefab,u=e.Vec3,d=e.Tween,p=e.find,g=e.instantiate},function(e){h=e.CLIP},function(e){f=e.AudioHelper},function(e){N=e.BaseUILayerCtrl},function(e){b=e.LabelTickCtrl},function(e){y=e.LocalData},function(e){C=e.NotificationCenter,m=e.NCKeys},function(e){w=e.ProgressBarTickCtrl},function(e){B=e.Utils},function(e){P=e.PlatformManager},function(e){v=e.CashWidgetCtrl},function(e){I=e.NodeDelayShow},function(e){k=e.PlatformJudge}],execute:function(){var A,T,_,O,R,E,S,L,z,M,W,x,V,Z,D,H,U,F,G,K,J;l._RF.push({},"b2d4ew7E55EipZiGHbld9dh","ResultPageCtrl",void 0);var X=o.ccclass,j=o.property;e("ResultPageCtrl",(A=X("ResultPageCtrl"),T=j(v),_=j(s),O=j(w),R=j(b),E=j(s),S=j(s),L=j(s),z=j(s),M=j(c),A((V=t((x=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,a(t,"cashWidgetCtrl",V,n(t)),a(t,"titleNode",Z,n(t)),a(t,"airplaneBarTick",D,n(t)),a(t,"airplaneLabelTick",H,n(t)),a(t,"adButtonNode",U,n(t)),a(t,"singleButtonNodeWx",F,n(t)),a(t,"singleButtonNodeMZ",G,n(t)),a(t,"singleButtonNodeOV",K,n(t)),a(t,"airplaneProgressPagePrefab",J,n(t)),t.cashRewardNum=300,t}i(t,e);var l=t.prototype;return l.playInAction=function(){var e=this;C.postNotice(m.NATIVE_BANNER_STOP_TICK,null),k.isMZ&&P.getInstance().showInterstitialAd({}),f.play("audio",h.MISSION_FINISH),this.titleNode.scale=u.ZERO;var t=new d(this.titleNode);t.to(1,{scale:u.ONE},{easing:"elasticOut"}).call((function(){e.cashWidgetCtrl.playInAction()})).start();var i=y.resultAirplaneProgress;y.resultAirplaneProgress+=.1;var a=y.resultAirplaneProgress;-1==y.getRandomAirplaneIndex()&&(i=1,a=1),this.airplaneBarTick.tickProgress(i,i,.1),this.airplaneLabelTick.tickLabel(100*i,100*i,1),this.airplaneBarTick.node.position=new u(635,182,0),(t=new d(this.airplaneBarTick.node)).delay(.5).call((function(){var t=p("particle0",e.node),i=p("particle1",e.node);t.active=!0,i.active=!0})).to(.5,{position:new u(32,182,0)},{easing:"quartOut"}).call((function(){e.airplaneBarTick.tickProgress(null,a,.5),e.airplaneLabelTick.tickLabel(null,100*a,.5)})).start();this.adButtonNode.scale=u.ZERO,(t=new d(this.adButtonNode)).delay(1.5).call((function(){e.adButtonNode.getComponent(I).doAction()})).to(1,{scale:u.ONE},{easing:"elasticOut"}).start();var n=this.singleButtonNodeWx;(k.isOppo||k.isVivo?n=this.singleButtonNodeOV:k.isMZ&&(n=this.singleButtonNodeMZ),n.active=!0,n.scale=u.ZERO,(t=new d(n)).delay(1.5+this.delayAfterAdButton).to(1,{scale:u.ONE},{easing:"elasticOut"}).call((function(){(k.isOppo||k.isVivo)&&(p("nativeNode",e.node).active=!0)})).start(),P.getInstance().trackEvent("ad_result_treble",{step:"展示"}),k.isWX)&&(p("toolPusInnerhNode",this.node).active=!0)},l.onSingleButtonClick=function(){this.cashRewardNum>0&&(f.play("audio",h.GET_CASH),P.getInstance().vibrateShort("medium"),P.getInstance().trackEvent("result_page",{with_ad:"no"}),y.cash+=this.cashRewardNum,this.cashRewardNum=0,this.scheduleOnce(this.goNextStep,2))},l.onAdButtonClick=function(){this.cashRewardNum>0&&(f.play("audio",h.CLICK_NORMAL_BUTTON),P.getInstance().vibrateShort("medium"),P.getInstance().trackEvent("result_page",{with_ad:"yes"}),P.getInstance().trackEvent("ad_result_treble",{step:"点击"}),P.getInstance().showVideo({},this.onAdComplete.bind(this)))},l.onAdComplete=function(e,t){e?this.cashRewardNum>0&&(y.cumVideoConunt++,f.play("audio",h.GET_CASH),P.getInstance().trackEvent("ad_result_treble",{step:"完成"}),y.cash+=3*this.cashRewardNum,this.cashRewardNum=0,this.scheduleOnce(this.goNextStep,2)):B.popToast(t)},l.goNextStep=function(){y.resultAirplaneProgress>=.99&&-1!=y.getRandomAirplaneIndex()?g(this.airplaneProgressPagePrefab).parent=p("Canvas"):C.postNotice(m.MISSION_RESET,null);y.save(),this.node.destroy()},r(t,[{key:"delayAfterAdButton",get:function(){return k.isWX?2:0}}]),t}(N)).prototype,"cashWidgetCtrl",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=t(x.prototype,"titleNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(x.prototype,"airplaneBarTick",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(x.prototype,"airplaneLabelTick",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(x.prototype,"adButtonNode",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(x.prototype,"singleButtonNodeWx",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(x.prototype,"singleButtonNodeMZ",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(x.prototype,"singleButtonNodeOV",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(x.prototype,"airplaneProgressPagePrefab",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=x))||W));l._RF.pop()}}}));

System.register("chunks:///_virtual/RockerFlyNodeCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NotificationCenter.ts","./ControlWidgetBase.ts"],(function(e){var t,o,i,n,r,c,h,a,s,l,u,g,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,c=e._decorator,h=e.Node,a=e.view,s=e.Vec3,l=e.Tween},function(e){u=e.NotificationCenter,g=e.NCKeys},function(e){d=e.ControlWidgetBase}],execute:function(){var p,w,N,f,y,v,R,F,b;r._RF.push({},"cfebeKcEE1JgLmmJKaEYdgl","RockerFlyNodeCtrl",void 0);var C=c.ccclass,T=c.property;e("RockerFlyNodeCtrl",(p=C("RockerFlyNodeCtrl"),w=T(h),N=T(h),f=T(h),p((R=t((v=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return t=e.call.apply(e,[this].concat(r))||this,i(t,"touchNode",R,n(t)),i(t,"wrenchNode",F,n(t)),i(t,"rightFingerNode",b,n(t)),t.rightFingerShowed=!1,t.wrenchRotationX=0,t}o(t,e);var r=t.prototype;return r.playInAction=function(){this.node.active=!0;var e=a.getVisibleSize();this.node.position=new s(0,-e.height/2+300,0)},r.onEnable=function(){this.touchNode.on(h.EventType.TOUCH_MOVE,this.onWrenchTouchMove,this),this.rightFingerNode.active=!0,l.stopAllByTarget(this.rightFingerNode),new l(this.rightFingerNode).to(1,{position:new s(100,-50,0)}).to(1,{position:new s(100,150,0)}).union().repeatForever().start(),this.wrenchRotationX=0,this.wrenchNode.eulerAngles=new s(this.wrenchRotationX,0,0)},r.onDisable=function(){this.touchNode.off(h.EventType.TOUCH_MOVE,this.onWrenchTouchMove,this)},r.onWrenchTouchMove=function(e){this.rightFingerNode.active=!1;var t=e.getUIDelta();this.wrenchRotationX-=t.y/4,this.wrenchRotationX<0?this.wrenchRotationX=0:this.wrenchRotationX>25&&(this.wrenchRotationX=25),this.wrenchNode.eulerAngles=new s(this.wrenchRotationX,0,0);var o=this.wrenchRotationX/38;u.postNotice(g.FLIGHT_CABIN_WRENCH_PUSH,o)},t}(d)).prototype,"touchNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(v.prototype,"wrenchNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=t(v.prototype,"rightFingerNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=v))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/SDKtest.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlatformJudge.ts","./PlatformManager.ts","./PlatformNotify.ts"],(function(o){var t,n,e,s,r,i,c;return{setters:[function(o){t=o.inheritsLoose},function(o){n=o.cclegacy,e=o._decorator,s=o.Component},function(o){r=o.PlatformJudge},function(o){i=o.PlatformManager},function(o){c=o.PlatformNotify}],execute:function(){var a;n._RF.push({},"e22cfHlouxGSoN5mdgssZ7V","SDKtest",void 0);var l=e.ccclass;e.property,o("SDKtest",l("SDKtest")(a=function(o){function n(){return o.apply(this,arguments)||this}t(n,o);var e=n.prototype;return e.start=function(){i.getInstance().showBanner({type:"native"}),i.getInstance().hideBanner({tryDestroy:!0})},e.onLoad=function(){c.addObserver(c.BANNER_SHOW_HEIGHT,this.onBannerShowHeight,this)},e.onDestroy=function(){c.removeObserver(c.BANNER_SHOW_HEIGHT,this)},e.onBannerShowHeight=function(o){var t=o.height;t>0?console.log("banner展示成功了,高度为",t):console.log("banner 被隐藏了， banner高度变成了0")},e.start=function(){r.isOppo?console.log("当前是oppo小游戏"):r.isWX?console.log("当前是微信小游戏"):r.isVivo&&console.log("当前是vivo小游戏")},e.onAdButtonClick=function(){i.getInstance().showVideo({},this.onAdComplete.bind(this))},e.onAdComplete=function(o,t){o?console.log("视频广告播放完成了。可以得到奖励"):console.log("视频广告没有播放完成"+t)},n}(s))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/SecurityCheckCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioCtrl.ts","./AudioHelper.ts","./NotificationCenter.ts","./PlatformManager.ts","./ControlWidgetBase.ts"],(function(e){var t,i,o,r,c,n,a,l,s,u,d,p,C,h,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){c=e.cclegacy,n=e._decorator,a=e.Node,l=e.view,s=e.Vec3},function(e){u=e.CLIP},function(e){d=e.AudioHelper},function(e){p=e.NotificationCenter,C=e.NCKeys},function(e){h=e.PlatformManager},function(e){f=e.ControlWidgetBase}],execute:function(){var N,v,y,g,b,I,_,m,B;c._RF.push({},"cf754FpnBxKRIRFq5Kd64Ii","SecurityCheckCtrl",void 0);var S=n.ccclass,K=n.property;e("SecurityCheckCtrl",(N=S("SecurityCheckCtrl"),v=K(a),y=K(a),g=K(a),N((_=t((I=function(e){function t(){for(var t,i=arguments.length,c=new Array(i),n=0;n<i;n++)c[n]=arguments[n];return t=e.call.apply(e,[this].concat(c))||this,o(t,"arrestedNode",_,r(t)),o(t,"rejectNode",m,r(t)),o(t,"acceptNode",B,r(t)),t}i(t,e);var c=t.prototype;return c.playInAction=function(){this.node.active=!0,this.arrestedNode.active=!1,this.rejectNode.active=!0,this.acceptNode.active=!0;var e=l.getVisibleSize();this.rejectNode.position=new s(-130,-e.height/2+235,0),this.acceptNode.position=new s(130,-e.height/2+235,0)},c.onRejectButtonClick=function(){var e=this;d.play("audio",u.CLICK_BACK_BUTTON),h.getInstance().vibrateShort("medium"),this.arrestedNode.active=!0,this.rejectNode.active=!1,this.acceptNode.active=!1,p.postNotice(C.SECURITY_CHECK_CHOICE,!1),this.scheduleOnce((function(){e.node.active=!1}),1)},c.onAcceptButtonClick=function(){d.play("audio",u.CLICK_BACK_BUTTON),h.getInstance().vibrateShort("medium"),p.postNotice(C.SECURITY_CHECK_CHOICE,!0),this.node.active=!1},t}(f)).prototype,"arrestedNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=t(I.prototype,"rejectNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(I.prototype,"acceptNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=I))||b));c._RF.pop()}}}));

System.register("chunks:///_virtual/SecurityCheckPassengerCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,i,n,a,s,o,l,c,u;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,o=e.SkinnedMeshRenderer,l=e.Material,c=e.SkeletalAnimation,u=e.Component}],execute:function(){var p,h,y,M,d,f,b,g,m;a._RF.push({},"a4bcca2bHdByonYhhOyMVV4","SecurityCheckPassengerCtrl",void 0);var C=s.ccclass,R=s.property;e("SecurityCheckPassengerCtrl",(p=C("SecurityCheckPassengerCtrl"),h=R(o),y=R(l),M=R(c),p((b=r((f=function(e){function r(){for(var r,t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return r=e.call.apply(e,[this].concat(a))||this,i(r,"meshRenderer",b,n(r)),i(r,"prisonerMat",g,n(r)),i(r,"ani",m,n(r)),r}t(r,e);var a=r.prototype;return a.start=function(){},a.replacePrisoneMat=function(){this.prisonerMat&&(this.meshRenderer.setMaterial(this.prisonerMat,0),this.meshRenderer.setMaterial(this.prisonerMat,1),this.meshRenderer.setMaterial(this.prisonerMat,2))},r}(u)).prototype,"meshRenderer",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=r(f.prototype,"prisonerMat",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=r(f.prototype,"ani",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=f))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/ShareLayerCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioCtrl.ts","./AudioHelper.ts","./BaseUILayerCtrl.ts","./LocalData.ts","./NotificationCenter.ts","./Utils.ts","./PlatformJudge.ts","./PlatformManager.ts"],(function(t){var e,r,i,n,a,o,s,c,l,u,f,h,p,y,d,C,L,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,s=t.Label,c=t.find,l=t.Vec3},function(t){u=t.CLIP},function(t){f=t.AudioHelper},function(t){h=t.BaseUILayerCtrl},function(t){p=t.LocalData},function(t){y=t.NotificationCenter,d=t.NCKeys},function(t){C=t.Utils},function(t){L=t.PlatformJudge},function(t){g=t.PlatformManager}],execute:function(){var S,v,b,m,I;a._RF.push({},"a5d56So7pJKDoA6xhVvXg/k","ShareLayerCtrl",void 0);var _=o.ccclass,A=o.property;t("ShareLayerCtrl",(S=_("ShareLayerCtrl"),v=A(s),S((I=e((m=function(t){function e(){for(var e,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,i(e,"remainLabel",I,n(e)),e}r(e,t);var a=e.prototype;return a.onLoad=function(){L.isStrict&&(c("bg/wxButton",this.node).position=new l(117,-282,0),c("bg/strictNode",this.node).active=!0)},a.start=function(){this.refresh()},a.refresh=function(){this.remainLabel.string="(今日还可领取"+(5-p.todayShareSucessTime)+"次)"},a.onFriendButtonClick=function(){var t=this;f.play("audio",u.CLICK_NORMAL_BUTTON),g.getInstance().vibrateShort("light"),g.getInstance().share((function(e,r){e?p.todayShareSucessTime<5&&(p.todayShareSucessTime++,p.cash+=500,p.save(),t.refresh()):C.popToast(r)}),{type:"wx"})},a.onCloseButtonClick=function(){f.play("audio",u.CLICK_BACK_BUTTON),g.getInstance().vibrateShort("light"),this.playOutAction(),y.postNotice(d.MAIN_PAGE_RED_POINT,null)},e}(h)).prototype,"remainLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=m))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/ShareRecordLayerCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioCtrl.ts","./AudioHelper.ts","./BaseUILayerCtrl.ts","./LocalData.ts","./Utils.ts","./PlatformManager.ts","./RemoteConfig.ts"],(function(e){var t,r,a,o,i,n,l,s,c,u,d,p,h,f,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,a=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,n=e._decorator,l=e.Label,s=e.Node},function(e){c=e.CLIP},function(e){u=e.AudioHelper},function(e){d=e.BaseUILayerCtrl},function(e){p=e.LocalData},function(e){h=e.Utils},function(e){f=e.PlatformManager},function(e){y=e.RemoteConfig}],execute:function(){var b,C,L,m,g,S,R,T,v,A,B;i._RF.push({},"25ab8gSGq1MZrP6+bdWeh98","ShareRecordLayerCtrl",void 0);var I=n.ccclass,N=n.property;e("ShareRecordLayerCtrl",(b=I("ShareRecordLayerCtrl"),C=N(l),L=N(l),m=N(s),g=N(s),b((T=t((R=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return t=e.call.apply(e,[this].concat(i))||this,a(t,"diamondLabel",T,o(t)),a(t,"numLabel",v,o(t)),a(t,"closeNode0",A,o(t)),a(t,"closeNode1",B,o(t)),t}r(t,e);var i=t.prototype;return i.start=function(){this.refresh()},i.refresh=function(){this.diamondLabel.string="分享录屏即可获得"+y.shareCash+"钞票",this.numLabel.string="(今日还可领取"+(5-p.todayShareSucessTime)+"次)"},i.onShareButtonClick=function(){var e=this;u.play("audio",c.CLICK_NORMAL_BUTTON),f.getInstance().vibrateShort("light"),f.getInstance().shareRecordVideo((function(t,r){t?(p.todayShareSucessTime<5&&(p.diamond+=y.shareCash,h.popToast("恭喜获得"+y.shareCash+"钞票"),p.todayShareSucessTime++),e.playOutAction()):h.popToast(r)}))},i.onCloseButtonClick=function(){u.play("audio",c.CLICK_BACK_BUTTON),this.playOutAction()},t}(d)).prototype,"diamondLabel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(R.prototype,"numLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(R.prototype,"closeNode0",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(R.prototype,"closeNode1",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=R))||S));i._RF.pop()}}}));

System.register("chunks:///_virtual/ShopLayerCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./airplane_shop_config.ts","./AudioCtrl.ts","./AudioHelper.ts","./LocalData.ts","./NotificationCenter.ts","./Utils.ts","./PlatformManager.ts","./ShopLayerItemCtrl.ts"],(function(e){var t,n,i,r,o,a,s,c,u,l,d,h,I,p,g,_,f,m,x,C,v,B,b,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.Node,c=e.Label,u=e.ToggleContainer,l=e.Prefab,d=e.isValid,h=e.instantiate,I=e.director,p=e.Vec3,g=e.Component},function(e){_=e.airplane_shop_config},function(e){f=e.CLIP},function(e){m=e.AudioHelper},function(e){x=e.LocalData},function(e){C=e.NotificationCenter,v=e.NCKeys},function(e){B=e.Utils},function(e){b=e.PlatformManager},function(e){y=e.ShopLayerItemCtrl}],execute:function(){var N,P,L,A,S,k,M,O,T,E,w,z,R,K,U,V,D,q,H;o._RF.push({},"2174229O31PyaxVtvwBNvYK","ShopLayerCtrl",void 0);var F=a.ccclass,j=a.property;e("ShopLayerCtrl",(N=F("ShopLayerCtrl"),P=j([y]),L=j(s),A=j(c),S=j(s),k=j(s),M=j(s),O=j(s),T=j(u),N((z=t((w=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"itemCtrls",z,r(t)),i(t,"cashButtonNode",R,r(t)),i(t,"cashLabel",K,r(t)),i(t,"videoButtonNode",U,r(t)),i(t,"equipButtonNode",V,r(t)),i(t,"alreadyButtonNode",D,r(t)),i(t,"signinButtonNode",q,r(t)),i(t,"toggleContainer",H,r(t)),t._curPageIndex=-1,t._curItemIndex=-1,t._curModelIndex=-1,t}n(t,e);var o=t.prototype;return o.start=function(){var e=Math.floor(x.curAirplaneIndex/6);this._curPageIndex=e,this._curItemIndex=x.curAirplaneIndex,this.setPageIndex(e),this.replaceAirplane(x.curAirplaneIndex),this.onItemSelected(x.curAirplaneIndex),b.getInstance().trackEvent("ad_shop",{step:"展示"})},o.onEnable=function(){C.addObserver(v.SHOP_ITEM_BE_CLICK,this.onItemSelected,this)},o.onDisable=function(){C.removeObserver(v.SHOP_ITEM_BE_CLICK,this)},o.onItemSelected=function(e){this._curItemIndex!=e&&(this._curItemIndex=e,this.refreshCurPageItems())},o.refreshCurPageItems=function(){for(var e=6*this._curPageIndex,t=0;t<6;t++)this.itemCtrls[t].setSelected(this._curItemIndex==e+t);this.replaceAirplane(this._curItemIndex),this.refreshBottomButton()},o.refreshBottomButton=function(){if(this.cashButtonNode.active=!1,this.videoButtonNode.active=!1,this.equipButtonNode.active=!1,this.alreadyButtonNode.active=!1,this.signinButtonNode.active=!1,this._curItemIndex==x.curAirplaneIndex)this.alreadyButtonNode.active=!0;else if(x.isAirplaneUnlock(this._curItemIndex))this.equipButtonNode.active=!0;else{var e=_[this._curItemIndex];"cash"==e.currency?(this.cashButtonNode.active=!0,this.cashLabel.string=e.price.toString()):"ad"==e.currency?this.videoButtonNode.active=!0:"signin"==e.currency&&(this.signinButtonNode.active=!0)}},o.setPageIndex=function(e){this._curPageIndex=e,this.toggleContainer.toggleItems[e].isChecked=!0;for(var t=6*this._curPageIndex,n=0;n<6;n++)_[t+n]?(this.itemCtrls[n].node.active=!0,this.itemCtrls[n].init(t+n),this.itemCtrls[n].setSelected(this._curItemIndex==t+n)):this.itemCtrls[n].node.active=!1},o.replaceAirplane=function(e){var t=this;this._curModelNode&&(this._curModelNode.destroy(),this._curModelNode=null);var n="prefab/3d/airplane/airplane"+e;B.loadResWithCorrection(n,l,(function(n,i){if(e==t._curItemIndex&&0!=d(t.node)){var r=h(i);r.parent=I.getScene(),r.position=p.ZERO,t._curModelNode=r}}))},o.onCashButtonClick=function(){m.play("audio",f.CLICK_NORMAL_BUTTON),b.getInstance().vibrateShort("light"),b.getInstance().trackEvent("shop_by_cash",null);var e=_[this._curItemIndex];x.cash<e.price?B.popToast("您的钞票不足"):(x.cash-=e.price,x.unlockAirplane(this._curItemIndex),x.curAirplaneIndex=this._curItemIndex,this.setPageIndex(this._curPageIndex),this.refreshBottomButton())},o.onVideoButtonClick=function(){m.play("audio",f.CLICK_NORMAL_BUTTON),b.getInstance().vibrateShort("light"),b.getInstance().trackEvent("shop_by_ad",null),b.getInstance().trackEvent("ad_shop",{step:"点击"}),b.getInstance().showVideo({},this.onAdComplete.bind(this))},o.onAdComplete=function(e,t){if(e){x.cumVideoConunt++,b.getInstance().trackEvent("ad_shop",{step:"完成"});var n=_[this._curItemIndex];x.addAirplaneVideCum(this._curItemIndex),x.getAirplaneVideoCum(this._curItemIndex)>=n.price&&(x.unlockAirplane(this._curItemIndex),x.curAirplaneIndex=this._curItemIndex,b.getInstance().trackEvent("shop_ad_new_airplane",null)),this.setPageIndex(this._curPageIndex),this.refreshBottomButton()}else B.popToast(t)},o.onEquipButtonClick=function(){m.play("audio",f.CLICK_NORMAL_BUTTON),b.getInstance().vibrateShort("light"),x.curAirplaneIndex=this._curItemIndex,this.setPageIndex(this._curPageIndex),this.refreshBottomButton()},o.onLeftButtonClick=function(){m.play("audio",f.CLICK_NORMAL_BUTTON),b.getInstance().vibrateShort("light"),this._curPageIndex--,this._curPageIndex<0&&(this._curPageIndex=2),this.setPageIndex(this._curPageIndex)},o.onRightButtonClick=function(){m.play("audio",f.CLICK_NORMAL_BUTTON),b.getInstance().vibrateShort("light"),this._curPageIndex++,this._curPageIndex>2&&(this._curPageIndex=0),this.setPageIndex(this._curPageIndex)},t}(g)).prototype,"itemCtrls",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=t(w.prototype,"cashButtonNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(w.prototype,"cashLabel",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(w.prototype,"videoButtonNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(w.prototype,"equipButtonNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(w.prototype,"alreadyButtonNode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=t(w.prototype,"signinButtonNode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(w.prototype,"toggleContainer",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=w))||E));o._RF.pop()}}}));

System.register("chunks:///_virtual/ShopLayerItemCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./airplane_shop_config.ts","./AudioCtrl.ts","./AudioHelper.ts","./LocalData.ts","./NotificationCenter.ts","./PlatformManager.ts"],(function(e){var i,t,r,a,n,o,l,c,s,p,u,d,h,b,g,f,m,v,y;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){n=e.cclegacy,o=e._decorator,l=e.Sprite,c=e.SpriteAtlas,s=e.Node,p=e.Label,u=e.SpriteFrame,d=e.Component},function(e){h=e.airplane_shop_config},function(e){b=e.CLIP},function(e){g=e.AudioHelper},function(e){f=e.LocalData},function(e){m=e.NotificationCenter,v=e.NCKeys},function(e){y=e.PlatformManager}],execute:function(){var N,S,L,C,F,_,w,z,A,I,x,k,P,D,M,T,U,H,B,E,K,O,R;n._RF.push({},"b0ed2AVdSlE0581wT71cAmF","ShopLayerItemCtrl",void 0);var V=o.ccclass,j=o.property;e("ShopLayerItemCtrl",(N=V("ShopLayerItemCtrl"),S=j(l),L=j(c),C=j(s),F=j(s),_=j(s),w=j(s),z=j(p),A=j(l),I=j(u),x=j(u),N((D=i((P=function(e){function i(){for(var i,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return i=e.call.apply(e,[this].concat(n))||this,r(i,"icon",D,a(i)),r(i,"atlas",M,a(i)),r(i,"getedNode",T,a(i)),r(i,"lockNode",U,a(i)),r(i,"cashNode",H,a(i)),r(i,"videoNode",B,a(i)),r(i,"priceLabel",E,a(i)),r(i,"bgSprite",K,a(i)),r(i,"bgUnselectedFrame",O,a(i)),r(i,"bgSelectedFrame",R,a(i)),i.index=0,i}t(i,e);var n=i.prototype;return n.init=function(e){this.index=e,this.refresh()},n.setSelected=function(e){this.bgSprite.spriteFrame=e?this.bgSelectedFrame:this.bgUnselectedFrame},n.refresh=function(){if(this.icon.spriteFrame=this.atlas.getSpriteFrame("airplane"+this.index),f.isAirplaneUnlock(this.index))this.getedNode.active=!0,this.lockNode.active=!1,this.cashNode.active=!1,this.videoNode.active=!1,this.priceLabel.string="";else{this.getedNode.active=!1,this.lockNode.active=!0;var e=h[this.index];"cash"==e.currency?(this.cashNode.active=!0,this.videoNode.active=!1,this.priceLabel.string=e.price.toString()):"ad"==e.currency?(this.cashNode.active=!1,this.videoNode.active=!0,this.priceLabel.string=f.getAirplaneVideoCum(this.index)+"/"+e.price):"signin"==e.currency&&(this.cashNode.active=!1,this.videoNode.active=!1,this.priceLabel.string="")}},n.onSelfClick=function(){g.play("audio",b.CLICK_NORMAL_BUTTON),y.getInstance().vibrateShort("light"),m.postNotice(v.SHOP_ITEM_BE_CLICK,this.index)},i}(d)).prototype,"icon",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=i(P.prototype,"atlas",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=i(P.prototype,"getedNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=i(P.prototype,"lockNode",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=i(P.prototype,"cashNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=i(P.prototype,"videoNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=i(P.prototype,"priceLabel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=i(P.prototype,"bgSprite",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=i(P.prototype,"bgUnselectedFrame",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=i(P.prototype,"bgSelectedFrame",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=P))||k));n._RF.pop()}}}));

System.register("chunks:///_virtual/ShopSceneCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LoadingLayerCtrl.ts","./cashWidgetCtrl.ts","./AudioCtrl.ts","./AudioHelper.ts","./Config.ts","./Utils.ts","./PlatformManager.ts","./NotificationCenter.ts"],(function(t){var e,i,n,o,r,a,l,c,u,s,d,p,f,g,h,C,y,b,L,S,N,v,A;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,l=t.Node,c=t.view,u=t.Vec3,s=t.Prefab,d=t.log,p=t.instantiate,f=t.director,g=t.Component},function(t){h=t.LoadingLayerCtrl},function(t){C=t.CashWidgetCtrl},function(t){y=t.CLIP},function(t){b=t.AudioHelper},function(t){L=t.Config},function(t){S=t.Utils},function(t){N=t.PlatformManager},function(t){v=t.NotificationCenter,A=t.NCKeys}],execute:function(){var _,m,k,B,I,T,w,z,P,W,R;r._RF.push({},"16bbcuyNTZG/pkWO7nDiZ3S","ShopSceneCtrl",void 0);var O=a.ccclass,D=a.property;t("ShopSceneCtrl",(_=O("ShopSceneCtrl"),m=D(l),k=D(C),B=D(l),I=D(h),_((z=e((w=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,n(e,"backButtonNode",z,o(e)),n(e,"cashWidgetCtrl",P,o(e)),n(e,"loadingLayer",W,o(e)),n(e,"loadingLayerCtrl",R,o(e)),e}i(e,t);var r=e.prototype;return r.onLoad=function(){var t=c.getVisibleSize(),e=new u(-270,t.height/2-L.ui.topOffset,0);this.backButtonNode.position=e,this.cashWidgetCtrl.playInAction(),b.needLoadAudioNode()&&S.loadResWithCorrection("audio",s,(function(t,e){if(t)return d(t);p(e).parent=f.getScene(),d("audio node inited")}))},r.start=function(){N.getInstance().trackEvent("enter_shop",{}),this.scheduleOnce((function(){v.postNotice(A.NATIVE_BANNER_START_TICK,{})}),2)},r.onBackButtonClick=function(){b.play("audio",y.CLICK_NORMAL_BUTTON),N.getInstance().vibrateShort("light"),this.loadingLayer.active=!0,this.loadingLayerCtrl.setProgress(0),f.loadScene("GameScene")},e}(g)).prototype,"backButtonNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(w.prototype,"cashWidgetCtrl",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=e(w.prototype,"loadingLayer",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(w.prototype,"loadingLayerCtrl",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=w))||T));r._RF.pop()}}}));

System.register("chunks:///_virtual/signin_config.ts",["cc"],(function(e){var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){a._RF.push({},"dd713Zqgl5Mb5xWvXlYvXiF","signin_config",void 0);e("signin_config",[{rewardType:"cash",value:0,extra:0},{rewardType:"cash",value:200,extra:200},{rewardType:"airplane",value:3,extra:300},{rewardType:"cash",value:400,extra:400},{rewardType:"airplane",value:9,extra:500},{rewardType:"cash",value:500,extra:600},{rewardType:"cash",value:700,extra:700},{rewardType:"airplane",value:12,extra:800}]);a._RF.pop()}}}));

System.register("chunks:///_virtual/SigninItemCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./airplane_shop_config.ts","./signin_config.ts"],(function(e){var t,i,n,a,o,r,l,c,s,d,u,h,p,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,l=e.CCInteger,c=e.Label,s=e.Node,d=e.Tween,u=e.Vec3,h=e.Component},function(e){p=e.airplane_shop_config},function(e){b=e.signin_config}],execute:function(){var g,y,f,v,m,N,G,C,w,L,I,k,_,z,S;o._RF.push({},"951b8m7AFVGc703G/FS9r/h","SigninItemCtrl",void 0);var x=r.ccclass,M=r.property;e("SigninItemCtrl",(g=x("SigninItemCtrl"),y=M(l),f=M(c),v=M(c),m=M(s),N=M(s),G=M(s),g((L=t((w=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,n(t,"dayIndex",L,a(t)),n(t,"dayLabel",I,a(t)),n(t,"bottomLabel",k,a(t)),n(t,"checkMarkNode",_,a(t)),n(t,"canGetNode",z,a(t)),n(t,"goldCanGetNode",S,a(t)),t}i(t,e);var o=t.prototype;return o.start=function(){this.dayLabel.string="第"+this.dayIndex+"天"},o.setCantGet=function(){var e=b[this.dayIndex];"airplane"==e.rewardType?this.bottomLabel.string=p[e.value].name:this.bottomLabel.string=e.value.toString(),d.stopAllByTarget(this.node),this.node.scale=u.ONE,this.checkMarkNode.active=!1,this.canGetNode.active=!1,this.goldCanGetNode.active=!1},o.setCanGet=function(){var e=b[this.dayIndex];"airplane"==e.rewardType?this.bottomLabel.string=p[e.value].name:this.bottomLabel.string=e.value.toString(),this.checkMarkNode.active=!1,new d(this.node).to(1,{scale:new u(1.1,1.1,1.1)}).to(1,{scale:new u(.9,.9,.9)}).union().repeatForever().start(),this.canGetNode.active=!0,this.goldCanGetNode.active=!0},o.setAlreadyGet=function(){b[this.dayIndex];this.bottomLabel.string="已领取",this.canGetNode.active=!1,this.checkMarkNode.active=!0,this.goldCanGetNode.active=!1,d.stopAllByTarget(this.node),this.node.scale=u.ONE},t}(h)).prototype,"dayIndex",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),I=t(w.prototype,"dayLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(w.prototype,"bottomLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(w.prototype,"checkMarkNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(w.prototype,"canGetNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(w.prototype,"goldCanGetNode",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=w))||C));o._RF.pop()}}}));

System.register("chunks:///_virtual/SigninLayerCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./signin_config.ts","./AudioCtrl.ts","./AudioHelper.ts","./BaseUILayerCtrl.ts","./LocalData.ts","./NotificationCenter.ts","./Utils.ts","./PlatformJudge.ts","./PlatformManager.ts","./SigninItemCtrl.ts"],(function(t){var e,n,i,a,r,o,s,c,l,g,u,d,h,p,f,v,y,C,m,b,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator,s=t.Label,c=t.find,l=t.Tween,g=t.Vec3},function(t){u=t.signin_config},function(t){d=t.CLIP},function(t){h=t.AudioHelper},function(t){p=t.BaseUILayerCtrl},function(t){f=t.LocalData},function(t){v=t.NotificationCenter,y=t.NCKeys},function(t){C=t.Utils},function(t){m=t.PlatformJudge},function(t){b=t.PlatformManager},function(t){_=t.SigninItemCtrl}],execute:function(){var I,w,T,A,D,L,S,G,k;r._RF.push({},"e4fb0LVcvxBYrK4Ak3v535N","SigninLayerCtrl",void 0);var B=o.ccclass,N=o.property;t("SigninLayerCtrl",(I=B("SigninLayerCtrl"),w=N([_]),T=N(s),A=N(s),I((S=e((L=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,i(e,"items",S,a(e)),i(e,"doubleButtonLabel",G,a(e)),i(e,"anotherButtonLabel",k,a(e)),e.canGetDay=0,e}n(e,t);var r=e.prototype;return r.start=function(){this.onSigninChanged()},r.onSigninChanged=function(){var t=f.signinCanGetDay,e=f.signinGetTime,n=C.offsetDay(e,C.getCurTime());if(n<0)f.signinAnotherReward=!0,this.refresh(0,1,f.signinAnotherReward),f.signinCanGetDay=1;else if(0==n){var i=t-1;this.refresh(i,0,f.signinAnotherReward)}else n>=1&&(f.signinAnotherReward=!0,8==t&&(t=1,f.signinCanGetDay=1),this.refresh(t-1,t,f.signinAnotherReward))},r.refresh=function(t,e,n){for(var i=1;i<=7;i++)this.items[i].setCantGet();if(t>0)for(var a=1;a<=t;a++)this.items[a].setAlreadyGet();var r=c("bg/mid/double",this.node),o=c("bg/mid/single",this.node),s=c("bg/mid/strictSingle",this.node),d=c("bg/mid/another",this.node),h=c("bg/mid/strictAnother",this.node),p=c("bg/mid/already",this.node);if(r.active=!1,o.active=!1,s.active=!1,d.active=!1,p.active=!1,h.active=!1,e>0)this.items[e].setCanGet(),this.canGetDay=e,r.active=!0,b.getInstance().trackEvent("ad_sign_double",{step:"展示"}),this.doubleButtonLabel.string="领取(额外 +"+u[e].extra+"      )",s.active=m.isStrict,o.active=!s.active,m.isStrict||new l(r).to(.85,{scale:new g(1.05,1.05,1.05)}).to(.85,{scale:new g(.95,.95,.95)}).union().repeatForever().start();else if(n){if(this.canGetDay=t,d.active=!0,b.getInstance().trackEvent("ad_sign_completion",{step:"展示"}),h.active=m.isStrict,this.anotherButtonLabel.string="额外+"+u[this.canGetDay].extra,!m.isStrict)new l(d).to(.85,{scale:new g(1.05,1.05,1.05)}).to(.85,{scale:new g(.95,.95,.95)}).union().repeatForever().start()}else p.active=!0},r.onDoubleButtonClick=function(){h.play("audio",d.CLICK_NORMAL_BUTTON),b.getInstance().vibrateShort("light"),b.getInstance().trackEvent("ad_sign_double",{step:"点击"}),b.getInstance().showVideo({},this.onAdComplete.bind(this))},r.onAdComplete=function(t,e){if(t){b.getInstance().trackEvent("sign_with_ad",{day:this.canGetDay}),b.getInstance().trackEvent("ad_sign_double",{step:"完成"}),f.cumVideoConunt++;var n=u[this.canGetDay],i=n.extra;f.itemUnlocked(n.rewardType,n.value)?(i*=2,C.popToast("恭喜你领取了"+i+"钞票")):(f.addOrUnlockItem(n.rewardType,n.value),C.popToast("恭喜你领取了"+f.getItemName(n.rewardType,n.value)+"和额外"+i+"钞票")),f.cash+=i;var a=f.signinCanGetDay+1,r=C.getCurTime();f.refreshSigninData(a,r),f.signinAnotherReward=!1,f.save(),this.onSigninChanged()}else C.popToast(e)},r.onSingleButtonClick=function(){if(h.play("audio",d.CLICK_NORMAL_BUTTON),b.getInstance().vibrateShort("light"),this.canGetDay<=0)return C.popToast("今天已经领取过了");b.getInstance().trackEvent("sign_without_ad",{day:this.canGetDay});var t=u[this.canGetDay];f.itemUnlocked(t.rewardType,t.value)?(f.cash+=t.extra,C.popToast("恭喜你领取了"+t.extra+"钞票")):(f.addOrUnlockItem(t.rewardType,t.value),C.popToast("恭喜你领取了"+f.getItemName(t.rewardType,t.value)));var e=f.signinCanGetDay+1,n=C.getCurTime();f.refreshSigninData(e,n),f.save(),this.onSigninChanged()},r.onAnotherButtonClick=function(){h.play("audio",d.CLICK_NORMAL_BUTTON),b.getInstance().vibrateShort("light"),b.getInstance().trackEvent("ad_sign_completion",{step:"点击"}),b.getInstance().showVideo({},this.onAnotherRewardComplet.bind(this))},r.onAnotherRewardComplet=function(t,e){if(t){b.getInstance().trackEvent("sign_completion",{day:this.canGetDay}),b.getInstance().trackEvent("ad_sign_completion",{step:"完成"}),f.cumVideoConunt++;var n=u[this.canGetDay];f.cash+=n.extra,C.popToast("恭喜你领取了"+n.extra+"钞票"),f.signinAnotherReward=!1,f.save(),this.onSigninChanged()}else C.popToast(e)},r.onCloseButtonClick=function(){h.play("audio",d.CLICK_BACK_BUTTON),b.getInstance().vibrateShort("light"),this.playOutAction(),v.postNotice(y.MAIN_PAGE_RED_POINT,null)},e}(p)).prototype,"items",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=e(L.prototype,"doubleButtonLabel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(L.prototype,"anotherButtonLabel",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=L))||D));r._RF.pop()}}}));

System.register("chunks:///_virtual/SlideScreenCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NotificationCenter.ts","./ControlWidgetBase.ts"],(function(e){var t,i,n,o,r,s,a,c,l,p,u,h,d,f,E;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,a=e.Vec2,c=e.Node,l=e.Label,p=e.view,u=e.Vec3,h=e.Tween},function(e){d=e.NotificationCenter,f=e.NCKeys},function(e){E=e.ControlWidgetBase}],execute:function(){var v,g,y,N,T,_,b;r._RF.push({},"7a91f7OMNVEc6xvsGAE/LvF","SlideScreenCtrl",void 0);var C=s.ccclass,S=s.property,D=new a;e("SlideScreenCtrl",(v=C("SlideScreenCtrl"),g=S(c),y=S(l),v((_=t((T=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,n(t,"tipNode",_,o(t)),n(t,"tipLabel",b,o(t)),t.postedMainPageHide=!1,t}i(t,e);var r=t.prototype;return r.onLoad=function(){},r.playInAction=function(e){e&&e.tip&&(this.tipLabel.string="滑动屏幕"+e.tip),this.node.active=!0;var t=p.getVisibleSize(),i=new u(0,-t.height/2+350,0);this.tipNode.position=new u(0,-t.height/-100,0),new h(this.tipNode).to(.5,{position:i},{easing:"backOut"}).start()},r.onEnable=function(){this.node.on(c.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(c.EventType.TOUCH_END,this.onTouchEnd,this),this.postedMainPageHide=!1},r.onDisable=function(){this.node.off(c.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.off(c.EventType.TOUCH_END,this.onTouchEnd,this)},r.onTouchMove=function(e){e.getUIDelta(D),d.postNotice(f.SLIDE_SCREEN_UI_DELAY,D),this.postedMainPageHide||(d.postNotice(f.MAIN_PAGE_HIDE,null),this.postedMainPageHide=!0)},r.onTouchEnd=function(e){D.x=0,D.y=0,d.postNotice(f.SLIDE_SCREEN_UI_DELAY,D)},t}(E)).prototype,"tipNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=t(T.prototype,"tipLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=T))||N));r._RF.pop()}}}));

System.register("chunks:///_virtual/Sprite1.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var n,t,e,c,i,r;return{setters:[function(o){n=o.inheritsLoose},function(o){t=o.cclegacy,e=o._decorator,c=o.Node,i=o.log,r=o.Component}],execute:function(){var u;t._RF.push({},"8c46dxa4IRNDL7dgBW+ChTN","Sprite1",void 0);var h=e.ccclass;e.property,o("Sprite1",h("Sprite1")(u=function(o){function t(){return o.apply(this,arguments)||this}n(t,o);var e=t.prototype;return e.start=function(){this.node.on(c.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(c.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(c.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(c.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},e.onTouchStart=function(){i("Spr1 onTouchStart")},e.onTouchMove=function(){i("Spr1 onTouchMove")},e.onTouchEnd=function(){i("Spr1 onTouchEnd")},e.onTouchCancel=function(){i("Spr1 onTouchCancel")},t}(r))||u);t._RF.pop()}}}));

System.register("chunks:///_virtual/Sprite2.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var n,t,e,c,i,r;return{setters:[function(o){n=o.inheritsLoose},function(o){t=o.cclegacy,e=o._decorator,c=o.Node,i=o.log,r=o.Component}],execute:function(){var u;t._RF.push({},"dd84eZwiW1KCpxLdHZL4Aih","Sprite2",void 0);var h=e.ccclass;e.property,o("Sprite2",h("Sprite2")(u=function(o){function t(){return o.apply(this,arguments)||this}n(t,o);var e=t.prototype;return e.start=function(){this.node.on(c.EventType.TOUCH_START,this.onTouchStart,this,!0),this.node.on(c.EventType.TOUCH_MOVE,this.onTouchMove,this,!0),this.node.on(c.EventType.TOUCH_END,this.onTouchEnd,this,!0),this.node.on(c.EventType.TOUCH_CANCEL,this.onTouchCancel,this,!0)},e.onTouchStart=function(){i("Spr2 onTouchStart")},e.onTouchMove=function(){i("Spr2 onTouchMove")},e.onTouchEnd=function(){i("Spr2 onTouchEnd")},e.onTouchCancel=function(){i("Spr2 onTouchCancel")},t}(r))||u);t._RF.pop()}}}));

System.register("chunks:///_virtual/Tes.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,n,o,i,a,s,c,l,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,s=e.Node,c=e.Mat4,l=e.Vec3,p=e.Component}],execute:function(){var u,d,f,h,y;i._RF.push({},"6d799EbN7BJsaDWydxOh1Op","Tes",void 0);var v=a.ccclass,g=a.property;e("Tes",(u=v("Tes"),d=g(s),u((y=t((h=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,n(t,"node2",y,o(t)),t}return r(t,e),t.prototype.start=function(){var e=this.node2.worldPosition,t=new c,r=new c;this.node.getWorldMatrix(t),c.invert(r,t);var n=new l;l.transformMat4(n,e,r),console.log(n)},t}(p)).prototype,"node2",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=h))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/ToastCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NotificationCenter.ts"],(function(t){var n,i,e,o,a,r,c,l,s,u,p,f;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,c=t.Label,l=t.CCString,s=t.Animation,u=t.Component},function(t){p=t.NotificationCenter,f=t.NCKeys}],execute:function(){var h,y,m,A,b,N,d,g,C,v,z;a._RF.push({},"492f5NKzOBEY6+r+ABa+YXF","ToastCtrl",void 0);var E=r.ccclass,I=r.property;t("ToastCtrl",(h=E("ToastCtrl"),y=I(c),m=I({type:l}),A=I({type:l}),b=I({type:s}),h((g=n((d=function(t){function n(){for(var n,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,e(n,"label",g,o(n)),e(n,"inActionName",C,o(n)),e(n,"outActionName",v,o(n)),e(n,"animation",z,o(n)),n}i(n,t);var a=n.prototype;return a.onLoad=function(){},a.start=function(){},a.onEnable=function(){this.playInAction()},a.playInAction=function(){this.animation.play(this.inActionName)},a.playOutAction=function(){this.animation.play(this.outActionName)},a.onOutActionFinish=function(){p.postNotice(f.BASEUILAYER_HIDE,{name:this.node.name,ctrl:this}),this.node.destroy()},a.init=function(t){this.label.string=t},a.onInActionFinish=function(){var t=this;p.postNotice(f.BASEUILAYER_SHOW,{name:this.node.name,ctrl:this}),this.scheduleOnce((function(){t.playOutAction()}),2)},n}(u)).prototype,"label",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=n(d.prototype,"inActionName",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=n(d.prototype,"outActionName",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),z=n(d.prototype,"animation",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=d))||N));a._RF.pop()}}}));

System.register("chunks:///_virtual/toolGameInnerNodeCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlatformJudge.ts","./PlatformManager.ts"],(function(e){var t,n,o,r,i,a,l,c,s,u,p,f,d,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,l=e.Prefab,c=e.Node,s=e.CCFloat,u=e.UITransform,p=e.Vec3,f=e.Component},function(e){d=e.PlatformJudge},function(e){m=e.PlatformManager}],execute:function(){var h,b,g,v,y,P,C,I,w;i._RF.push({},"b7d348ELsRBTZGPMIuQLKX3","toolGameInnerNodeCtrl",void 0);var z=a.ccclass,F=a.property;e("ToolGameInnerNodeCtrl",(h=z("ToolGameInnerNodeCtrl"),b=F(l),g=F(c),v=F(s),h((C=t((P=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,o(t,"itemPrefab",C,r(t)),o(t,"content",I,r(t)),o(t,"itemScale",w,r(t)),t}n(t,e);var i=t.prototype;return i.start=function(){(d.isOppo||d.isVivo)&&m.getInstance().hideBanner({}),this.node.active=!1},i.onDestroy=function(){},i.updateForPos=function(e){var t,n,o=null==(t=this.content.getComponent(u))?void 0:t.width,r=null==(n=this.content.parent)||null==(n=n.getComponent(u))?void 0:n.width;if(o<=r)this.unschedule(this.updateForPos);else{var i=new p(this.content.position);i.x-=.5,i.x<-(o-r+300)&&(i.x=-r/2),this.content.position=i}},t}(f)).prototype,"itemPrefab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(P.prototype,"content",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(P.prototype,"itemScale",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),y=P))||y));i._RF.pop()}}}));

System.register("chunks:///_virtual/trail_config.ts",["cc"],(function(e){var n,w,t;return{setters:[function(e){n=e.cclegacy,w=e.Vec3,t=e.Vec4}],execute:function(){n._RF.push({},"6dccbKFTRFP5ICj+4PJFYTd","trail_config",void 0);e("trail_config",[{slide_path:[new w(175,0,125),new w(175,0,75),new w(115,0,75),new w(115,0,35)],obst:[new t(175,0,65,1)]},{slide_path:[new w(175,0,135),new w(115,0,135),new w(115,0,195),new w(55,0,195),new w(55,0,175)],obst:[new t(100,0,145,3),new t(100,0,135,3),new t(100,0,155,3)]},{slide_path:[new w(115,0,30),new w(115,0,75),new w(175,0,75),new w(175,0,165)],obst:[new t(115,0,85,0),new t(185,0,75,2)]},{slide_path:[new w(115,0,145),new w(115,0,75),new w(55,0,75),new w(55,0,25)],obst:[new t(115,0,65,0),new t(45,0,75,3)]}]);n._RF.pop()}}}));

System.register("chunks:///_virtual/TransportCarCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NotificationCenter.ts"],(function(t){var i,e,r,a,s,n,o,h,c,g,d,p,u,l,f,B;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){s=t.cclegacy,n=t._decorator,o=t.Vec3,h=t.Prefab,c=t.Vec4,g=t.find,d=t.MeshRenderer,p=t.instantiate,u=t.RigidBody,l=t.Component},function(t){f=t.NotificationCenter,B=t.NCKeys}],execute:function(){var y,_,R,T,v;s._RF.push({},"b8d459N+VtGYLyHXRJphZc5","TransportCarCtrl",void 0);var b=n.ccclass,C=n.property,m=new o(0,.7*-1.224,.7*-5.465);t("TransportCarCtrl",(y=b("TransportCarCtrl"),_=C([h]),y((v=i((T=function(t){function i(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return i=t.call.apply(t,[this].concat(s))||this,r(i,"bagPrefabs",v,a(i)),i._curBagsRigidBody=[],i.dropedBagsNode=[],i.createBagTickTime=0,i.createBagInterval=.2,i.lineOffset=new c(1,1,0,0),i._prepareFinishCb=null,i}e(i,t);var s=i.prototype;return s.onLoad=function(){var t=g("transport_line",this.node).getComponent(d);this.transportLineMat=t.material},s.startTransport=function(){for(var t=0;t<this._curBagsRigidBody.length;t++)this._curBagsRigidBody[t].isDynamic=!0;this.schedule(this.updateForTransport)},s.stopTransport=function(){for(var t=0;t<this._curBagsRigidBody.length;t++)this._curBagsRigidBody[t].isStatic=!0;this.unschedule(this.updateForTransport)},s.updateForTransport=function(t){if(this.lineOffset.z-=t/1.9,this.transportLineMat.setProperty("tilingOffset",this.lineOffset),this._curBagsRigidBody.length>0){if(this._curBagsRigidBody[0].node.position.z<-3.5){this._curBagsRigidBody[0].setLinearVelocity(new o(Math.random()>.5?1:-1,0,-1));var i=this._curBagsRigidBody.shift();this.dropedBagsNode.push(i.node),f.postNotice(B.TRANSPORT_CAR_BAG_DROPED,null)}for(var e=0;e<this._curBagsRigidBody.length;e++)this._curBagsRigidBody[e].setLinearVelocity(m)}if(this.createBagTickTime+=t,this.createBagTickTime>=this.createBagInterval){this.createBagTickTime=0;var r=Math.random()*this.bagPrefabs.length;r=Math.floor(r);var a=this.bagPrefabs[r],s=p(a);s.parent=this.node;var n=s.getComponent(u);this._curBagsRigidBody.push(n)}},s.prepearTransport=function(t){this._prepareFinishCb=t,this.schedule(this.updateForPrepear)},s.updateForPrepear=function(t){if(this.lineOffset.z-=t/1.9,this.transportLineMat.setProperty("tilingOffset",this.lineOffset),this._curBagsRigidBody.length>0){if(this._curBagsRigidBody[0].node.position.z<-3.4){for(var i=0;i<this._curBagsRigidBody.length;i++)this._curBagsRigidBody[i].isStatic=!0;return this.unschedule(this.updateForPrepear),void(this._prepareFinishCb&&this._prepareFinishCb())}for(var e=0;e<this._curBagsRigidBody.length;e++)this._curBagsRigidBody[e].setLinearVelocity(m)}if(this.createBagTickTime+=t,this.createBagTickTime>=this.createBagInterval){this.createBagTickTime=0;var r=Math.random()*this.bagPrefabs.length;r=Math.floor(r);var a=this.bagPrefabs[r],s=p(a);s.parent=this.node;var n=s.getComponent(u);this._curBagsRigidBody.push(n)}},i}(l)).prototype,"bagPrefabs",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=T))||R));s._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.ts",["cc","./AlertLayerCtrl.ts","./ToastCtrl.ts","./BaseUILayerCtrl.ts"],(function(t){var e,r,n,o,a,i,s,u,l,c,f,d,h,p,m,g,v,y,C;return{setters:[function(t){e=t.cclegacy,r=t.Quat,n=t.Prefab,o=t.log,a=t.instantiate,i=t.find,s=t.isValid,u=t.assetManager,l=t.SpriteFrame,c=t.UITransform,f=t.Texture2D,d=t.resources,h=t.v3,p=t.BlockInputEvents,m=t.Tween,g=t.Vec3},function(t){v=t.AlertLayerCtrl},function(t){y=t.ToastCtrl},function(t){C=t.BaseUILayerCtrl}],execute:function(){e._RF.push({},"b251eJz1BFFDZ4QYAyjnxrv","Utils",void 0);var w=new r,M=t("Utils",{popAlert:function(t){this.loadResWithCorrection("pages/alertLayer/alertLayer",n,(function(e,r){if(e)return o(e);a(r).getComponent(v).init(t)}))},popToast:function(t){this.loadResWithCorrection("pages/toast/toast",n,(function(e,r){if(e)return o(e);var n=a(r);n.parent=i("Canvas"),n.getComponent(y).init(t)}))},isValid:function(t){return s(t,!0)&&null!=t.parent},formatSecondToHMS:function(t){var e=Math.floor(t/3600),r=Math.floor(t%3600/60),n=t%60;return e>0?e+"时"+r+"分":r>0?r+"分"+n+"秒":n+"秒"},formatSecondToHMS2:function(t){var e=Math.floor(t/3600),r=Math.floor(t%3600/60),n=t%60;return e>0?e+":"+r+":"+n:r>0?r+":"+numeral(n).format("00"):"0:"+numeral(n).format("00")},offsetDay:function(t,e){var r=dayjs(1e3*t).format("YYYY-MM-DD"),n=dayjs(1e3*e).format("YYYY-MM-DD");return dayjs(n).diff(dayjs(r),"day")},getCurTime:function(){return dayjs().unix()},secondOfDay:function(t){return(t+=28800)%86400},todayBeganTimeStamp:function(){var t=dayjs().format("YYYY-MM-DD");return dayjs(t,"YYYY-MM-DD").unix()},loadHeadIcon:function(t,e,r){""!=e&&null!=e&&u.loadRemote(e,(function(e,n){if(e)return o(e);if(s(t.node)){var a=new l;a.texture=n._texture,t.spriteFrame=a,t.node.getComponent(c).width=r,t.node.getComponent(c).height=r}}))},loadHeadIconAndVerification:function(t,e,r,n){""!=e&&null!=e&&u.load(e,(function(e,a){if(e)return o(e);if(s(t.node)&&n()){var i=new l;i.texture=a._texture,t.spriteFrame=i,t.node.getComponent(c).width=r,t.node.getComponent(c).height=r}}))},loadAdIcon:function(t,e,r){""!=e&&null!=e&&u.loadRemote(e,(function(e,n){if(e)return o(e);if(s(t.node)){var a=t.__imageAsset,i=new l,c=new f;c.image=n,i.texture=c,t.spriteFrame=i,t.__imageAsset=n,r&&r(n.width,n.height),a&&u.releaseAsset(a)}}))},formatString:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(0==arguments.length)return"";for(var n=arguments[0],o=1;o<arguments.length;o++){var a=new RegExp("\\{"+(o-1)+"\\}","gm");n=n.replace(a,arguments[o])}return n},parseObjectToQuery:function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r+"="+t[r]);return e.join("&")},path2repeatTime:{},loadResWithCorrection:function(t,e,r){this.path2repeatTime[t]=3,this._loadResWithCorrection(t,e,r)},_loadResWithCorrection:function(t,e,r){var n=this;d.load(t,e,(function(a,i){if(a)return n.path2repeatTime[t]--,0==n.path2repeatTime[t]?PlatformJudge.isWX||PlatformJudge.isQQ?(window.wx.showModal({title:"错误",content:"加载资源失败，请检查网络后点击确定按钮重试",success:function(o){n.path2repeatTime[t]=3,n._loadResWithCorrection(t,e,r)}}),console.log(t,"加载失败啦")):PlatformJudge.isOppo?qg.showModal({title:"错误",content:"加载资源失败，请检查网络后点击确定按钮重试",showCancel:!1,success:function(){this.path2repeatTime[t]=3,this._loadResWithCorrection(t,e,r)}.bind(n)}):PlatformJudge.isVivo?qg.showDialog({title:"错误",message:"加载资源失败，请检查网络后点击确定按钮重试",buttons:[{text:"确定"}],complete:function(){n.path2repeatTime[t]=3,n._loadResWithCorrection(t,e,r)}}):PlatformJudge.isTT?tt.showModal({title:"错误",content:"下载资源失败，请检查网络，并且重启游戏",showCancel:!1,success:function(o){n.path2repeatTime[t]=3,n._loadResWithCorrection(t,e,r)}}):M.popAlert({msg:"下载资源失败，请检查网络，并且重启游戏",sureCb:function(o){n.path2repeatTime[t]=3,n._loadResWithCorrection(t,e,r)},cancelCb:function(o){n.path2repeatTime[t]=3,n._loadResWithCorrection(t,e,r)}},null):(o("重试:"+t+" 还剩"+n.path2repeatTime[t]),n._loadResWithCorrection(t,e,r)),o(a);r(a,i)}))},pathArray2repeatTime:{},loadResArrayWithCorrection:function(t,e){this.pathArray2repeatTime[t.join("_")]=3,this._loadResArrayWithCorrection(t,e)},_loadResArrayWithCorrection:function(t,e){var r=this;d.load(t,(function(n,a){if(n)return r.pathArray2repeatTime[t.join("_")]--,0==r.pathArray2repeatTime[t.join("_")]?PlatformJudge.isWX||PlatformJudge.isQQ?window.wx.showModal({title:"错误",content:"加载资源失败，请检查网络后点击确定按钮重试",success:function(n){r.pathArray2repeatTime[t.join("_")]=3,r._loadResArrayWithCorrection(t,e)}}):PlatformJudge.isOppo?qg.showModal({title:"错误",content:"加载资源失败，请检查网络后点击确定按钮重试",showCancel:!1,success:function(){this.pathArray2repeatTime[t.join("_")]=3,this._loadResArrayWithCorrection(t,e)}.bind(r)}):PlatformJudge.isVivo?qg.showDialog({title:"错误",message:"加载资源失败，请检查网络后点击确定按钮重试",buttons:[{text:"确定"}],complete:function(){r.pathArray2repeatTime[t.join("_")]=3,r._loadResArrayWithCorrection(t,e)}}):PlatformJudge.isTT?tt.showModal({title:"错误",content:"下载资源失败，请检查网络，并且重启游戏",showCancel:!1,success:function(n){r.pathArray2repeatTime[t.join("_")]=3,r._loadResArrayWithCorrection(t,e)}}):M.popAlert({msg:"下载资源失败，请检查网络，并且重启游戏",sureCb:function(n){r.pathArray2repeatTime[t.join("_")]=3,r._loadResArrayWithCorrection(t,e)},cancelCb:function(n){r.pathArray2repeatTime[t.join("_")]=3,r._loadResArrayWithCorrection(t,e)}},null):(o("重试:"+t.join("_")+" 还剩"+r.pathArray2repeatTime[t.join("_")]),r._loadResArrayWithCorrection(t,e)),o(n);e(n,a)}))},httpGet:function(t,e,r){t=t+"?"+this.parseObjectToQuery(e),o(t);var n=new XMLHttpRequest;n.onloadend=function(){200==n.status?(o("GET 得到",n.responseText),r(null,JSON.parse(n.responseText))):r(!0)},n.open("GET",t,!0),n.send()},randomWeighted:function(t){for(var e=0,r=0;r<t.length;r++)e+=t[r];for(var n=Math.random()*e,o=0,a=0;a<t.length;a++)if(n<=(o+=t[a]))return a;return t.length-1},timeToMinute:function(t){if(t<=0)return"00:00";var e="";if(t>-1){var r=Math.floor(t/60)%60,n=t%60;r<10&&(e+="0"),e+=r+":",n<10&&(e+="0"),e+=n.toFixed(2)}return e=e.substring(0,e.length-3)},createUUID:function(){function t(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},shuffle:function(t){for(var e=t.length-1;e>=0;e--){var r=Math.floor(Math.random()*(e+1)),n=t[r];t[r]=t[e],t[e]=n}return t},formatNumber:function(t,e){if(t<1e4)return t.toFixed(0);var r=function(t){var e=t.toExponential(8).split("e"),r=parseInt(e[1]),n=Math.floor(r/3),o=r-3*n,a=parseFloat(e[0]);return{preNum:a*=Math.pow(10,o),threeZeroMu:n}}(t);if(r.threeZeroMu<5){return r.preNum.toFixed(1)+["","K","M","B","T"][r.threeZeroMu]}var n=r.threeZeroMu-5,o=Math.floor(n/26),a=n%26;if(o>26)return"999999zz";var i=String.fromCharCode(o+97)+String.fromCharCode(a+97);return r.preNum.toFixed(2)+i},popMeteorLayer:function(){M.loadResWithCorrection("prefabs/meteorLayer/meteorLayer",n,(function(t,e){if(!i("Canvas/meteorLayer")){if(t)return o(t);a(e).parent=i("Canvas")}}))},radianFromQ1SubQ2:function(t,e){var n=2*Math.acos(Math.abs(r.dot(t,e)));return o(n),n},tryPopRuinsLayer:function(t){M.isGuiding()||Math.random()>t||M.loadResWithCorrection("prefabs/ruinsLayer/ruinsLayerWX",n,(function(t,e){if(!i("Canvas/ruinsLayerWX")){if(t)return o(t);a(e).parent=i("Canvas")}}))},offsetNodePos:function(t,e){var r=h(t.position);r.add(e),t.position=r},hasBaseUILayerInCanvas:function(){for(var t=i("Canvas").children,e=0;e<t.length;e++)if(t[e].getComponent(C))return!0;return!1},number2percentage:function(t,e){return void 0===e&&(e=0),t<1?(100*t).toFixed(e)+"%":(100*t).toFixed(0)+"%"},_roman:["","Ⅰ","Ⅱ","Ⅲ","Ⅳ","Ⅴ","Ⅵ","Ⅶ","Ⅷ","Ⅸ","Ⅹ","Ⅺ","Ⅻ","XIII","XIV","XV","XVI","XVII","XVIII","XIX","XX"],number2roman:function(t){return this._roman[t]},isGuiding:function(){var t;if(i("Canvas/dialog").active)return!0;var e=i("Canvas/gudieLayer");if(null!=(t=e.getComponent(p))&&t.enabled)return!0;var r=i("grayLayer",e);return!!r.active||!!(r=i("person",e)).active},scaleNode:function(t,e,r,n){new m(t).to(e,{scale:new g(r,r,r)}).call(n).start()},rotationNodeFace:function(t,e,n,o){o||(e.normalize(),n.normalize()),r.rotationTo(w,e,n),t.rotation=w},getRotateAngle:function(t,e,r,n){var o,a,i,s=1e-6,u=Math.acos(-1);if(e/=o=Math.sqrt(t*t+e*e),a=(t/=o)*(r/=o=Math.sqrt(r*r+n*n))+e*(n/=o),Math.abs(a-1)<=s)i=0;else if(Math.abs(a+1)<=s)i=u;else{i=Math.acos(a),t*n-r*e<0&&(i=2*u-i)}return 180*i/u},shakeNode:function(t,e,r){for(var n=new g(t.position),o=new m(t),a=0;a<4;a++){var i=new g(n);i.x+=Math.random()*e*2-e,i.y+=Math.random()*e*2-e,i.z+=Math.random()*e*2-e,o.to(.1,{position:i})}o.call(r),o.start()},transNode:function(t){var e=t.node,n=e.rotation,o=new m(e);t.delay&&o.delay(t.delay),o.to(t.time,{position:t.pos},{onUpdate:function(o,a){r.slerp(w,n,t.rotation,a),e.rotation=w,t.onUpdate&&t.onUpdate(o,a)}}),t.finishCb&&o.call(t.finishCb),o.start()},solveLookAtInfo:function(t,e,n,o,a){e=g.transformQuat(new g,e,t.worldRotation);var i=new g(e),s=e.multiplyScalar(-n).add(t.worldPosition),u=new g(0,1,0);u=g.transformQuat(new g,u,t.worldRotation);var l=g.scaleAndAdd(new g,s,u,o),c=g.subtract(new g,t.worldPosition,l);c.normalize(),c.multiplyScalar(-1);var f=r.fromViewUp(new r,c,u);return i.multiplyScalar(a),l.add(i),{pos:l,rotation:f}},slerpCamera:function(t,e,r,n,o,a,i,s,u,l,c,f){var d=new m(t.node);d.to(c,{},{onUpdate:function(c,f){var d=r+(i-r)*f,h=n+(s-n)*f,p=g.lerp(new g,o,u,f);p.normalize();var m=a+(l-a)*f;t.lookAtNodeOnce(e,d,h,p,m)}}),f&&d.call(f),d.start()},nodeScaleRepeatForever:function(t,e,r,n){new m(t).to(e,{scale:new g(r,r,r)}).to(e,{scale:new g(n,n,n)}).union().repeatForever().start()}});globalThis.Utils=M,e._RF.pop()}}}));

System.register("chunks:///_virtual/WaterGunCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utils.ts"],(function(e){var t,i,r,n,o,l,a,c,s,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,a=e.Node,c=e.ParticleSystem,s=e.Vec3,u=e.Component},function(e){p=e.Utils}],execute:function(){var d,f,h,y,b,N,P,g,w,F,j;o._RF.push({},"5dbc8sLdtpAy6nUWFfNZCJk","WaterGunCtrl",void 0);var m=l.ccclass,v=l.property;e("WaterGunCtrl",(d=m("WaterGunCtrl"),f=v(a),h=v(a),y=v(a),b=v(c),d((g=t((P=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,r(t,"frontPipleNode",g,n(t)),r(t,"joinNode",w,n(t)),r(t,"joinPipleNode",F,n(t)),r(t,"particle",j,n(t)),t}i(t,e);var o=t.prototype;return o.startFixSelf=function(e){this.handNode=e,this.schedule(this.updateFroFixSelf)},o.updateFroFixSelf=function(e){var t=this.handNode.worldPosition,i=this.joinNode.worldPosition,r=s.subtract(new s,t,i);r.x=0,this.joinPipleNode.scale=new s(r.length(),1,1),r.normalize(),p.rotationNodeFace(this.joinNode,new s(0,0,1),r,!0)},o.playWater=function(){return!this.particle.isPlaying&&(this.particle.play(),!0)},t}(u)).prototype,"frontPipleNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(P.prototype,"joinNode",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(P.prototype,"joinPipleNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(P.prototype,"particle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=P))||N));o._RF.pop()}}}));

System.register("chunks:///_virtual/weather_config.ts",["cc"],(function(a){var d;return{setters:[function(a){d=a.cclegacy}],execute:function(){d._RF.push({},"1d8adiecaFK36r6wcZwNFvR","weather_config",void 0);a("weather_config",["day","day","day","rain","day","day","day","night","day","rain","day","day","day","day","day","night","day","night","night","day","day","rain"]);d._RF.pop()}}}));

System.register("chunks:///_virtual/WXCustomAdNodeCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlatformManager.ts"],(function(t){var o,n,e,s,r,u;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy,e=t._decorator,s=t.UITransform,r=t.Component},function(t){u=t.PlatformManager}],execute:function(){var i;n._RF.push({},"92135HHqblGYLlk+v+CCxH5","WXCustomAdNodeCtrl",void 0);var c=e.ccclass;e.property,t("WXCustomAdNodeCtrl",c("WXCustomAdNodeCtrl")(i=function(t){function n(){for(var o,n=arguments.length,e=new Array(n),s=0;s<n;s++)e[s]=arguments[s];return(o=t.call.apply(t,[this].concat(e))||this).customAdCanShow=!0,o}o(n,t);var e=n.prototype;return e.showCustomAd=function(){var t,o,n=this,e=this.node.worldPosition,r=(null==(t=this.getComponent(s))?void 0:t.width)||100,i=(null==(o=this.getComponent(s))?void 0:o.height)||100;u.getInstance().showCustomAd({center:e,width:r,height:i,showImmediately:!0,onClose:function(){console.log("CustomAd被关闭了"),n.scheduleOnce((function(){n.customAdCanShow&&n.showCustomAd()}),15)}}),this.customAdCanShow=!0},e.hideCustomAd=function(){u.getInstance().hideCustomAd({tryDestroy:!1}),this.customAdCanShow=!1},n}(r))||i);n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});