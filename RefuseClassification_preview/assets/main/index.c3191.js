window.__require=function t(e,o,i){function n(a,r){if(!o[a]){if(!e[a]){var s=a.split("/");if(s=s[s.length-1],!e[s]){var l="function"==typeof __require&&__require;if(!r&&l)return l(s,!0);if(c)return c(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var p=o[a]={exports:{}};e[a][0].call(p.exports,function(t){return n(e[a][1][t]||t)},p,p.exports,t,e,o,i)}return o[a].exports}for(var c="function"==typeof __require&&__require,a=0;a<i.length;a++)n(i[a]);return n}({AlartMsg:[function(t,e,o){"use strict";cc._RF.push(e,"6afbc5vHjhJwJDyySl0dx+W","AlartMsg"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){this.AnimSpeed=0,this.alertNode=null,this.onDestroy=function(){null!=this.alertNode&&(this.alertNode.removeFromParent(),this.alertNode=null)}}return t.getInstance=function(){return null==this._instance&&(this._instance=new t),this._instance},t.prototype.show=function(t,e,o,i){var n=this;cc.loader.loadRes("Prefab/AlartMask",cc.Prefab,function(c,a){c?cc.error(c):(n.alertNode=cc.instantiate(a),cc.director.getScene().addChild(n.alertNode,3),cc.find("AlartMask/TipALart/"+t).active=!0,cc.find("AlartMask/TipALart/left_btn/Background/Label").getComponent(cc.Label).string=e,cc.find("AlartMask/TipALart/right_btn/Background/Label").getComponent(cc.Label).string=o,i&&(cc.find("AlartMask/TipALart/left_btn").on("click",function(){n.dismiss(),i(e)},this),cc.find("AlartMask/TipALart/right_btn").on("click",function(){n.dismiss(),i(o)},this)),n.alertNode.parent=cc.find("Canvas"),n.startFadeIn())})},t.prototype.startFadeIn=function(){this.alertNode.setScale(2),this.alertNode.opacity=0;var t=cc.callFunc(this.onFadeInFinish,this),e=cc.sequence(cc.spawn(cc.fadeTo(this.AnimSpeed,255),cc.scaleTo(this.AnimSpeed,1)),t);this.alertNode.runAction(e)},t.prototype.onFadeInFinish=function(){},t.prototype.dismiss=function(){if(this.alertNode){var t=cc.callFunc(this.onFadeOutFinish,this),e=cc.sequence(cc.spawn(cc.fadeTo(this.AnimSpeed,0),cc.scaleTo(this.AnimSpeed,2)),t);this.alertNode.runAction(e)}},t.prototype.onFadeOutFinish=function(){this.onDestroy()},t._instance=null,t}();o.default=i,cc._RF.pop()},{}],AppLog:[function(t,e,o){"use strict";cc._RF.push(e,"2eb45Ak5R5F5Jkv8XdLaZT0","AppLog");var i=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var i=Array(t),n=0;for(e=0;e<o;e++)for(var c=arguments[e],a=0,r=c.length;a<r;a++,n++)i[n]=c[a];return i};Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(t){this.OPENLOGFLAG=!1,this.OPENLOGFLAG=t}return t.getInstance=function(e){return null==this._instance&&(this._instance=new t(e)),this._instance},t.prototype.getDateString=function(){var t=new Date,e=t.getHours(),o="";o+=(e<10?"0"+e:e)+":",o+=((e=t.getMinutes())<10?"0"+e:e)+":",o+=((e=t.getSeconds())<10?"0"+e:e)+":";var i=(e=t.getMilliseconds()).toString();return e>=10&&e<100&&(i="00"+e),e>=100&&e<1e3&&(i="0"+e),"["+(o+=i)+"]"},t.prototype.stack=function(t){var e=(new Error).stack.split("\n");e.shift();var o=[];e.forEach(function(t){var e,i=(t=t.substring(7)).split(" ");i.length<2?o.push(i[0]):o.push(((e={})[i[0]]=i[1],e))});var i=[];if(t<o.length-1)for(var n in o[t])i.push(n);var c=i[0].split(".");return c[0]+".js->"+c[1]+": "},t.prototype.log=function(){var t=console.log||cc.log;this.OPENLOGFLAG&&t.call(this,"%s%s"+cc.js.formatStr.apply(cc,arguments),this.stack(2),this.getDateString())},t.prototype.info=function(){var t=console.log||cc.log;this.OPENLOGFLAG&&t.call(this,"%c%s:"+cc.js.formatStr.apply(cc,arguments),"color:#00CD00;",this.getDateString())},t.prototype.warn=function(){var t=console.log||cc.log;this.OPENLOGFLAG&&t.call(this,"%c%s:"+cc.js.formatStr.apply(cc,arguments),"color:#ee7700;",this.getDateString())},t.prototype.err=function(){var t=console.log||cc.log;this.OPENLOGFLAG&&t.call(this,"%c%s:"+cc.js.formatStr.apply(cc,arguments),"color:red",this.getDateString())},t.prototype.tips=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];var n=console||cc;this.OPENLOGFLAG&&n.log.apply(n,i([t],e))},t}();o.default=n,cc._RF.pop()},{}],AudioManager:[function(t,e,o){"use strict";cc._RF.push(e,"19f572d60NNMrOc3d4prTk5","AudioManager");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,i){var n,c=arguments.length,a=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(c<3?n(a):c>3?n(e,o,a):n(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.AudioManager=void 0;var a=t("../Manager/Globle"),r=cc._decorator,s=r.ccclass,l=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.audioClips=[],e.playOnload=!1,e.loop=!1,e.config=null,e.current=0,e}return n(e,t),e.prototype.onLoad=function(){this.localData=a.default.localData,this.config=a.default.config},e.prototype.onStart=function(){this.playOnload&&this.config.MusicSwitch&&this.playAudio(0,this.loop)},e.prototype.playDefualt=function(){this.playAudio(0,!1)},e.prototype.stopDefualt=function(){this.stopAudio(0,!1)},e.prototype.playAudio=function(t,e){void 0===t&&(t=0),void 0===e&&(e=!1),this.config.MusicSwitch&&(this.current=cc.audioEngine.play(this.audioClips[t],e,1))},e.prototype.stopAudio=function(t,e){void 0===t&&(t=0),void 0===e&&(e=!1),cc.audioEngine.stop(this.current)},e.prototype.onDestroy=function(){cc.audioEngine.stop(this.current)},c([l({type:cc.AudioClip,tooltip:"\u97f3\u9891\u6587\u4ef6"})],e.prototype,"audioClips",void 0),c([l({type:cc.Boolean,tooltip:"\u662f\u5426\u52a0\u8f7d\u540e\u81ea\u52a8\u64ad\u653e"})],e.prototype,"playOnload",void 0),c([l({type:cc.Boolean,tooltip:"\u662f\u5426\u5f00\u59cb\u5faa\u73af\u64ad\u653e"})],e.prototype,"loop",void 0),c([s],e)}(cc.Component);o.AudioManager=p,cc._RF.pop()},{"../Manager/Globle":"Globle"}],BinsMgr:[function(t,e,o){"use strict";cc._RF.push(e,"302e7IZlsVIQoeXQDB/aC2x","BinsMgr");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,i){var n,c=arguments.length,a=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(c<3?n(a):c>3?n(e,o,a):n(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../Manager/Globle"),r=cc._decorator,s=r.ccclass,l=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nameSprite=[],e.audioClips=[],e.config=null,e.localData=null,e}return n(e,t),e.prototype.onLoad=function(){this.config=a.default.config,this.localData=a.default.localData},e.prototype.start=function(){var t=this.localData.readData(this.localData.DATA_KEY.SelectStage);this.createBins(t)},e.prototype.createBins=function(t){var e=this;if(t>0){var o=this.config.stageData[t-1].bincode.split(this.config.SeparatChat),i=this.localData.readData(this.localData.DATA_KEY.UseBinSkins,!0);i=i||this.config.BinSkin;var n=this.node.parent.width/(o.length+1),c=function(t){var c=o[t],r="Prefab/Bins/"+i[c]+"/bin"+c;cc.loader.loadRes(r,function(i,s){if(i)a.default.applog.tips("\u5783\u573e\u6876\u76ae\u80a4:"+r+"\u4e0d\u5b58\u5728");else{var l=cc.instantiate(s);l.setScale(.8,.8),o.length>3?l.x=132.5*(2*parseInt(t)+1):l.x=n*(parseInt(t)+1);var p=l.getComponent("Bin");p.Type=c,p.audioClips=e.audioClips,e.nameSprite[c-1]&&(l.getChildByName("Name").getComponent(cc.Sprite).spriteFrame=e.nameSprite[c-1]),e.node.addChild(l)}})};for(var r in o)c(r)}},c([l({type:cc.SpriteFrame,tooltip:"\u5783\u573e\u6876\u7c7b\u578b\u540d\u79f0"})],e.prototype,"nameSprite",void 0),c([l({type:cc.AudioClip,tooltip:"\u97f3\u9891\u6587\u4ef6"})],e.prototype,"audioClips",void 0),c([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../Manager/Globle":"Globle"}],Bin:[function(t,e,o){"use strict";cc._RF.push(e,"a2f82+sS+lGTJyunsyWx0DB","Bin");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,i){var n,c=arguments.length,a=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(c<3?n(a):c>3?n(e,o,a):n(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../Manager/Globle"),r=cc._decorator,s=r.ccclass,l=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.audioClips=[],e._type=0,e.propCom=null,e}return n(e,t),Object.defineProperty(e.prototype,"Type",{get:function(){return this._type},set:function(t){this._type=t},enumerable:!1,configurable:!0}),e.prototype.start=function(){},e.prototype.playAnima=function(t){var e=this;void 0===t&&(t=0);var o=0;switch(t){case 2:this.playAudio(1),1==this._type?o=2:2==this._type?o=5:3==this._type?o=8:4==this._type&&(o=11);break;case 3:1==this._type?o=4:2==this._type?o=7:3==this._type?o=10:4==this._type&&(o=13);break;case 4:1==this._type?o=3:2==this._type?o=6:3==this._type?o=9:4==this._type&&(o=12)}o>0&&(2==t?this.node.runAction(cc.sequence(cc.delayTime(.2),cc.callFunc(function(){e.playAudio(o)}))):this.playAudio(o));var i=this.node.getComponent(cc.Animation),n=i.getClips();i.play(n[t].name)},e.prototype.playAudio=function(t,e){void 0===t&&(t=0),void 0===e&&(e=!1),a.default.config.MusicSwitch&&cc.audioEngine.play(this.audioClips[t],e,1)},c([s],e)}(cc.Component));o.default=l,cc._RF.pop()},{"../../Manager/Globle":"Globle"}],Cabinet:[function(t,e,o){"use strict";cc._RF.push(e,"bd54fXbTXFBVLdTGzxPl2jk","Cabinet");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,i){var n,c=arguments.length,a=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(c<3?n(a):c>3?n(e,o,a):n(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../Manager/Globle"),r=cc._decorator,s=r.ccclass,l=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rSpeed=0,e.rubTotleNum=0,e.emptyCell=[],e.moveDirection=1,e.upSpeed=450,e.CollisionArr=[],e.config=null,e}return n(e,t),e.prototype.onLoad=function(){this.config=a.default.config},e.prototype.start=function(){this.emptyCell=[]},e.prototype.update=function(t){this.config.CabinetMove&&(this.moveDirection>0?this.node.y-=this.rSpeed*t:this.node.y+=this.upSpeed*t),this.config.MisplacePunishOn||this.node.stopAllActions()},e.prototype.monitorChildren=function(){var t=this,e=this.node.children.length;if(0==e)this.node.runAction(cc.sequence(cc.fadeOut(1),cc.callFunc(function(){return t.node.removeFromParent()})));else if(this.rubTotleNum-e>4)for(var o=function(t){var e=t.getComponent("Rubbish");if(0==e.rType){e.isLock=!1,t.getChildByName("Lock").active=!1;var o=t.getChildByName("dynamic");o.active=!0;var i=cc.sequence(cc.scaleTo(1,0,0),cc.callFunc(function(){return o.setScale(1,1)}));o.runAction(cc.repeatForever(i))}},i=0,n=this.node.children;i<n.length;i++)o(n[i])},e.prototype.onCollisionEnter=function(t,e){5==t.node.groupIndex&&t.node.y>e.node.y&&(this.moveDirection=1,-1==this.CollisionArr.indexOf(t.node.name)&&this.CollisionArr.push(t.node.name)),3==t.node.groupIndex&&e.node.getComponent(cc.Animation).play()},e.prototype.onCollisionExit=function(t,e){if(5==t.node.groupIndex&&t.node.y>e.node.y){var o=this.CollisionArr.indexOf(t.node.name);o>-1&&this.CollisionArr.splice(o,1),0==this.CollisionArr.length&&(this.moveDirection=-1)}3==t.node.groupIndex&&(e.node.getComponent(cc.Animation).setCurrentTime(0),e.node.getComponent(cc.Animation).stop())},c([s],e)}(cc.Component));o.default=l,cc._RF.pop()},{"../../Manager/Globle":"Globle"}],CloneRub:[function(t,e,o){"use strict";cc._RF.push(e,"2bf6etwXmJIwL1BBoaQXSwG","CloneRub");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,i){var n,c=arguments.length,a=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(c<3?n(a):c>3?n(e,o,a):n(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rubbish=null,e}return n(e,t),e.prototype.start=function(){},c([r],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],Config:[function(t,e,o){"use strict";cc._RF.push(e,"a42e1z+7qJH9rynwY9rL1f1","Config"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){this.stageThemeData=null,this.stageData=null,this.binData=null,this.binSkinTypeData=null,this.binSkinData=null,this.RubData={},this.RubDataArr=null,this.propData=null,this.systemData=null,this._RubbishType=cc.Enum({DRY:1,DAMP:2,RECYCLED:3,HARMFUL:4}),this._PlayerBinSkins={bsk0:["1","2","3","4"],bsk1:[],bsk2:[],bsk3:[],bsk4:[]},this._BinSkin={1:"bsk0",2:"bsk0",3:"bsk0",4:"bsk0"},this._SeparatChat=";",this.CabinetMove=!0,this.RubTypePrompt=!1,this.MisplacePunishOn=!0,this.MusicSwitch=1}return Object.defineProperty(t.prototype,"RubbishType",{get:function(){return this._RubbishType},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"PlayerBinSkins",{get:function(){return this._PlayerBinSkins},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"BinSkin",{get:function(){return this._BinSkin},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"SeparatChat",{get:function(){return this._SeparatChat},enumerable:!1,configurable:!0}),t.getInstance=function(){return null==this._instance&&(this._instance=new t),this._instance},t.prototype.setData=function(t){if(void 0===t&&(t=null),null!=t)for(var e in t){var o=t[e];if(o)switch(e){case"bins":this.binData=o;break;case"binskinType":this.binSkinTypeData=o;break;case"binskin":this.binSkinData=o;break;case"stageTheme":this.stageThemeData=o;break;case"stage":this.stageData=o;break;case"prop":this.propData=o;break;case"rubbish":if(o)for(var i in o)this.RubData[o[i].rubcode]=o[i];this.RubDataArr=o;break;case"system":this.systemData=o}}},t}();o.default=i,cc._RF.pop()},{}],Cordon:[function(t,e,o){"use strict";cc._RF.push(e,"1596a8yaehHPrFiApQmegye","Cordon");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,i){var n,c=arguments.length,a=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(c<3?n(a):c>3?n(e,o,a):n(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../Manager/Globle"),r=cc._decorator,s=r.ccclass,l=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ruler=null,e.audioClips=[],e.speed=7,e.moveHight=0,e.isMove=!0,e.moveTime=0,e.stopDics=0,e.currentAudio=0,e.config=null,e.localData=null,e}return n(e,t),e.prototype.onLoad=function(){this.config=a.default.config,this.localData=a.default.localData},e.prototype.start=function(){this.stopDics=this.ruler.height-this.node.height;var t=this.localData.readData(this.localData.DATA_KEY.SelectStage);Math.ceil(t/10),this.speed=parseFloat(this.config.systemData[0].cdUpSpeed),a.default.NC.addObserver(a.default.NOTICE_KEY.CORDON_CHANGE,this.dropDown.bind(this),this)},e.prototype.update=function(t){if(this.ruler&&!(this.moveHight>=this.stopDics)&&this.isMove){var e=this.stopDics-this.moveHight;this.speed=e>=this.speed?this.speed:e,this.moveTime+=t,this.moveTime>=1&&(this.node.y+=this.speed,this.moveHight+=this.speed,this.moveTime=0)}},e.prototype.onCollisionEnter=function(t){5==t.node.groupIndex&&(this.config.CabinetMove&&this.playAudio(1),this.node.runAction(cc.repeatForever(cc.sequence(cc.fadeTo(.2,100),cc.fadeTo(.2,255)))))},e.prototype.onCollisionStay=function(t,e){if(this.isMove){var o=e.node.convertToWorldSpaceAR(new cc.Vec2(0,0));t.node.convertToWorldSpaceAR(new cc.Vec2(0,0)).y-o.y<=-35&&(this.config.CabinetMove=!1,this.isMove=!1,this.node.stopAllActions(),this.node.opacity=255,this.stopAudio(),a.default.NC.activeNotice(a.default.NOTICE_KEY.GAME_OVER))}},e.prototype.playAudio=function(t,e){void 0===t&&(t=0),void 0===e&&(e=!1),this.config.MusicSwitch&&(this.currentAudio=cc.audioEngine.play(this.audioClips[t],e,1))},e.prototype.stopAudio=function(){cc.audioEngine.stop(this.currentAudio)},e.prototype.dropDown=function(){var t=this,e=new cc.Vec2(0,this.node.height/2),o=this.node.getChildByName("Hook");o.active=!0;var i=cc.sequence(cc.moveTo(.5,e),cc.callFunc(function(){o.active=!1,o.runAction(cc.rotateTo(.1,0))}));this.playAudio(0);var n=cc.sequence(cc.moveBy(.3,0,10),cc.moveBy(.3,0,-10),cc.rotateTo(.3,-30),cc.callFunc(function(){t.node.runAction(i)}));o.runAction(n)},e.prototype.onDestroy=function(){a.default.NC.removeObserver(a.default.NOTICE_KEY.CORDON_CHANGE,this)},c([l({type:cc.Node,tooltip:"\u6807\u5c3a"})],e.prototype,"ruler",void 0),c([l({type:cc.AudioClip,tooltip:"\u97f3\u9891\u6587\u4ef6"})],e.prototype,"audioClips",void 0),c([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../Manager/Globle":"Globle"}],EndScene:[function(t,e,o){"use strict";cc._RF.push(e,"50eebPnbxxB37wOM/AN55wk","EndScene");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,i){var n,c=arguments.length,a=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(c<3?n(a):c>3?n(e,o,a):n(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../Manager/Globle"),r=cc._decorator,s=r.ccclass,l=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gameBg=null,e.stageLable=null,e.coinLable=null,e.getcoinLable=null,e.nextBtn=null,e.audioClips=[],e.stage="1",e.lastPuzzle=null,e.lastPuzzleAnima=!1,e}return n(e,t),e.prototype.onLoad=function(){this.localData=a.default.localData,this.config=a.default.config;var t=this.localData.readData(this.localData.DATA_KEY.StageGetCoin);t=t||0;var e=this.localData.readData(this.localData.DATA_KEY.PlayerTotleCoin);e=e||0,this.localData.saveData(this.localData.DATA_KEY.PlayerTotleCoin,(parseInt(e)+parseInt(t)).toString())},e.prototype.start=function(){var t=this;this.stage=this.localData.readData(this.localData.DATA_KEY.SelectStage),this.stageLable.string=this.stage;var e=this.config.stageData[parseInt(this.stage)-1],o=this.localData.readData(this.localData.DATA_KEY.PlayStage),i=parseInt(o)%20,n=Math.ceil(parseInt(this.stage)/20),c=Math.ceil(parseInt(o)/20);if(e){var r="Prefab/Theme/"+e.theme;console.log("\u73a9\u5230\u7684\u4e3b\u9898\uff1a"+c+"\u9009\u62e9\u4e3b\u9898:"+n+"puzzleIndex:"+i),i>0&&c<=n?(r+="/ThemePuzzle",cc.loader.loadRes(r,cc.Prefab,function(o,n){o&&a.default.applog.tips("ThemeBg "+e.theme+" Prefab is not exist!");var c=cc.instantiate(n),r=c.children;t.lastPuzzle=r[i-1],i>1&&(t.lastPuzzle.opacity=0);for(var s=0;s<i;s++)r[s].active=!0;i>1&&(t.lastPuzzleAnima=!0),t.gameBg.addChild(c)})):(r+="/ThemeAnima",cc.loader.loadRes(r,cc.Prefab,function(o,i){o&&a.default.applog.tips("ThemeAnima "+e.theme+" Prefab is not exist!");var n=cc.instantiate(i);t.gameBg.addChild(n);var c=e.theme,r=parseInt(c.substr(5,c.length-5));t.playAudio(r,!0)}))}var s=this.localData.readData(this.localData.DATA_KEY.PlayerTotleCoin);this.coinLable.string=s;var l=this.localData.readData(this.localData.DATA_KEY.StageGetCoin);this.getcoinLable.string="X"+l},e.prototype.goToNextStage=function(){parseInt(this.stage)+1<=this.config.stageData.length?(this.localData.saveData(this.localData.DATA_KEY.SelectStage,parseInt(this.stage)+1),cc.director.loadScene("GameScene")):cc.director.loadScene("MainScene")},e.prototype.showPuzzleAnima=function(){this.lastPuzzleAnima&&null!=this.lastPuzzle&&(this.playAudio(),this.lastPuzzle.runAction(cc.sequence(cc.fadeIn(.3),cc.scaleTo(.3,1.2,1.2),cc.scaleTo(.3,1,1)))),this.nextBtn.active=!0,this.nextBtn.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.5,1.2,1.2),cc.scaleTo(.5,1,1))))},e.prototype.playAudio=function(t,e){void 0===t&&(t=0),void 0===e&&(e=!1),this.config.MusicSwitch&&cc.audioEngine.play(this.audioClips[t],e,.5)},c([l({type:cc.Node,tooltip:"\u5f53\u524d\u8fc7\u5173\u5173\u5361\u4e3b\u9898"})],e.prototype,"gameBg",void 0),c([l({type:cc.Label,tooltip:"\u5f53\u524d\u8fc7\u5173\u5173\u5361"})],e.prototype,"stageLable",void 0),c([l({type:cc.Label,tooltip:"\u91d1\u5e01\u6587\u672c"})],e.prototype,"coinLable",void 0),c([l({type:cc.Label,tooltip:"\u672c\u6b21\u83b7\u5f97\u91d1\u5e01\u6587\u672c"})],e.prototype,"getcoinLable",void 0),c([l({type:cc.Node,tooltip:"\u4e0b\u4e00\u5173\u6309\u94ae"})],e.prototype,"nextBtn",void 0),c([l({type:cc.AudioClip,tooltip:"\u97f3\u9891\u6587\u4ef6"})],e.prototype,"audioClips",void 0),c([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../Manager/Globle":"Globle"}],EventMgr:[function(t,e,o){"use strict";cc._RF.push(e,"a05ffR8xt9N1KKG+AOR2TTJ","EventMgr");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,i){var n,c=arguments.length,a=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(c<3?n(a):c>3?n(e,o,a):n(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Manager/Globle"),r=cc._decorator,s=r.ccclass,l=r.property,p=cc.Enum({DEFAULT:0,WINDOW:1,SCENE:2,ALARTMSG:3}),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.eventType=p.DEFAULT,e.targetNode=null,e.loadScene=null,e.alertTip="",e.leftBtnTip="",e.rightBtnTip="",e.myButton=null,e}return n(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){if(this.myButton=this.node.getComponent(cc.Button),this.myButton){var t=new cc.Component.EventHandler;t.target=this.node,t.component="EventMgr",t.handler="switchEvent",t.customEventData="",this.myButton.clickEvents.push(t)}},e.prototype.switchEvent=function(){var t=this;if(!this.myButton)throw"\u7f3a\u5c11Button\u7ec4\u4ef6";switch(this.eventType){case p.WINDOW:this.targetNode&&this.eventType==p.WINDOW&&(this.targetNode.active=!this.targetNode.active);break;case p.SCENE:this.loadScene&&this.eventType==p.SCENE&&cc.director.loadScene(this.loadScene.name);break;case p.ALARTMSG:a.default.alert&&this.eventType==p.ALARTMSG&&a.default.alert.show(this.alertTip,this.leftBtnTip,this.rightBtnTip,function(e){e==t.leftBtnTip||a.default.applog.tips("click cancel")})}},e.prototype.onEnable=function(){var t=this.node.getComponent(cc.Animation);t&&t.play()},c([l({type:cc.Enum(p),tooltip:"WINDOW:\u7ba1\u7406\u7a97\u53e3\u663e\u793a\u548c\u9690\u85cf;SCENE:\u573a\u666f\u8df3\u8f6c;ALARTMSG:\u6d88\u606f\u5f39\u7a97"})],e.prototype,"eventType",void 0),c([l({type:cc.Node,visible:function(){return this.eventType==p.WINDOW}})],e.prototype,"targetNode",void 0),c([l({type:cc.SceneAsset,visible:function(){return this.eventType==p.SCENE}})],e.prototype,"loadScene",void 0),c([l({visible:function(){return this.eventType==p.ALARTMSG},tooltip:"\u5f39\u7a97\u6d88\u606f"})],e.prototype,"alertTip",void 0),c([l({visible:function(){return this.eventType==p.ALARTMSG},tooltip:"\u5de6\u4fa7\u6309\u94ae\u63d0\u793a\u6587\u5b57"})],e.prototype,"leftBtnTip",void 0),c([l({visible:function(){return this.eventType==p.ALARTMSG},tooltip:"\u53f3\u4fa7\u6309\u94ae\u63d0\u793a\u6587\u5b57"})],e.prototype,"rightBtnTip",void 0),c([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../Manager/Globle":"Globle"}],GameScene:[function(t,e,o){"use strict";cc._RF.push(e,"86298LZ+GhG36s9BmfVnGZG","GameScene");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,i){var n,c=arguments.length,a=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(c<3?n(a):c>3?n(e,o,a):n(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../Manager/Globle"),r=cc._decorator,s=r.ccclass,l=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gameBg=null,e.startTipNode=null,e.guoguanTipNode=null,e.failUi=null,e.rubbishBoxNode=null,e.cordonNode=null,e.taskNum=null,e.adProgressBar=null,e.adBtn=null,e.audioClips=[],e.switchToggle=null,e.themeBgaudios=[],e.stage=1,e.bgMusicIdx=0,e.adCooling=20,e.stagetaskNum=1,e.initcordonPos=new cc.Vec2,e}return n(e,t),e.prototype.onLoad=function(){this.initcordonPos=this.cordonNode.getPosition(),cc.director.getCollisionManager().enabled=!0;var t=this;this.localData=a.default.localData,this.config=a.default.config,this.config.CabinetMove=!0,this.stage=this.localData.readData(this.localData.DATA_KEY.SelectStage);var e=this.config.stageData[this.stage-1];if(e){var o="Theme/"+e.theme+"/themeBg";cc.loader.loadRes(o,cc.SpriteFrame,function(o,i){o&&a.default.applog.tips("Theme is not exist!"),t.gameBg.getComponent(cc.Sprite).spriteFrame=i,t.gameBg.runAction(cc.fadeIn(.5));var n=e.theme;t.bgMusicIdx=parseInt(n.substr(5,n.length-5)),t.playBgMusic(t.bgMusicIdx)})}this.startTipNode.getChildByName("StageTip").getComponent(cc.Label).string="\u5173\u5361-"+this.stage.toString(),this.stagetaskNum=parseInt(e.tasknum),this.taskNum.getComponent(cc.Label).string=this.stagetaskNum.toString(),this.adCooling=parseFloat(this.config.systemData[0].adCooling)},e.prototype.start=function(){var t=this;null!=this.switchToggle&&(this.config.MusicSwitch?this.switchToggle.isChecked=!1:this.switchToggle.isChecked=!0),this.localData.saveData(this.localData.DATA_KEY.StageGetCoin,0),this.adCoolStart(this.adCooling),this.localData.saveData(this.localData.DATA_KEY.StageGetCoin,0),a.default.NC.addObserver(a.default.NOTICE_KEY.FINISH_TASK,this.finishTask.bind(this),this),a.default.NC.addObserver(a.default.NOTICE_KEY.GAME_OVER,this.gameOver.bind(this),this);var e=this.node.getChildByName("Game"),o=e.getChildByName("Top"),i=e.getChildByName("Bottom"),n=e.getChildByName("RubbishBox"),c=i.getChildByName("BinsNode"),r=i.getChildByName("PropNode");o.runAction(cc.sequence(cc.moveBy(.5,0,-230),cc.moveBy(.4,0,30)));var s=cc.sequence(cc.spawn(cc.moveBy(.2,0,40),cc.fadeIn(.4)),cc.moveBy(.2,0,-40)),l=cc.sequence(cc.moveTo(.4,0,-960),cc.callFunc(function(){c.runAction(s),r.runAction(cc.fadeIn(.4))}),cc.callFunc(function(){return n.runAction(cc.fadeIn(.4))}));i.runAction(l),this.startTipNode.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(function(){return t.playAudio(0)}),cc.spawn(cc.scaleTo(.2,1,1),cc.fadeIn(.2)),cc.delayTime(1),cc.fadeOut(.2),cc.callFunc(function(){t.startTipNode.parent.active=!1})))},e.prototype.adCoolStart=function(t){void 0===t&&(t=0),this.config.RubTypePrompt=!1,this.adBtn.getComponent(cc.Button).interactable=!1,this.adBtn.getComponent(cc.Animation).stop(),this.adProgressBar.progress=0,this.schedule(function(){if(this.adProgressBar.progress>=1)return this.unscheduleAllCallbacks(),this.adBtn.getComponent(cc.Button).interactable=!0,this.playAudio(3),void this.adBtn.getChildByName("BtnLight").runAction(cc.repeatForever(cc.sequence(cc.fadeIn(.5),cc.fadeOut(.5))));this.adProgressBar.progress+=.05},1)},e.prototype.finishTask=function(){var t=this;this.stagetaskNum--,this.stagetaskNum>=0&&(this.taskNum.getComponent(cc.Label).string=this.stagetaskNum.toString());var e=cc.sequence(cc.scaleTo(.2,1.5),cc.scaleTo(.5,1)),o=cc.sequence(cc.tintTo(.5,255,245,0),cc.tintTo(.5,255,255,255)),i=cc.spawn(e,o);if(this.taskNum.runAction(i),0==this.stagetaskNum){var n=this.localData.readData(this.localData.DATA_KEY.PlayStage);return(!n||parseInt(n)<this.stage)&&this.localData.saveData(this.localData.DATA_KEY.PlayStage,this.stage),this.startTipNode.active=!1,this.guoguanTipNode.active=!0,this.startTipNode.parent.active=!0,void this.guoguanTipNode.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(function(){return t.playAudio(1)}),cc.spawn(cc.scaleTo(.2,1,1),cc.fadeIn(.2)),cc.delayTime(1),cc.callFunc(function(){cc.director.loadScene("EndScene")})))}},e.prototype.quitGame=function(){cc.director.loadScene("MainScene")},e.prototype.gameOver=function(){this.failUi.active=!0,cc.audioEngine.stopAll(),this.playAudio(2)},e.prototype.reviveGame=function(t){this.cordonNode.setPosition(this.initcordonPos),this.cordonNode.getComponent("Cordon").isMove=!0,this.config.CabinetMove=!0;var e=this.rubbishBoxNode.getComponent("RubbishMgr");e.isDown=!0,e.reviveGame(),this.playBgMusic(this.bgMusicIdx),t.target.parent.active=!1},e.prototype.RubTypePrompt=function(){this.config.RubTypePrompt=!0,this.localData.saveData(this.localData.DATA_KEY.AdCoolEnd,!1)},e.prototype.playAudio=function(t,e){void 0===t&&(t=0),void 0===e&&(e=!1),this.config.MusicSwitch&&cc.audioEngine.play(this.audioClips[t],e,1)},e.prototype.playBgMusic=function(t){void 0===t&&(t=0),this.config.MusicSwitch&&cc.audioEngine.play(this.themeBgaudios[t],!0,1)},e.prototype.onDestroy=function(){a.default.NC.removeObserver(a.default.NOTICE_KEY.FINISH_TASK,this),a.default.NC.removeObserver(a.default.NOTICE_KEY.GAME_OVER,this),cc.audioEngine.stopAll()},e.prototype.switchMusic=function(t){t.isChecked?(this.localData.saveData(this.localData.DATA_KEY.AudioSwitch,0),this.config.MusicSwitch=0,cc.audioEngine.stopAll()):(this.localData.saveData(this.localData.DATA_KEY.AudioSwitch,1),this.playAudio(4),this.config.MusicSwitch=1,this.playBgMusic(this.bgMusicIdx))},c([l({type:cc.Node,tooltip:"\u6e38\u620f\u80cc\u666f"})],e.prototype,"gameBg",void 0),c([l({type:cc.Node,tooltip:"\u5f00\u59cb\u6e38\u620f\u63d0\u793a"})],e.prototype,"startTipNode",void 0),c([l({type:cc.Node,tooltip:"\u8fc7\u5173\u6e38\u620f\u63d0\u793a"})],e.prototype,"guoguanTipNode",void 0),c([l({type:cc.Node,tooltip:"\u6e38\u620f\u5931\u8d25UI"})],e.prototype,"failUi",void 0),c([l({type:cc.Node,tooltip:"\u5783\u573e\u76d2\u5b50\u8282\u70b9"})],e.prototype,"rubbishBoxNode",void 0),c([l({type:cc.Node,tooltip:"\u8b66\u6212\u7ebf\u8282\u70b9"})],e.prototype,"cordonNode",void 0),c([l({type:cc.Node,tooltip:"\u5173\u5361\u4efb\u52a1\u91cf\u8282\u70b9"})],e.prototype,"taskNum",void 0),c([l({type:cc.ProgressBar,tooltip:"\u5e7f\u544a\u51b7\u5374\u8fdb\u5ea6\u6761"})],e.prototype,"adProgressBar",void 0),c([l({type:cc.Node,tooltip:"\u5e7f\u544a\u6309\u94ae"})],e.prototype,"adBtn",void 0),c([l({type:cc.AudioClip,tooltip:"\u97f3\u9891\u6587\u4ef6"})],e.prototype,"audioClips",void 0),c([l({type:cc.Toggle,tooltip:"\u6309\u94ae\u72b6\u6001"})],e.prototype,"switchToggle",void 0),c([l({type:cc.AudioClip,tooltip:"\u4e3b\u9898\u80cc\u666f\u97f3\u4e50"})],e.prototype,"themeBgaudios",void 0),c([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../Manager/Globle":"Globle"}],Globle:[function(t,e,o){"use strict";cc._RF.push(e,"7f62aDyO7BGfZ5nisGtVM0e","Globle"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../Manager/AppLog"),n=t("../Plugin/ReadCSV"),c=t("../Plugin/Utils"),a=t("../DataModel/Config"),r=t("../ComUnit/AlartMsg"),s=t("../Manager/NotificationCenter"),l=t("../Manager/LocalData"),p=function(){function t(){}return t.applog=i.default.getInstance(!0),t.readCsv=n.default.getInstance(),t.utils=c.default.getInstance(),t.config=a.default.getInstance(),t.alert=r.default.getInstance(),t.NC=s.default.getInstance(),t.localData=l.default.getInstance(),t.NOTICE_KEY=cc.Enum({SKINSHOP_COIN_SHOW:"SKINSHOP_COIN_SHOW",CHANGE_PROP:"CHANGE_PROP",FINISH_TASK:"FINISH_TASK",GAME_OVER:"GAME_OVER",CORDON_CHANGE:"CORDON_CHANGE",MISPLACE_PUNISH:"MISPLACE_PUNISH",LOOK_THEME_ANIMA:"LOOK_THEME_ANIMA"}),t}();o.default=p,cc._RF.pop()},{"../ComUnit/AlartMsg":"AlartMsg","../DataModel/Config":"Config","../Manager/AppLog":"AppLog","../Manager/LocalData":"LocalData","../Manager/NotificationCenter":"NotificationCenter","../Plugin/ReadCSV":"ReadCSV","../Plugin/Utils":"Utils"}],HttpMgr:[function(t,e,o){"use strict";cc._RF.push(e,"c69aa59x5xNF7h2rzA2sWLD","HttpMgr");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,i){var n,c=arguments.length,a=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(c<3?n(a):c>3?n(e,o,a):n(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return n(e,t),e.prototype.start=function(){},c([s(cc.Label)],e.prototype,"label",void 0),c([s],e.prototype,"text",void 0),c([r],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],ItemPageG:[function(t,e,o){"use strict";cc._RF.push(e,"90abfgllZdDfr0295HTlf7+","ItemPageG");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,i){var n,c=arguments.length,a=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(c<3?n(a):c>3?n(e,o,a):n(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Manager/Globle"),r=cc._decorator,s=r.ccclass,l=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.PageNum=10,e.scroll_view=null,e.item_prefab=null,e.dataType=0,e.dataType2=0,e.content=null,e.start_index=0,e.DataList=[],e.opt_item_set=[],e.playerSkins=null,e.playerUserSkins=null,e.unlockRubIds=[],e.newunlockRubIds=[],e}return n(e,t),e.prototype.onLoad=function(){var t=[a.default.config.systemData,a.default.config.binSkinData,a.default.config.binData,a.default.config.RubDataArr,a.default.config.propData];if(this.DataList=this.dataType>0?t[this.dataType-1]:[],this.scroll_view=this.scroll_view?this.scroll_view:this.node.getComponent(cc.ScrollView),this.content=this.scroll_view.content,4==this.dataType&&this.dataType2&&this.DataList){for(var e=[],o=0,i=this.DataList;o<i.length;o++){var n=i[o];n.rtype==this.dataType2.toString()&&e.push(n)}this.DataList=e}this.playerSkins=a.default.localData.readData(a.default.localData.DATA_KEY.HaveBinSkins,!0),this.playerUserSkins=a.default.localData.readData(a.default.localData.DATA_KEY.UseBinSkins,!0);var c=a.default.localData.readData(a.default.localData.DATA_KEY.UnlockRubid);this.unlockRubIds=c?c.split(","):[];var r=a.default.localData.readData(a.default.localData.DATA_KEY.NewUnlockRubid);this.newunlockRubIds=r?r.split(","):[]},e.prototype.start=function(){this.loadData(this.start_index),a.default.localData.saveData(a.default.localData.DATA_KEY.NewUnlockRubid,"")},e.prototype.onEnable=function(){this.scroll_view.node.on("scroll-to-bottom",this.on_scroll_bottom.bind(this),this)},e.prototype.onDisable=function(){},e.prototype.loadData=function(t){if(t<this.DataList.length){var e=this.DataList.length-t,o=e>this.PageNum?this.PageNum:e;if(4==this.dataType){var i=cc.winSize.width/1080,n=i<.9?i<.88?20:60:10*i;this.content.getComponent(cc.Layout).paddingLeft=n}for(var c=function(){var e=null;switch(0==r.dataType2&&(e=cc.instantiate(r.item_prefab)),r.dataType){case 1:break;case 2:var o=r.playerUserSkins?r.playerUserSkins:a.default.config.BinSkin,i=r.playerSkins?r.playerSkins:a.default.config.PlayerBinSkins,n=r.DataList[t].bskintype,c=r.DataList[t].bincode,s=e.getComponent("SkinBtn");s.binType=c,s.skinType=n,s.skinprice=r.DataList[t].skinprice;var l=e.getChildByName("Goldcoin");o[c]==n?(e.getChildByName("check").active=!0,s.isBought=!0):null==i[n]||-1==i[n].indexOf(c)?(l.active=!0,l.getChildByName("coin").getComponent(cc.Label).string=r.DataList[t].skinprice):s.isBought=!0;var p=n+"_"+c;cc.loader.loadRes("Bins/binSkins",cc.SpriteAtlas,function(t,o){t&&a.default.applog.tips("binSkins "+p+" is not exist!");var i=o.getSpriteFrame(p),n=e.getChildByName("skin");n.setContentSize(i.getRect().width,i.getRect().height),n.getComponent(cc.Sprite).spriteFrame=i});break;case 3:break;case 4:e=cc.instantiate(r.item_prefab);var u=r.DataList[t].rtype+"_"+r.DataList[t].rubcode;cc.loader.loadRes("Rubbish/rubbishs",cc.SpriteAtlas,function(t,o){if(t)a.default.applog.tips("Rubbish icon "+u+" is not exist!");else{var i=o.getSpriteFrame(u);e.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=i}});var h=e.getChildByName("namebg").getChildByName("name");r.unlockRubIds.indexOf(r.DataList[t].rubcode)>-1&&(h.getComponent(cc.Label).string=r.DataList[t].rubname,e.getComponent("RubbishItem").setMaterial(1)),r.newunlockRubIds.indexOf(r.DataList[t].rubcode)>-1&&(h.getChildByName("new").active=!0)}null!=e&&r.content.addChild(e),t++,r.start_index++},r=this,s=0;s<o;s++)c()}},e.prototype.on_scroll_bottom=function(){this.loadData(this.start_index)},c([l({type:cc.Integer,tooltip:"\u6bcf\u9875\u663e\u793a\u7684\u6761\u6570"})],e.prototype,"PageNum",void 0),c([l({type:cc.ScrollView,tooltip:"\u63a5\u6536\u6570\u636e\u7684\u6eda\u52a8\u89c6\u56fe\u8282\u70b9"})],e.prototype,"scroll_view",void 0),c([l({type:cc.Prefab,tooltip:"\u6570\u636e\u9879"})],e.prototype,"item_prefab",void 0),c([l({type:cc.Integer,tooltip:"\u6570\u636e\u7c7b\u578b1\u3001\u7cfb\u7edf2\u3001\u5783\u573e\u6876\u76ae\u80a43\u3001\u5783\u573e\u68764\u3001\u5783\u573e[1:\u5e72\u5783\u573e2:\u6e7f\u5783\u573e3:\u53ef\u56de\u6536\u5783\u573e4:\u6709\u5bb3\u5783\u573e]5\u3001\u5956\u52b1\u9053\u5177"})],e.prototype,"dataType",void 0),c([l({type:cc.Integer,tooltip:"\u4e8c\u7ea7\u6570\u636e\u5206\u7c7b"})],e.prototype,"dataType2",void 0),c([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../Manager/Globle":"Globle"}],ItemPageV:[function(t,e,o){"use strict";cc._RF.push(e,"7e034WLGCZN2aIA15Qk3kYX","ItemPageV");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,i){var n,c=arguments.length,a=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(c<3?n(a):c>3?n(e,o,a):n(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.OPT_HEIGHT=80,e.PAGE_NUM=8,e.item_prefab=null,e.scroll_view=null,e.content=null,e.start_index=0,e.start_y=0,e.firstPageNum=2,e.DataList=[],e.opt_item_set=[],e}return n(e,t),e.prototype.onLoad=function(){for(var t=1;t<=100;t++)this.DataList.push(t);for(this.content=this.scroll_view.content,this.opt_item_set=[],t=0;t<this.PAGE_NUM*this.firstPageNum;t++){var e=cc.instantiate(this.item_prefab),o=e.getComponent("ThemeItem");o&&(o.themeStage=t+1),this.content.addChild(e),this.opt_item_set.push(e)}this.scroll_view.node.on("scroll-ended",this.on_scroll_ended.bind(this),this)},e.prototype.start=function(){this.start_y=this.content.y,this.start_index=0,this.load_record(this.start_index)},e.prototype.load_record=function(t){this.start_index=t;for(var e=0;e<this.PAGE_NUM*this.firstPageNum;e++);},e.prototype.on_scroll_ended=function(){this.scrollveiw_load_recode(),this.scroll_view.elastic=!0},e.prototype.scrollveiw_load_recode=function(){if(this.start_index+this.PAGE_NUM*this.firstPageNum<this.DataList.length&&this.content.y>=this.start_y+(this.firstPageNum-1)*this.OPT_HEIGHT){if(this.scroll_view.isAutoScrolling)return void(this.scroll_view.elastic=!1);var t=this.PAGE_NUM;if(this.start_index+=t,this.start_index+this.PAGE_NUM*this.firstPageNum>this.DataList.length){var e=this.start_index+this.PAGE_NUM*this.firstPageNum-this.DataList.length;t-=e,this.start_index-=e}return this.load_record(this.start_index),void(this.content.y-=t*this.OPT_HEIGHT)}if(this.start_index>0&&this.content.y<=this.start_y){if(this.scroll_view.isAutoScrolling)return void(this.scroll_view.elastic=!1);var o=this.PAGE_NUM;this.start_index-=o,this.start_index<0&&(o+=this.start_index,this.start_index=0),this.load_record(this.start_index),this.content.y+=o*this.OPT_HEIGHT}},e.prototype.update=function(){},c([s({type:cc.Integer,tooltip:"\u6bcf\u9879\u7684\u9ad8\u5ea6"})],e.prototype,"OPT_HEIGHT",void 0),c([s({type:cc.Integer,tooltip:"\u6bcf\u9875\u7684\u6570\u91cf"})],e.prototype,"PAGE_NUM",void 0),c([s({type:cc.Prefab,tooltip:"\u6570\u636e\u9879"})],e.prototype,"item_prefab",void 0),c([s({type:cc.ScrollView,tooltip:"\u63a5\u6536\u6570\u636e\u7684\u6eda\u52a8\u89c6\u56fe\u8282\u70b9"})],e.prototype,"scroll_view",void 0),c([s({type:cc.Integer,tooltip:"\u4f18\u5148\u663e\u793a\u51e0\u9875"})],e.prototype,"firstPageNum",void 0),c([r],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],Language:[function(t,e,o){"use strict";cc._RF.push(e,"2b730f0D/NEQLRJCuK1Neou","Language");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,i){var n,c=arguments.length,a=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(c<3?n(a):c>3?n(e,o,a):n(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return n(e,t),e.prototype.start=function(){},c([s(cc.Label)],e.prototype,"label",void 0),c([s],e.prototype,"text",void 0),c([r],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],LoadScene:[function(t,e,o){"use strict";cc._RF.push(e,"e17cexsPIFA6LaoXoKX3i9R","LoadScene");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,i){var n,c=arguments.length,a=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(c<3?n(a):c>3?n(e,o,a):n(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Manager/Globle"),r=cc._decorator,s=r.ccclass,l=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ResLoadBar=null,e.isLoadScene=!1,e.showNodes=[],e.NextScene=null,e.loadLable=null,e._urls=[{url:"\u8d44\u6e90\u94fe\u63a5",type:"png"}],e._resource=null,e._progress=0,e._isLoadRes=!1,e}return n(e,t),e.prototype.onLoad=function(){this.ResLoadBar.progress=0,cc.sys.platform==cc.sys.WECHAT_GAME?(this._urls=[{url:"\u8d44\u6e90\u94fe\u63a5",type:"png"}],this._clearAll(),cc.loader.load(this._urls,this._netprogressCallback.bind(this),this._netcompleteCallback.bind(this))):this._loadSceneRes(),a.default.readCsv.readResCsv(a.default.config.setData.bind(a.default.config))},e.prototype.start=function(){},e.prototype._loadSceneRes=function(){this.NextScene&&cc.director.preloadScene(this.NextScene.name,this._localprogressCallback.bind(this),this._loalcompleteCallback.bind(this))},e.prototype._clearAll=function(){for(var t=0;t<this._urls.length;++t){var e=this._urls[t];cc.loader.release(e)}},e.prototype._netprogressCallback=function(t,e,o){this._progress=t/e,this._resource=o,this.loadLable.string="\u52a0\u8f7d\u8fdb\u5ea6\uff1a"+100*this._progress+"%"},e.prototype._netcompleteCallback=function(){this.ResLoadBar.progress=0,this._resource=null,this._loadSceneRes()},e.prototype._localprogressCallback=function(t,e){this._progress=t/e,this.loadLable.string="\u52a0\u8f7d\u8fdb\u5ea6\uff1a"+100*this._progress+"%"},e.prototype._loalcompleteCallback=function(){if(this._isLoadRes=!0,this.ResLoadBar.node.active=!1,this.isLoadScene)this.NextScene?cc.director.loadScene(this.NextScene.name):a.default.applog.tips("\u573a\u666f\u4e0d\u5b58\u5728");else if(this.showNodes.length>0)for(var t=0,e=this.showNodes;t<e.length;t++)e[t].active=!0;else a.default.applog.tips("\u8282\u70b9\u4e0d\u5b58\u5728")},e.prototype.update=function(t){if(this._resource||!this._isLoadRes){var e=this.ResLoadBar.progress;e>=1?a.default.applog.tips("\u52a0\u8f7d\u5b8c\u6210"):(e<this._progress&&(e+=t),this.ResLoadBar.progress=e)}},e.prototype.loadMain=function(){this.scheduleOnce(function(){this.NextScene&&cc.director.loadScene(this.NextScene.name)},1)},c([l({type:cc.ProgressBar,tooltip:"\u8d44\u6e90\u52a0\u8f7d\u8fdb\u5ea6\u6761"})],e.prototype,"ResLoadBar",void 0),c([l({tooltip:"\u662f\u5426\u76f4\u63a5\u8fdb\u5165\u573a\u666f"})],e.prototype,"isLoadScene",void 0),c([l({type:cc.Node,tooltip:"\u8981\u663e\u793a\u7684\u5143\u7d20\u8282\u70b9"})],e.prototype,"showNodes",void 0),c([l({type:cc.SceneAsset,tooltip:"\u51c6\u5907\u8fdb\u5165\u7684\u6e38\u620f\u573a\u666f"})],e.prototype,"NextScene",void 0),c([l({type:cc.Label,tooltip:"\u663e\u793a\u52a0\u8f7d\u6587\u5b57"})],e.prototype,"loadLable",void 0),c([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../Manager/Globle":"Globle"}],LocalData:[function(t,e,o){"use strict";cc._RF.push(e,"1189cGfvdpGGLSmzONc3EZc","LocalData"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){this.Rubbish={},this.DATA_KEY=cc.Enum({SelectStage:"SelectStage",PlayStage:"PlayStage",HaveBinSkins:"HaveBinSkins",UseBinSkins:"UseBinSkins",PlayerTotleCoin:"PlayerTotleCoin",StageGetCoin:"StageGetCoin",AdCoolEnd:"AdCoolEnd",UnlockRubid:"UnlockRubid",NewUnlockRubid:"NewUnlockRubid",AudioSwitch:"AudioSwitch",SwitchMusic:"SwitchMusic",SwitchEffect:"switchEffect"})}return t.getInstance=function(){return null==this._instance&&(this._instance=new t),this._instance},t.prototype.saveData=function(t,e,o){void 0===o&&(o=!1),o?localStorage.setItem(t,JSON.stringify(e)):localStorage.setItem(t,e)},t.prototype.readData=function(t,e){void 0===e&&(e=!1);var o=localStorage.getItem(t);return e&&o?JSON.parse(o):o},t._instance=null,t}();o.default=i,cc._RF.pop()},{}],LoginGame:[function(t,e,o){"use strict";cc._RF.push(e,"43c13TD4Y1Ni7YkZ7ch8Zi4","LoginGame");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,i){var n,c=arguments.length,a=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(c<3?n(a):c>3?n(e,o,a):n(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.start=function(){},c([r],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],MainScene:[function(t,e,o){"use strict";cc._RF.push(e,"7137emK8mNI+YDbrb/S+H1P","MainScene");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,i){var n,c=arguments.length,a=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(c<3?n(a):c>3?n(e,o,a):n(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../Manager/Globle"),r=cc._decorator,s=r.ccclass,l=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.enterGameBtn=null,e.quitTips=null,e.themeBg=null,e.audioClips=[],e.PlayStage="",e.stage=1,e.isBackGame=!1,e}return n(e,t),e.prototype.onLoad=function(){this.localData=a.default.localData,this.config=a.default.config,cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),a.default.NC.addObserver(a.default.NOTICE_KEY.LOOK_THEME_ANIMA,this.lookThemeAnima.bind(this),this);var t=this.localData.readData(this.localData.DATA_KEY.AudioSwitch);""==t||null==t?this.localData.saveData(this.localData.DATA_KEY.AudioSwitch,1):this.config.MusicSwitch=parseInt(t)},e.prototype.start=function(){var t=this;this.playAudio(0),this.PlayStage=this.localData.readData(this.localData.DATA_KEY.PlayStage),this.PlayStage&&(this.stage=parseInt(this.PlayStage)+1,this.enterGameBtn.getChildByName("Start").active=!1,this.enterGameBtn.getChildByName("Continue").active=!0),this.localData.readData(this.localData.DATA_KEY.HaveBinSkins)||this.localData.saveData(a.default.localData.DATA_KEY.HaveBinSkins,this.config.PlayerBinSkins,!0),this.localData.readData(this.localData.DATA_KEY.UseBinSkins)||this.localData.saveData(this.localData.DATA_KEY.UseBinSkins,this.config.BinSkin,!0),this.node.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(function(){t.playAudio(1,!0)})))},e.prototype.onKeyDown=function(t){var e=this;switch(t.keyCode){case cc.macro.KEY.back:if(this.isBackGame)return void cc.game.end();this.isBackGame=!0,this.quitTips.active=!0,this.node.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){e.isBackGame=!1,e.quitTips.active=!1})))}},e.prototype.enterGame=function(){var t=this.stage;this.stage>this.config.stageData.length&&(t=this.config.stageData.length),this.localData.saveData(this.localData.DATA_KEY.SelectStage,t),cc.director.loadScene("GameScene")},e.prototype.onDestroy=function(){cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),a.default.NC.removeObserver(a.default.NOTICE_KEY.LOOK_THEME_ANIMA,this),cc.audioEngine.stopAll()},e.prototype.lookThemeAnima=function(t){if(void 0===t&&(t=0),t>0){var e=this,o=this.themeBg.children;if(o)for(var i=0,n=o;i<n.length;i++)n[i].removeFromParent();var c="Prefab/Theme/theme"+t+"/ThemeAnima";cc.loader.loadRes(c,cc.Prefab,function(o,i){o&&a.default.applog.tips("ThemeAnima theme"+t+" Prefab is not exist!");var n=cc.instantiate(i);e.themeBg.addChild(n),e.themeBg.active=!0})}},e.prototype.playAudio=function(t,e){void 0===t&&(t=0),void 0===e&&(e=!1),this.config.MusicSwitch&&cc.audioEngine.play(this.audioClips[t],e,1)},c([l({type:cc.Node,tooltip:"\u5f00\u59cb\u6e38\u620f\u6309\u94ae\u56fe"})],e.prototype,"enterGameBtn",void 0),c([l({type:cc.Node,tooltip:"\u9000\u51fa\u63d0\u793a"})],e.prototype,"quitTips",void 0),c([l({type:cc.Node,tooltip:"\u5b8c\u6574\u4e3b\u9898\u7236\u8282\u70b9"})],e.prototype,"themeBg",void 0),c([l({type:cc.AudioClip,tooltip:"\u97f3\u9891\u6587\u4ef6"})],e.prototype,"audioClips",void 0),c([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../Manager/Globle":"Globle"}],NotificationCenter:[function(t,e,o){"use strict";cc._RF.push(e,"fa4b8DkSstEQoSJd7b7raKZ","NotificationCenter"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){this._observers={}}return t.getInstance=function(){return null==this._instance&&(this._instance=new t),this._instance},t.prototype.addObserver=function(t,e,o){t&&null!=e&&null!=o&&(null==this._observers[t]&&(this._observers[t]=[]),this._observers[t].push({fun:e,target:o}))},t.prototype.removeObserver=function(t,e){if(null!=e){if(null==this._observers[t])return;this._observers[t]=this._observers[t].filter(function(t){return t.target!=e})}},t.prototype.activeNotice=function(t,e){null!=this._observers[t]&&this._observers[t].forEach(function(t){t.fun.call(t.target,e)})},t._instance=null,t}();o.default=i,cc._RF.pop()},{}],PropMgr:[function(t,e,o){"use strict";cc._RF.push(e,"8a45doalEhHJKDFr7z/IM55","PropMgr");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,i){var n,c=arguments.length,a=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(c<3?n(a):c>3?n(e,o,a):n(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../Manager/Globle"),r=cc._decorator,s=r.ccclass,l=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.BinBox=null,e.propPrefab=null,e.propParent=null,e.texiaoPrefab=null,e.propGaiLvArr=[],e.maxBinNum=0,e.config=null,e.utils=null,e.propData=null,e.addProp=!0,e}return n(e,t),e.prototype.onLoad=function(){this.config=a.default.config,this.utils=a.default.utils,a.default.NC.addObserver(a.default.NOTICE_KEY.CHANGE_PROP,this.changeProp.bind(this),this)},e.prototype.start=function(){this.propData=this.config.propData;var t=this.config.systemData[0].rewardShow,e=t?t.split(";"):[];if(e.length>0)for(var o=0,i=0,n=e;i<n.length;i++){for(var c=n[i],r=0;r<c;r++)this.propGaiLvArr.push(o);o++}var s=a.default.localData.readData(a.default.localData.DATA_KEY.SelectStage),l=this.config.stageData[s-1].bincode.split(this.config.SeparatChat);l&&(this.maxBinNum=l.length)},e.prototype.update=function(){if(this.propData&&this.BinBox.children.length==this.maxBinNum&&this.addProp){this.addProp=!1;for(var t=this.BinBox.children,e=function(t){o.propGaiLvArr=o.utils.shuffle(o.propGaiLvArr);var e=Math.floor(Math.random()*o.propGaiLvArr.length),i=o.propData[o.propGaiLvArr[e]],n="hand_"+i.typeIcon;cc.loader.loadRes("Prop/Prop",cc.SpriteAtlas,function(e,o){if(e)cc.error(e.message);else{var i=o.getSpriteFrame(n);t.getChildByName("RightHand").getComponent(cc.Sprite).spriteFrame=i}});var c=cc.instantiate(o.propPrefab);c.x=t.x;var a=c.getComponent("Prop");a.pType=i.rtype,a.pValue=i.value,a.texiaoPrefab=o.texiaoPrefab,t.getComponent("Bin").propCom=a,o.propParent.addChild(c)},o=this,i=0,n=t;i<n.length;i++)e(n[i])}},e.prototype.changeProp=function(t){var e=t.bin,o=t.propCom;this.propGaiLvArr=this.utils.shuffle(this.propGaiLvArr);var i=Math.floor(Math.random()*this.propGaiLvArr.length),n=this.propData[this.propGaiLvArr[i]],c="hand_"+n.typeIcon;cc.loader.loadRes("Prop/Prop",cc.SpriteAtlas,function(t,o){if(t)cc.error(t.message);else{var i=o.getSpriteFrame(c);e.getChildByName("RightHand").getComponent(cc.Sprite).spriteFrame=i}}),o.pType=n.rtype,o.pValue=n.value,o.progress=0,o.resetProgress()},e.prototype.onDestroy=function(){a.default.NC.removeObserver(a.default.NOTICE_KEY.CHANGE_PROP,this)},c([l({type:cc.Node,tooltip:"\u9053\u5177\u5173\u8054\u5783\u573e\u6876"})],e.prototype,"BinBox",void 0),c([l({type:cc.Prefab,tooltip:"\u9053\u5177\u9884\u5236\u4f53"})],e.prototype,"propPrefab",void 0),c([l({type:cc.Node,tooltip:"\u9053\u5177\u8fdb\u5ea6\u7236\u8282\u70b9"})],e.prototype,"propParent",void 0),c([l({type:cc.Prefab,tooltip:"\u9053\u5177\u7279\u6548\u9884\u5236\u4f53"})],e.prototype,"texiaoPrefab",void 0),c([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../Manager/Globle":"Globle"}],Prop:[function(t,e,o){"use strict";cc._RF.push(e,"ecd60Mg3HlN/5rQnwiyc6ba","Prop");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,i){var n,c=arguments.length,a=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(c<3?n(a):c>3?n(e,o,a):n(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../Manager/Globle"),r=cc._decorator,s=r.ccclass,l=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.defProgressIcon=null,e.progressIcon=null,e.audioClips=[],e.texiaoPrefab=null,e.progress=0,e.pType=0,e.pValue=0,e.propData=null,e.Stage=0,e.config=null,e.localData=null,e}return n(e,t),e.prototype.onLoad=function(){this.config=a.default.config,this.localData=a.default.localData},e.prototype.start=function(){this.propData=this.config.propData,this.Stage=this.localData.readData(this.localData.DATA_KEY.SelectStage)},e.prototype.setProgress=function(){var t=this.node.children;if(this.progress>0){if(this.progress<=3&&(t[this.progress-1].getComponent(cc.Sprite).spriteFrame=this.progressIcon),3==this.progress)for(var e=0,o=t;e<o.length;e++){var i=o[e],n=cc.repeatForever(cc.sequence(cc.fadeIn(.3),cc.fadeOut(.3)));i.getChildByName("heartLinght").runAction(n)}if(this.progress>3){var c=this.pType.toString(),a=this.localData.readData(this.localData.DATA_KEY.StageGetCoin);a=a||0;var r=Math.floor(this.Stage/10)+3,s=0;switch(c){case"1":case"2":s=parseInt((this.pValue*r).toString())+parseInt(a),this.localData.saveData(this.localData.DATA_KEY.StageGetCoin,s.toString()),this.texiaofunc(c,this);break;case"3":this.texiaofunc(c,this)}for(var l=0,p=t;l<p.length;l++)(i=p[l]).getChildByName("heartLinght").opacity=0,i.getChildByName("heartLinght").stopAllActions();return!0}}return!1},e.prototype.resetProgress=function(){for(var t=0,e=this.node.children;t<e.length;t++)e[t].getComponent(cc.Sprite).spriteFrame=this.defProgressIcon},e.prototype.texiaofunc=function(t,e){if(void 0===e&&(e=null),e.playAudio(0),null!=e&&parseInt(t)>0){var o=cc.instantiate(this.texiaoPrefab),i=this.propData[parseInt(t)-1].typeIcon;cc.loader.loadRes("Prop/Prop",cc.SpriteAtlas,function(n,c){if(n)cc.error(n.message);else{var r=c.getSpriteFrame(i);o.getChildByName("cur_10").getComponent(cc.Sprite).spriteFrame=r,o.parent=e.node.parent,o.setPosition(e.node.x,e.node.y+700);var s=cc.callFunc(function(){});"3"==t&&(s=cc.callFunc(function(){a.default.NC.activeNotice(a.default.NOTICE_KEY.CORDON_CHANGE)})),o.runAction(cc.sequence(cc.callFunc(function(){o.getComponent(cc.Animation).play()}),cc.moveBy(.5,0,100),cc.delayTime(1),s,cc.delayTime(4),cc.callFunc(function(){return o.removeFromParent()})))}})}},e.prototype.playAudio=function(t,e){void 0===t&&(t=0),void 0===e&&(e=!1),this.config.MusicSwitch&&cc.audioEngine.play(this.audioClips[t],e,1)},c([l({type:cc.SpriteFrame,tooltip:"\u9ed8\u8ba4\u8fdb\u5ea6\u56fe\u6807"})],e.prototype,"defProgressIcon",void 0),c([l({type:cc.SpriteFrame,tooltip:"\u8868\u73b0\u589e\u8fdb\u5ea6\u7684\u56fe\u6807"})],e.prototype,"progressIcon",void 0),c([l({type:cc.AudioClip,tooltip:"\u97f3\u9891\u6587\u4ef6"})],e.prototype,"audioClips",void 0),c([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../Manager/Globle":"Globle"}],ReadCSV:[function(t,e,o){"use strict";cc._RF.push(e,"fe2fbzY4rJFdaMtE7GHAhSy","ReadCSV"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){this.csvDatas=[]}return t.getInstance=function(){return null==this._instance&&(this._instance=new t),this._instance},t.prototype.initData=function(t,e){for(var o=0;o<t.length;o++){for(var i=e[o].split("/")[1],n=t[o].text.split("\n"),c=[],a=n[1].split(","),r=2;r<n.length;r++){var s={};if(n[r]){for(var l=n[r].split(","),p=0;p<l.length;p++)s[a[p].replace(/[\r\n]/g,"")]=l[p].replace(/[\r\n]/g,"");c[r-2]=s}}this.csvDatas[i]=c}},t.prototype.readResCsv=function(t){var e=this;cc.loader.loadResDir("CSV",function(o,i,n){o?cc.error(o):(e.initData(i,n),t(e.csvDatas))})},t}();o.default=i,cc._RF.pop()},{}],RubbishItem:[function(t,e,o){"use strict";cc._RF.push(e,"9634eQpIrVDybt+vVZXwlph","RubbishItem");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,i){var n,c=arguments.length,a=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(c<3?n(a):c>3?n(e,o,a):n(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.materials=[],e}return n(e,t),e.prototype.start=function(){},e.prototype.setMaterial=function(t){void 0===t&&(t=0),this.node.getChildByName("icon").getComponent(cc.Sprite).setMaterial(0,this.materials[t])},c([s({type:cc.Material,tooltip:"\u56fe\u9274\u6750\u8d28"})],e.prototype,"materials",void 0),c([r],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],RubbishMgr:[function(t,e,o){"use strict";cc._RF.push(e,"a93dePf9INLYIOgwiWXuXfr","RubbishMgr");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,i){var n,c=arguments.length,a=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(c<3?n(a):c>3?n(e,o,a):n(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../Manager/Globle"),r=cc._decorator,s=r.ccclass,l=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rubbishPrefab=null,e.cabinetPrefab=null,e.showNameNode=null,e.binBox=null,e.CordonNode=null,e.audioClips=[],e.rubFallSpeed=0,e.lastCabinet=null,e.Stage=0,e.stageLevel=1,e.MisplacePunishOn=!0,e.config=null,e.localData=null,e.utils=null,e.rubbishArr=null,e.unlockRubPic="",e.newUnlockRubid="",e}return n(e,t),e.prototype.onLoad=function(){this.config=a.default.config,this.localData=a.default.localData,this.utils=a.default.utils},e.prototype.start=function(){a.default.NC.addObserver(a.default.NOTICE_KEY.MISPLACE_PUNISH,this.misplacePunish.bind(this),this),this.unlockRubPic=this.localData.readData(this.localData.DATA_KEY.UnlockRubid),this.newUnlockRubid=this.localData.readData(this.localData.DATA_KEY.NewUnlockRubid),this.Stage=this.localData.readData(this.localData.DATA_KEY.SelectStage),this.stageLevel=Math.ceil(this.Stage/20);var t=Math.ceil(this.Stage/10),e=this.config.systemData[0].rbMaxFallSpeed;this.rubFallSpeed=this.config.systemData[0].rbMinFallSpeed;var o=this.rubFallSpeed*t;if(this.stageLevel>0&&(this.rubFallSpeed=o>e?e:o),this.Stage>0){this.Rubbish=this.config.RubData;var i=this.config.stageData[this.Stage-1],n=i.dryrub?i.dryrub.split(this.config.SeparatChat):null,c=i.damprub?i.damprub.split(this.config.SeparatChat):null,r=i.recycledrub?i.recycledrub.split(this.config.SeparatChat):null,s=i.harmfulrub?i.harmfulrub.split(this.config.SeparatChat):null,l=i.bigrub?i.bigrub.split(this.config.SeparatChat):null;this.rubbishArr=n?n.concat(c,r,s,l):c?c.concat(r,s,l):r?r.concat(s,l):s?s.concat(l):l,this.rubbishArr=this.utils.trimSpace(this.rubbishArr),this.createCabinet(600)}},e.prototype.update=function(){this.Stage>0&&null!=this.lastCabinet&&this.lastCabinet.y<-1*this.lastCabinet.height&&this.createCabinet()},e.prototype.playAudio=function(t,e){void 0===t&&(t=0),void 0===e&&(e=!1),this.config.MusicSwitch&&cc.audioEngine.play(this.audioClips[t],e,1)},e.prototype.createRubbish=function(t,e,o){void 0===e&&(e=0),void 0===o&&(o=0);var i=0,n=0,c=0,r=0,s=this.utils.shuffle(this.rubbishArr),l=e*o;if(s.length<l){for(var p=[],u=Math.ceil(l/s.length),h=0;h<u;h++)p.push.apply(p,s),s=this.utils.shuffle(s);s=p}if(s&&this.rubbishPrefab)for(var d=this.rubbishPrefab.data.width,f=0;f<o;f++){n=4+d/2+f*d;for(var y=function(l){if(null!=s[c]){i=(d+8)/2+l*(d+8);var p=g.Rubbish[s[c]];if(null==p)return{value:void 0};if(0==p.rtype)if(r>0||o*e<6)for(var u=0;u<s.length;u++){var h=Math.floor(Math.random()*s.length);g.Rubbish[s[h]].rtype>0&&(p=g.Rubbish[s[h]],u=s.length)}else r++;if(p){g.newUnlockRubid=g.unlockRubPic?-1==g.unlockRubPic.indexOf(s[c])?""!=g.newUnlockRubid?g.newUnlockRubid+","+s[c]:s[c]:g.newUnlockRubid:s[c],g.unlockRubPic=g.unlockRubPic?-1==g.unlockRubPic.indexOf(s[c])?g.unlockRubPic+","+s[c]:g.unlockRubPic:s[c];var f,y=cc.instantiate(g.rubbishPrefab);0==p.rtype?y.getChildByName("Lock").active=!0:p.srubbish&&(y.getChildByName("NumIcon").active=!0),f=p.rtype+"_"+p.rubcode,cc.loader.loadRes("Rubbish/rubbishs",cc.SpriteAtlas,function(t,e){if(t)a.default.applog.tips("Rubbish icon "+f+" is not exist!");else{var o=e.getSpriteFrame(f);y.getChildByName("Icon").getComponent(cc.Sprite).spriteFrame=o}});var b=y.getComponent("Rubbish");b.showNameNode=g.showNameNode,b.binBox=g.binBox,b.CordonNode=g.CordonNode,b.setProperty(p.rubname,p.rubcode,p.rtype,p.srubbish),y.setPosition(i,n),t.addChild(y)}c++}},g=this,b=0;b<e;b++){var _=y(b);if("object"==typeof _)return _.value}}this.localData.saveData(this.localData.DATA_KEY.UnlockRubid,this.unlockRubPic),this.localData.saveData(this.localData.DATA_KEY.NewUnlockRubid,this.newUnlockRubid)},e.prototype.createCabinet=function(t){void 0===t&&(t=0),this.config.MisplacePunishOn=!1;var e=this.stageLevel>4?4:this.stageLevel,o=[],i=this.utils.randomNumArr(e),n=Math.ceil(t/100);if(n>e)for(var c=n-e,a=0;a<c;a++)i.push.apply(i,this.utils.randomNumArr(e));for(var r=0,s=0,l=0,p=0,u=0;u<i.length;u++){u>0&&(p+=i[u-1]);for(var h=this.utils.randomNumArr(6),d=0;d<h.length;d++)r=h[d],s=i[u],d>0?l+=h[d-1]:l=0,o.push({width:r,height:s,posX:l,posY:p})}if(o.length>0){var f=this.rubbishPrefab.data.width+8;for(var y in o){var g=cc.instantiate(this.cabinetPrefab);g.name="Cabinet_"+y,g.setPosition(new cc.Vec2(o[y].posX*f,o[y].posY*f-t)),g.width=o[y].width*f,g.height=o[y].height*f;var b=g.getComponent("Cabinet");b.rubTotleNum=o[y].width*o[y].height,b.rSpeed=this.rubFallSpeed;var _=g.getComponent(cc.BoxCollider);_.size=new cc.Size(g.width-2,g.height+2),_.offset=new cc.Vec2(g.width/2,g.height/2),this.createRubbish(g,o[y].width,o[y].height),this.lastCabinet=g,this.node.addChild(g)}}this.config.MisplacePunishOn=!0},e.prototype.misplacePunish=function(){var t=this.node.children;if(this.playAudio(0),null!=this.lastCabinet&&this.lastCabinet.y-60>-1*this.lastCabinet.height)for(var e=0,o=t;e<o.length;e++)o[e].runAction(cc.sequence(cc.moveBy(.5,0,-60).easing(cc.easeOut(.6)),cc.moveBy(.2,0,12)))},e.prototype.reviveGame=function(){for(var t=0,e=this.node.children;t<e.length;t++)e[t].runAction(cc.moveBy(.5,0,570))},e.prototype.onDestroy=function(){a.default.NC.removeObserver(a.default.NOTICE_KEY.MISPLACE_PUNISH,this)},c([l({type:cc.Prefab,tooltip:"\u5783\u573e\u7684\u9884\u5236\u4f53"})],e.prototype,"rubbishPrefab",void 0),c([l({type:cc.Prefab,tooltip:"\u5783\u573e\u67dc\u7684\u9884\u5236\u4f53"})],e.prototype,"cabinetPrefab",void 0),c([l({type:cc.Node,tooltip:"\u663e\u793a\u5783\u573e\u540d\u79f0\u7684\u8282\u70b9"})],e.prototype,"showNameNode",void 0),c([l({type:cc.Node,tooltip:"\u5783\u573e\u6876\u7236\u8282\u70b9"})],e.prototype,"binBox",void 0),c([l({type:cc.Node,tooltip:"\u8b66\u6212\u7ebf\u8282\u70b9"})],e.prototype,"CordonNode",void 0),c([l({type:cc.AudioClip,tooltip:"\u97f3\u9891\u6587\u4ef6"})],e.prototype,"audioClips",void 0),c([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../Manager/Globle":"Globle"}],Rubbish:[function(t,e,o){"use strict";cc._RF.push(e,"50905tEDeFKDqFfHA91h4FL","Rubbish");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,i){var n,c=arguments.length,a=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(c<3?n(a):c>3?n(e,o,a):n(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../Manager/Globle"),r=cc._decorator,s=r.ccclass,l=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.binBox=null,e.audioClips=[],e.CordonNode=null,e.rName="",e.rCode="",e.rType=0,e.srubbish="",e.cloneNode=null,e.changeOp=150,e.changeScale={x:1.1,y:1.1},e.ownNode=null,e.cloneType=0,e.showNameNode=null,e.Rubbish=null,e.BinState=0,e.colbinObj=null,e.fangkai=!1,e.isLock=!0,e.unlockRubPic="",e.newUnlockRubid="",e.config=null,e.utils=null,e.localData=null,e}return n(e,t),e.prototype.onLoad=function(){this.config=a.default.config,this.utils=a.default.utils,this.ownOpacity=this.node.opacity,this.localData=a.default.localData},e.prototype.start=function(){this.unlockRubPic=this.localData.readData(this.localData.DATA_KEY.UnlockRubid),this.newUnlockRubid=this.localData.readData(this.localData.DATA_KEY.NewUnlockRubid),this.Rubbish=this.config.RubData,this.node.on(cc.Node.EventType.TOUCH_START,this.clickRubbish.bind(this),this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.moveRubbish.bind(this),this),this.node.on(cc.Node.EventType.TOUCH_END,this.endRubbish.bind(this),this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.cancelRubbish.bind(this),this)},e.prototype.update=function(){if(this.config.RubTypePrompt&&!this.node.getChildByName("PackBg").active){var t=this.node.getChildByName("PackBg"),e="packbg"+this.rType;cc.loader.loadRes("Rubbish/rubbishs",cc.SpriteAtlas,function(o,i){if(o)a.default.applog.tips("\u5783\u573e\u63d0\u793a\u80cc\u666f"+e+"\u4e0d\u5b58\u5728");else{var n=i.getSpriteFrame(e);t.getComponent(cc.Sprite).spriteFrame=n,t.active=!0}})}},e.prototype.playAudio=function(t){void 0===t&&(t=0),this.config.MusicSwitch&&cc.audioEngine.play(this.audioClips[t],!1,1)},e.prototype.setProperty=function(t,e,o,i){this.rName=t,this.rCode=e,this.rType=o,this.srubbish=i},e.prototype.clickRubbish=function(t){if(this.fangkai=!1,this.rType>0){if(this.playAudio(2),this.playBinAnima(1),this.showNameNode.getComponent(cc.Label).string=this.rName,this.showNameNode.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.5,1.2),cc.scaleTo(.5,1)))),null==this.cloneNode){this.cloneNode=cc.instantiate(t.target),this.cloneNode.groupIndex=4;var e=this.cloneNode.getComponent("Rubbish");e.cloneType=this.rType,e.ownNode=t.target,this.cloneNode.parent=t.target.parent,this.cloneNode.setScale(this.changeScale.x,this.changeScale.y),this.cloneNode.getComponent(cc.CircleCollider).radius=this.cloneNode.width/2,this.node.opacity=this.changeOp}}else if(this.playAudio(1),this.srubbish&&null!=this.Rubbish&&!this.isLock){var o=this.srubbish.split(";"),i=this.node.parent,n=i.getComponent("Cabinet").emptyCell,c=n.length;if(c>0){c=o.length>=c+1?c>5?6:c+1:o.length;var a=o[0];o.splice(0,1),(o=this.utils.shuffle(o)).splice(c-1,0,a);for(var r=function(t){var e=s.Rubbish[o[t]];s.newUnlockRubid=s.unlockRubPic?-1==s.unlockRubPic.indexOf(o[t])?""!=s.newUnlockRubid?s.newUnlockRubid+","+o[t]:o[t]:s.newUnlockRubid:o[t],s.unlockRubPic=s.unlockRubPic?-1==s.unlockRubPic.indexOf(o[t])?s.unlockRubPic+","+o[t]:s.unlockRubPic:o[t];var a,r=cc.instantiate(s.node);r.getChildByName("dynamic").active=!1,r.getChildByName("Lock").active=!1,a=e.rtype+"_"+e.rubcode,cc.loader.loadRes("Rubbish/rubbishs",cc.SpriteAtlas,function(t,e){if(t)cc.error(t.message);else{var o=e.getSpriteFrame(a);r.getChildByName("Icon").getComponent(cc.Sprite).spriteFrame=o}});var l=r.getComponent("Rubbish");l.showNameNode=s.showNameNode,l.setProperty(e.rubname,e.rubcode,e.rtype,e.srubbish),t<c-1&&r.setPosition(n[t].x,n[t].y),i.addChild(r);var p=r.getChildByName("rubLight");p.active=!0,p.runAction(cc.fadeOut(.5)),r.runAction(cc.sequence(cc.scaleTo(.5,1.3,1.3),cc.scaleTo(.5,.8,.8),cc.scaleTo(.3,1,1)))},s=this,l=0;l<c;l++)r(l);this.localData.saveData(this.localData.DATA_KEY.UnlockRubid,this.unlockRubPic),this.localData.saveData(this.localData.DATA_KEY.NewUnlockRubid,this.newUnlockRubid),this.node.removeFromParent()}}},e.prototype.playBinAnima=function(t,e){if(this.binBox)if(null==e)for(var o=0,i=this.binBox.children;o<i.length;o++)i[o].getComponent("Bin").playAnima(t);else e.getComponent("Bin").playAnima(t)},e.prototype.stopBinAnima=function(t,e){if(this.binBox)if(null==e)for(var o=0,i=this.binBox.children;o<i.length;o++){var n=(c=i[o].getComponent(cc.Animation)).getClips();c.stop(n[t].name)}else{var c;n=(c=e.getComponent(cc.Animation)).getClips(),c.stop(n[t].name)}},e.prototype.moveRubbish=function(t){if(this.rType>0){var e=t.getDelta();this.cloneNode.x+=e.x,this.cloneNode.y+=e.y,this.CordonNode&&255==this.CordonNode.opacity&&(this.CordonNode.opacity=150)}},e.prototype.endRubbish=function(){this.rType>0&&(this.fangkai=!0,this.destroyCloneRubbish(),this.playBinAnima(0),this.CordonNode&&150==this.CordonNode.opacity&&(this.CordonNode.opacity=255)),this.showNameNode.stopAllActions()},e.prototype.cancelRubbish=function(t){if(this.rType>0){this.fangkai=!0;var e=t.target,o=cc.moveTo(.5,new cc.Vec2(e.x,e.y)),i=cc.callFunc(this.destroyCloneRubbish,this),n=cc.sequence(o,i);this.cloneNode.runAction(n),this.playBinAnima(0),this.CordonNode&&150==this.CordonNode.opacity&&(this.CordonNode.opacity=255)}this.showNameNode.stopAllActions()},e.prototype.destroyCloneRubbish=function(){this.playAudio(0),this.cloneNode.removeFromParent(),this.node.opacity=this.ownOpacity,this.cloneNode=null,this.node&&this.node.setScale(1,1)},e.prototype.eatCloneRubbish=function(t,e){var o=this;void 0===t&&(t=null),void 0===e&&(e=null);var i=this,n=cc.scaleTo(.2,0,0),c=cc.callFunc(function(){o.ownNode.getChildByName("PackBg").active=!1});if(t&&t.srubbish){var a=t.srubbish,r=parseInt(a);this.newUnlockRubid=this.unlockRubPic?-1==this.unlockRubPic.indexOf(a)?""!=this.newUnlockRubid?this.newUnlockRubid+","+a:a:this.newUnlockRubid:a,this.unlockRubPic=this.unlockRubPic?-1==this.unlockRubPic.indexOf(a)?this.unlockRubPic+","+a:this.unlockRubPic:a;var s,l=this.Rubbish[r];s=l.rtype+"_"+l.rubcode,cc.loader.loadRes("Rubbish/rubbishs",cc.SpriteAtlas,function(t,e){if(t)cc.error(t.message);else{var o=e.getSpriteFrame(s);i.node.getChildByName("Icon").getComponent(cc.Sprite).spriteFrame=o,i.node.getChildByName("NumIcon").active=!1,i.ownNode.getChildByName("Icon").getComponent(cc.Sprite).spriteFrame=o,i.ownNode.getChildByName("NumIcon").active=!1}}),t.rType=l.rtype,t.rName=l.rubname,t.rCode=l.rubcode,t.srubbish=l.srubbish,this.localData.saveData(this.localData.DATA_KEY.UnlockRubid,this.unlockRubPic),this.localData.saveData(this.localData.DATA_KEY.NewUnlockRubid,this.newUnlockRubid)}else this.node.removeFromParent(),c=cc.callFunc(function(){o.ownNode.removeFromParent()});var p=cc.sequence(n,c,cc.callFunc(e.monitorChildren.bind(e)));this.ownNode.runAction(p)},e.prototype.onCollisionEnter=function(){},e.prototype.onCollisionStay=function(t){var e=this.ownNode.getComponent("Rubbish");if(2==t.node.groupIndex&&e.fangkai&&(e.fangkai=!1,e.colbinObj=t.node,this.ownNode)){var o=t.node.getComponent("Bin");if(o.Type==this.cloneType){e.BinState=2;var i=o.propCom;i.progress++,i.setProgress()&&(e.BinState=4,a.default.NC.activeNotice(a.default.NOTICE_KEY.CHANGE_PROP,{bin:t.node,propCom:i}));var n=this.node.parent.getComponent("Cabinet");""!=e.srubbish&&null!=e.srubbish||n.emptyCell.push({x:this.ownNode.x,y:this.ownNode.y}),this.eatCloneRubbish(e,n),a.default.NC.activeNotice(a.default.NOTICE_KEY.FINISH_TASK)}else e.BinState=3,a.default.NC.activeNotice(a.default.NOTICE_KEY.MISPLACE_PUNISH);this.playBinAnima(e.BinState,t.node)}},e.prototype.onCollisionExit=function(){},e.prototype.onDestroy=function(){},c([l({type:cc.Node,tooltip:"\u5783\u573e\u6876\u7236\u8282\u70b9"})],e.prototype,"binBox",void 0),c([l({type:cc.AudioClip,tooltip:"\u97f3\u9891\u6587\u4ef6"})],e.prototype,"audioClips",void 0),c([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../Manager/Globle":"Globle"}],SetUpMgr:[function(t,e,o){"use strict";cc._RF.push(e,"5661bkx6HVHmoPiSDWm9f1E","SetUpMgr");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,i){var n,c=arguments.length,a=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(c<3?n(a):c>3?n(e,o,a):n(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.start=function(){},e.prototype.onEnable=function(){var t=this.node.getComponent(cc.Animation);t&&t.play()},c([r],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],ShopMgr:[function(t,e,o){"use strict";cc._RF.push(e,"201e5DxZbhGm5Gtyn1IfkLL","ShopMgr");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,i){var n,c=arguments.length,a=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(c<3?n(a):c>3?n(e,o,a):n(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},c([r],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],SkinBtn:[function(t,e,o){"use strict";cc._RF.push(e,"1e1d7SKo2RNP4OZGlD6NKaA","SkinBtn");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,i){var n,c=arguments.length,a=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(c<3?n(a):c>3?n(e,o,a):n(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../Manager/Globle"),r=cc._decorator,s=r.ccclass,l=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.binType=0,e.skinType="",e.isBought=!1,e.skinprice=0,e.localData=null,e}return n(e,t),e.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.buySkin.bind(this),this),this.localData=a.default.localData;var t=cc.winSize.width/4.05;this.node.setContentSize(t,t)},e.prototype.start=function(){},e.prototype.buySkin=function(){if(!this.node.getChildByName("check").active)if(this.node.getComponent("AudioManager").playDefualt(),this.isBought){var t={};(t=this.localData.readData(this.localData.DATA_KEY.UseBinSkins,!0))?t[this.binType]=this.skinType:t=a.default.config.BinSkin,this.localData.saveData(a.default.localData.DATA_KEY.UseBinSkins,t,!0);for(var e=0,o=this.node.parent.children;e<o.length;e++){var i=o[e];i.getComponent("SkinBtn").binType==this.binType&&(i.getChildByName("check").active=!1)}this.node.getChildByName("check").active=!0}else if(a.default.alert){var n=this.localData.readData(this.localData.DATA_KEY.PlayerTotleCoin),c="tip1";this.skinprice>=parseInt(n)&&(c="tip2",cc.color(230,20,46)),a.default.alert.show(c,"\u786e\u5b9a","\u53d6\u6d88",this.buySuccess.bind(this))}},e.prototype.buySuccess=function(t){if("\u786e\u5b9a"==t){var e=this.localData.readData(this.localData.DATA_KEY.PlayerTotleCoin);if(this.skinprice>=parseInt(e))return;var o={};(o=this.localData.readData(this.localData.DATA_KEY.HaveBinSkins,!0))?null==o[this.skinType]?o[this.skinType]=[this.binType.toString()]:o[this.skinType].push(this.binType.toString()):o=a.default.config.PlayerBinSkins,this.node.getChildByName("Goldcoin").active=!1,this.isBought=!0,this.buySkin(),this.localData.saveData(a.default.localData.DATA_KEY.HaveBinSkins,o,!0),e=(parseInt(e)-this.skinprice).toString(),this.localData.saveData(this.localData.DATA_KEY.PlayerTotleCoin,e),a.default.NC.activeNotice(a.default.NOTICE_KEY.SKINSHOP_COIN_SHOW,e)}else a.default.applog.tips("click cancel")},c([s],e)}(cc.Component));o.default=l,cc._RF.pop()},{"../../Manager/Globle":"Globle"}],SkinShop:[function(t,e,o){"use strict";cc._RF.push(e,"83ab4so3nhP56rPsKZ//XGP","SkinShop");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,i){var n,c=arguments.length,a=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(c<3?n(a):c>3?n(e,o,a):n(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../Manager/Globle"),r=cc._decorator,s=r.ccclass,l=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.coinlabel=null,e}return n(e,t),e.prototype.onLoad=function(){this.localData=a.default.localData,a.default.NC.addObserver(a.default.NOTICE_KEY.SKINSHOP_COIN_SHOW,this.showCoin.bind(this),this)},e.prototype.start=function(){var t=this.localData.readData(this.localData.DATA_KEY.PlayerTotleCoin);this.coinlabel.string=t||0},e.prototype.showCoin=function(t){void 0===t&&(t=""),this.coinlabel.string=t},e.prototype.onDestroy=function(){a.default.NC.removeObserver(a.default.NOTICE_KEY.SKINSHOP_COIN_SHOW,this)},c([l({type:cc.Label,tooltip:"\u7528\u6237\u91d1\u5e01\u6587\u672c"})],e.prototype,"coinlabel",void 0),c([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../Manager/Globle":"Globle"}],SocketMgr:[function(t,e,o){"use strict";cc._RF.push(e,"f6079TSqUpB/oW2atO3ka0y","SocketMgr");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,i){var n,c=arguments.length,a=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(c<3?n(a):c>3?n(e,o,a):n(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return n(e,t),e.prototype.start=function(){},c([s(cc.Label)],e.prototype,"label",void 0),c([s],e.prototype,"text",void 0),c([r],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],StageBtn:[function(t,e,o){"use strict";cc._RF.push(e,"53f897lY6JBL54xkDYcHgX4","StageBtn");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,i){var n,c=arguments.length,a=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(c<3?n(a):c>3?n(e,o,a):n(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../Manager/Globle"),r=cc._decorator,s=r.ccclass,l=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stage=0,e}return n(e,t),e.prototype.onLoad=function(){var t=this.node.getComponent(cc.Button);if(t){var e=new cc.Component.EventHandler;e.target=this.node,e.component="StageBtn",e.handler="selectLevel",e.customEventData="",t.clickEvents.push(e)}this.node.on(cc.Node.EventType.TOUCH_START,this.meScale.bind(this),this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.melessen.bind(this),this),this.node.on(cc.Node.EventType.TOUCH_END,this.melessen.bind(this),this)},e.prototype.selectLevel=function(){var t=a.default.localData,e=t.readData(t.DATA_KEY.PlayStage);this.stage,parseInt(e),t.saveData(t.DATA_KEY.SelectStage,this.stage),cc.director.loadScene("GameScene")},e.prototype.meScale=function(){this.node.getComponent(cc.Button).interactable&&this.node.runAction(cc.scaleTo(.1,1.1,1.1))},e.prototype.melessen=function(){this.node.getComponent(cc.Button).interactable&&this.node.runAction(cc.scaleTo(.1,1,1))},c([s],e)}(cc.Component));o.default=l,cc._RF.pop()},{"../../Manager/Globle":"Globle"}],StageMgr:[function(t,e,o){"use strict";cc._RF.push(e,"92245RALYJCKL5VODaNRPxU","StageMgr");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,i){var n,c=arguments.length,a=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(c<3?n(a):c>3?n(e,o,a):n(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../Manager/Globle"),r=cc._decorator,s=r.ccclass,l=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stageContent=null,e.stageThemePrefab=null,e.stageBtn=null,e.config=null,e.localData=null,e}return n(e,t),e.prototype.onLoad=function(){this.localData=a.default.localData,this.config=a.default.config},e.prototype.start=function(){},e.prototype.onEnable=function(){0==this.stageContent.children.length&&this.loadStageData()},e.prototype.loadStageData=function(){var t=this.localData.readData(this.localData.DATA_KEY.PlayStage);t=t?parseInt(t):0;var e=this.config.stageThemeData,o=cc.winSize.width/1080,i=o<.9?o<.88?52:85:43*o,n=function(o){var n=cc.instantiate(c.stageThemePrefab),a="Theme/"+e[o].theme+"/stagetheme";cc.loader.loadRes(a,cc.SpriteFrame,function(t,e){t?cc.error(t.message):n.getChildByName("ThemeIcon").getComponent(cc.Sprite).spriteFrame=e});var r=e[o].stage;if(r)for(var s=(r=r.split(";"))[0];s<=r[1];s++){var l=cc.instantiate(c.stageBtn);s<=t+1&&(l.getComponent(cc.Button).interactable=!0,s<=t&&(l.getChildByName("tick").active=!0)),l.getComponent("StageBtn").stage=s,l.getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string=s<10?"0"+s.toString():s,n.getChildByName("stageContent").getComponent(cc.Layout).paddingLeft=i,n.getChildByName("stageContent").addChild(l)}c.stageContent.addChild(n)},c=this;for(var a in e)n(a)},c([l({type:cc.Node,tooltip:"\u5173\u5361\u6570\u636e\u627f\u8f7d\u8282\u70b9"})],e.prototype,"stageContent",void 0),c([l({type:cc.Prefab,tooltip:"\u5173\u5361\u4e3b\u9898\u9884\u5236\u4f53"})],e.prototype,"stageThemePrefab",void 0),c([l({type:cc.Prefab,tooltip:"\u5173\u5361\u6309\u94ae\u9884\u5236\u4f53"})],e.prototype,"stageBtn",void 0),c([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../Manager/Globle":"Globle"}],TableView:[function(t,e,o){"use strict";cc._RF.push(e,"9a26d88mvpDbp4W9imkNmhW","TableView");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,i){var n,c=arguments.length,a=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(c<3?n(a):c>3?n(e,o,a):n(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.TabButton=[],e.TabView=[],e}return n(e,t),e.prototype.start=function(){var t=this;this.TabButton&&this.TabButton.forEach(function(e,o){var i=new cc.Component.EventHandler;i.target=t.node,i.component="TableView",i.handler="switchView",i.customEventData=o.toString(),e.clickEvents.push(i)},this)},e.prototype.switchView=function(t,e){this.TabView.length>Number(e)&&this.TabView.forEach(function(t,o){t?t.active=o==e:console.log("\u7f3a\u5c11\u5bf9\u8c61")})},c([s({type:cc.Button,tooltip:"\u9009\u9879\u5361\u6309\u94ae"})],e.prototype,"TabButton",void 0),c([s({type:cc.Node,tooltip:"\u663e\u793a\u7684\u9009\u9879\u5361\u8282\u70b9"})],e.prototype,"TabView",void 0),c([r],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],ThemeItem:[function(t,e,o){"use strict";cc._RF.push(e,"95a18vtb7xFvIOZ5D48TU03","ThemeItem");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,i){var n,c=arguments.length,a=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(c<3?n(a):c>3?n(e,o,a):n(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../Manager/Globle"),r=cc._decorator,s=r.ccclass,l=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.materials=[],e.themeStage=0,e}return n(e,t),e.prototype.onLoad=function(){var t=a.default.localData.readData(a.default.localData.DATA_KEY.PlayStage),e=Math.floor(parseInt(t)/20);this.themeStage<=e&&(this.node.getComponent(cc.Sprite).setMaterial(0,this.materials[1]),this.node.on(cc.Node.EventType.TOUCH_END,this.lookTheme.bind(this),this))},e.prototype.start=function(){var t=this,e="Theme/theme"+this.themeStage+"/stagetheme";cc.loader.loadRes(e,cc.SpriteFrame,function(e,o){e?cc.error(e.message):t.node.getComponent(cc.Sprite).spriteFrame=o})},e.prototype.lookTheme=function(){a.default.NC.activeNotice(a.default.NOTICE_KEY.LOOK_THEME_ANIMA,this.themeStage)},e.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.TOUCH_END,this.lookTheme.bind(this),this)},c([l({type:cc.Material,tooltip:"\u4e3b\u9898\u6750\u8d28"})],e.prototype,"materials",void 0),c([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../Manager/Globle":"Globle"}],Utils:[function(t,e,o){"use strict";cc._RF.push(e,"d38677w+BRGqIoJeMLNbRVA","Utils"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.getInstance=function(){return null==this._instance&&(this._instance=new t),this._instance},t.prototype.shuffle=function(t){for(var e,o=t.length;o;){var i=Math.floor(Math.random()*o--);e=[t[o],t[i]],t[i]=e[0],t[o]=e[1]}return t},t.prototype.randomNumArr=function(t){for(var e=[];0<t;0){var o=Math.floor(Math.random()*t)+1;t-=o,e.push(o)}return e},t.prototype.trimSpace=function(t){for(var e=0;e<t.length;e++)" "!=t[e]&&null!=t[e]&&0!=t[e]&&void 0!==t[e]||(t.splice(e,1),e-=1);return t},t.prototype.tipBox=function(t,e){void 0===t&&(t=""),void 0===e&&(e=2);var o=new cc.Node("TipBox"),i=o.addComponent(cc.Label);i.string=t,i.fontSize=30,cc.director.getScene().addChild(o),o.color=cc.color(0,0,0,255),o.setPosition(cc.winSize.width/2,cc.winSize.height/2),o.runAction(cc.sequence(cc.fadeIn(.5),cc.delayTime(e),cc.callFunc(function(){o.removeFromParent()})))},t}();o.default=i,cc._RF.pop()},{}],VictoryInterface:[function(t,e,o){"use strict";cc._RF.push(e,"c8d38ScPZhHPrVwpr11m9Xc","VictoryInterface");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,i){var n,c=arguments.length,a=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(c<3?n(a):c>3?n(e,o,a):n(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../Manager/Globle"),r=cc._decorator,s=r.ccclass,l=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.audioClips=[],e}return n(e,t),e.prototype.onLoad=function(){this.localData=a.default.localData,this.config=a.default.config},e.prototype.start=function(){this.playAudio(0)},e.prototype.showFireWork=function(){this.node.getChildByName("blk").getChildByName("Fireworks").getComponent(cc.Animation).play()},e.prototype.playAudio=function(t,e){void 0===t&&(t=0),void 0===e&&(e=!1),this.config.MusicSwitch&&cc.audioEngine.play(this.audioClips[t],e,1)},c([l({type:cc.AudioClip,tooltip:"\u97f3\u9891\u6587\u4ef6"})],e.prototype,"audioClips",void 0),c([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../Manager/Globle":"Globle"}],"use_v2.1-2.2.1_cc.Toggle_event":[function(t,e){"use strict";cc._RF.push(e,"e75a5ilEHpORpL44AsVgLcH","use_v2.1-2.2.1_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_isChecked=!0),cc._RF.pop()},{}]},{},["AlartMsg","EventMgr","HttpMgr","ItemPageG","ItemPageV","SocketMgr","TableView","Config","Language","LoadScene","LoginGame","EndScene","VictoryInterface","Bin","BinsMgr","Cabinet","CloneRub","Cordon","GameScene","Prop","PropMgr","Rubbish","RubbishMgr","MainScene","RubbishItem","SetUpMgr","ShopMgr","SkinBtn","SkinShop","StageBtn","StageMgr","ThemeItem","AppLog","AudioManager","Globle","LocalData","NotificationCenter","ReadCSV","Utils","use_v2.1-2.2.1_cc.Toggle_event"]);